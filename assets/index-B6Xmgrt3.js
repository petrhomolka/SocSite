(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qr(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const pe={},bs=[],ut=()=>{},Dl=()=>!1,Un=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),zr=e=>e.startsWith("onUpdate:"),Re=Object.assign,Kr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Hl=Object.prototype.hasOwnProperty,ae=(e,t)=>Hl.call(e,t),Y=Array.isArray,ws=e=>cn(e)==="[object Map]",Mn=e=>cn(e)==="[object Set]",Si=e=>cn(e)==="[object Date]",Z=e=>typeof e=="function",Te=e=>typeof e=="string",ht=e=>typeof e=="symbol",_e=e=>e!==null&&typeof e=="object",Vo=e=>(_e(e)||Z(e))&&Z(e.then)&&Z(e.catch),Go=Object.prototype.toString,cn=e=>Go.call(e),Fl=e=>cn(e).slice(8,-1),qo=e=>cn(e)==="[object Object]",Wr=e=>Te(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fs=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Bl=/-(\w)/g,Xe=Dn(e=>e.replace(Bl,(t,s)=>s?s.toUpperCase():"")),Vl=/\B([A-Z])/g,es=Dn(e=>e.replace(Vl,"-$1").toLowerCase()),Hn=Dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),tr=Dn(e=>e?`on${Hn(e)}`:""),Dt=(e,t)=>!Object.is(e,t),kn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},zo=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},$n=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ei;const Fn=()=>Ei||(Ei=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jr(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Te(n)?Kl(n):Jr(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Te(e)||_e(e))return e}const Gl=/;(?![^(]*\))/g,ql=/:([^]+)/,zl=/\/\*[^]*?\*\//g;function Kl(e){const t={};return e.replace(zl,"").split(Gl).forEach(s=>{if(s){const n=s.split(ql);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function kt(e){let t="";if(Te(e))t=e;else if(Y(e))for(let s=0;s<e.length;s++){const n=kt(e[s]);n&&(t+=n+" ")}else if(_e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Wl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jl=qr(Wl);function Ko(e){return!!e||e===""}function Xl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Es(e[n],t[n]);return s}function Es(e,t){if(e===t)return!0;let s=Si(e),n=Si(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ht(e),n=ht(t),s||n)return e===t;if(s=Y(e),n=Y(t),s||n)return s&&n?Xl(e,t):!1;if(s=_e(e),n=_e(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Es(e[o],t[o]))return!1}}return String(e)===String(t)}function Yl(e,t){return e.findIndex(s=>Es(s,t))}const Wo=e=>!!(e&&e.__v_isRef===!0),V=e=>Te(e)?e:e==null?"":Y(e)||_e(e)&&(e.toString===Go||!Z(e.toString))?Wo(e)?V(e.value):JSON.stringify(e,Jo,2):String(e),Jo=(e,t)=>Wo(t)?Jo(e,t.value):ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[sr(n,i)+" =>"]=r,s),{})}:Mn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>sr(s))}:ht(t)?sr(t):_e(t)&&!Y(t)&&!qo(t)?String(t):t,sr=(e,t="")=>{var s;return ht(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;class Xo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ie,!t&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ie;try{return Ie=this,t()}finally{Ie=s}}}on(){Ie=this}off(){Ie=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Yo(e){return new Xo(e)}function Qo(){return Ie}function Ql(e,t=!1){Ie&&Ie.cleanups.push(e)}let ve;const nr=new WeakSet;class Zo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ie&&Ie.active&&Ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nr.has(this)&&(nr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ta(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ti(this),sa(this);const t=ve,s=Ze;ve=this,Ze=!0;try{return this.fn()}finally{na(this),ve=t,Ze=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qr(t);this.deps=this.depsTail=void 0,Ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){kr(this)&&this.run()}get dirty(){return kr(this)}}let ea=0,Bs,Vs;function ta(e,t=!1){if(e.flags|=8,t){e.next=Vs,Vs=e;return}e.next=Bs,Bs=e}function Xr(){ea++}function Yr(){if(--ea>0)return;if(Vs){let t=Vs;for(Vs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Bs;){let t=Bs;for(Bs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function sa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function na(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Qr(n),Zl(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function kr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ra(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ra(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zs))return;e.globalVersion=Zs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!kr(e)){e.flags&=-3;return}const s=ve,n=Ze;ve=e,Ze=!0;try{sa(e);const r=e.fn(e._value);(t.version===0||Dt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ve=s,Ze=n,na(e),e.flags&=-3}}function Qr(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Qr(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Zl(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ze=!0;const ia=[];function Ft(){ia.push(Ze),Ze=!1}function Bt(){const e=ia.pop();Ze=e===void 0?!0:e}function Ti(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ve;ve=void 0;try{t()}finally{ve=s}}}let Zs=0;class ec{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ve||!Ze||ve===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ve)s=this.activeLink=new ec(ve,this),ve.deps?(s.prevDep=ve.depsTail,ve.depsTail.nextDep=s,ve.depsTail=s):ve.deps=ve.depsTail=s,oa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ve.depsTail,s.nextDep=void 0,ve.depsTail.nextDep=s,ve.depsTail=s,ve.deps===s&&(ve.deps=n)}return s}trigger(t){this.version++,Zs++,this.notify(t)}notify(t){Xr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yr()}}}function oa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)oa(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const An=new WeakMap,Xt=Symbol(""),Sr=Symbol(""),en=Symbol("");function Oe(e,t,s){if(Ze&&ve){let n=An.get(e);n||An.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Zr),r.map=n,r.key=s),r.track()}}function bt(e,t,s,n,r,i){const o=An.get(e);if(!o){Zs++;return}const a=l=>{l&&l.trigger()};if(Xr(),t==="clear")o.forEach(a);else{const l=Y(e),u=l&&Wr(s);if(l&&s==="length"){const c=Number(n);o.forEach((f,h)=>{(h==="length"||h===en||!ht(h)&&h>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(en)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Xt)),ws(e)&&a(o.get(Sr)));break;case"delete":l||(a(o.get(Xt)),ws(e)&&a(o.get(Sr)));break;case"set":ws(e)&&a(o.get(Xt));break}}Yr()}function tc(e,t){const s=An.get(e);return s&&s.get(t)}function os(e){const t=re(e);return t===e?t:(Oe(t,"iterate",en),Je(e)?t:t.map(Ce))}function Bn(e){return Oe(e=re(e),"iterate",en),e}const sc={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,Ce)},concat(...e){return os(this).concat(...e.map(t=>Y(t)?os(t):t))},entries(){return rr(this,"entries",e=>(e[1]=Ce(e[1]),e))},every(e,t){return mt(this,"every",e,t,void 0,arguments)},filter(e,t){return mt(this,"filter",e,t,s=>s.map(Ce),arguments)},find(e,t){return mt(this,"find",e,t,Ce,arguments)},findIndex(e,t){return mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mt(this,"findLast",e,t,Ce,arguments)},findLastIndex(e,t){return mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ir(this,"includes",e)},indexOf(...e){return ir(this,"indexOf",e)},join(e){return os(this).join(e)},lastIndexOf(...e){return ir(this,"lastIndexOf",e)},map(e,t){return mt(this,"map",e,t,void 0,arguments)},pop(){return js(this,"pop")},push(...e){return js(this,"push",e)},reduce(e,...t){return $i(this,"reduce",e,t)},reduceRight(e,...t){return $i(this,"reduceRight",e,t)},shift(){return js(this,"shift")},some(e,t){return mt(this,"some",e,t,void 0,arguments)},splice(...e){return js(this,"splice",e)},toReversed(){return os(this).toReversed()},toSorted(e){return os(this).toSorted(e)},toSpliced(...e){return os(this).toSpliced(...e)},unshift(...e){return js(this,"unshift",e)},values(){return rr(this,"values",Ce)}};function rr(e,t,s){const n=Bn(e),r=n[t]();return n!==e&&!Je(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const nc=Array.prototype;function mt(e,t,s,n,r,i){const o=Bn(e),a=o!==e&&!Je(e),l=o[t];if(l!==nc[t]){const f=l.apply(e,i);return a?Ce(f):f}let u=s;o!==e&&(a?u=function(f,h){return s.call(this,Ce(f),h,e)}:s.length>2&&(u=function(f,h){return s.call(this,f,h,e)}));const c=l.call(o,u,n);return a&&r?r(c):c}function $i(e,t,s,n){const r=Bn(e);let i=s;return r!==e&&(Je(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Ce(a),l,e)}),r[t](i,...n)}function ir(e,t,s){const n=re(e);Oe(n,"iterate",en);const r=n[t](...s);return(r===-1||r===!1)&&si(s[0])?(s[0]=re(s[0]),n[t](...s)):r}function js(e,t,s=[]){Ft(),Xr();const n=re(e)[t].apply(e,s);return Yr(),Bt(),n}const rc=qr("__proto__,__v_isRef,__isVue"),aa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ht));function ic(e){ht(e)||(e=String(e));const t=re(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class la{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?gc:ha:i?fa:ua).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=Y(t);if(!r){let l;if(o&&(l=sc[s]))return l;if(s==="hasOwnProperty")return ic}const a=Reflect.get(t,s,Se(t)?t:n);return(ht(s)?aa.has(s):rc(s))||(r||Oe(t,"get",s),i)?a:Se(a)?o&&Wr(s)?a:a.value:_e(a)?r?pa(a):Rs(a):a}}class ca extends la{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Qt(i);if(!Je(n)&&!Qt(n)&&(i=re(i),n=re(n)),!Y(t)&&Se(i)&&!Se(n))return l?!1:(i.value=n,!0)}const o=Y(t)&&Wr(s)?Number(s)<t.length:ae(t,s),a=Reflect.set(t,s,n,Se(t)?t:r);return t===re(r)&&(o?Dt(n,i)&&bt(t,"set",s,n):bt(t,"add",s,n)),a}deleteProperty(t,s){const n=ae(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&bt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!ht(s)||!aa.has(s))&&Oe(t,"has",s),n}ownKeys(t){return Oe(t,"iterate",Y(t)?"length":Xt),Reflect.ownKeys(t)}}class oc extends la{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ac=new ca,lc=new oc,cc=new ca(!0);const Er=e=>e,pn=e=>Reflect.getPrototypeOf(e);function uc(e,t,s){return function(...n){const r=this.__v_raw,i=re(r),o=ws(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...n),c=s?Er:t?Tr:Ce;return!t&&Oe(i,"iterate",l?Sr:Xt),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function gn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fc(e,t){const s={get(r){const i=this.__v_raw,o=re(i),a=re(r);e||(Dt(r,a)&&Oe(o,"get",r),Oe(o,"get",a));const{has:l}=pn(o),u=t?Er:e?Tr:Ce;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Oe(re(r),"iterate",Xt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=re(i),a=re(r);return e||(Dt(r,a)&&Oe(o,"has",r),Oe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=re(a),u=t?Er:e?Tr:Ce;return!e&&Oe(l,"iterate",Xt),a.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return Re(s,e?{add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear")}:{add(r){!t&&!Je(r)&&!Qt(r)&&(r=re(r));const i=re(this);return pn(i).has.call(i,r)||(i.add(r),bt(i,"add",r,r)),this},set(r,i){!t&&!Je(i)&&!Qt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=pn(o);let u=a.call(o,r);u||(r=re(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Dt(i,c)&&bt(o,"set",r,i):bt(o,"add",r,i),this},delete(r){const i=re(this),{has:o,get:a}=pn(i);let l=o.call(i,r);l||(r=re(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&bt(i,"delete",r,void 0),u},clear(){const r=re(this),i=r.size!==0,o=r.clear();return i&&bt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=uc(r,e,t)}),s}function ei(e,t){const s=fc(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ae(s,r)&&r in n?s:n,r,i)}const hc={get:ei(!1,!1)},dc={get:ei(!1,!0)},pc={get:ei(!0,!1)};const ua=new WeakMap,fa=new WeakMap,ha=new WeakMap,gc=new WeakMap;function mc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vc(e){return e.__v_skip||!Object.isExtensible(e)?0:mc(Fl(e))}function Rs(e){return Qt(e)?e:ti(e,!1,ac,hc,ua)}function da(e){return ti(e,!1,cc,dc,fa)}function pa(e){return ti(e,!0,lc,pc,ha)}function ti(e,t,s,n,r){if(!_e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=vc(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function Ht(e){return Qt(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Qt(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function si(e){return e?!!e.__v_raw:!1}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function ni(e){return!ae(e,"__v_skip")&&Object.isExtensible(e)&&zo(e,"__v_skip",!0),e}const Ce=e=>_e(e)?Rs(e):e,Tr=e=>_e(e)?pa(e):e;function Se(e){return e?e.__v_isRef===!0:!1}function W(e){return ga(e,!1)}function _c(e){return ga(e,!0)}function ga(e,t){return Se(e)?e:new yc(e,t)}class yc{constructor(t,s){this.dep=new Zr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:re(t),this._value=s?t:Ce(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Je(t)||Qt(t);t=n?t:re(t),Dt(t,s)&&(this._rawValue=t,this._value=n?t:Ce(t),this.dep.trigger())}}function ft(e){return Se(e)?e.value:e}const bc={get:(e,t,s)=>t==="__v_raw"?e:ft(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function ma(e){return Ht(e)?e:new Proxy(e,bc)}function wc(e){const t=Y(e)?new Array(e.length):{};for(const s in e)t[s]=Sc(e,s);return t}class kc{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tc(re(this._object),this._key)}}function Sc(e,t,s){const n=e[t];return Se(n)?n:new kc(e,t,s)}class Ec{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Zr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return ta(this,!0),!0}get value(){const t=this.dep.track();return ra(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Tc(e,t,s=!1){let n,r;return Z(e)?n=e:(n=e.get,r=e.set),new Ec(n,r,s)}const mn={},Pn=new WeakMap;let Kt;function $c(e,t=!1,s=Kt){if(s){let n=Pn.get(s);n||Pn.set(s,n=[]),n.push(e)}}function Ac(e,t,s=pe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=R=>r?R:Je(R)||r===!1||r===0?wt(R,1):wt(R);let c,f,h,d,v=!1,_=!1;if(Se(e)?(f=()=>e.value,v=Je(e)):Ht(e)?(f=()=>u(e),v=!0):Y(e)?(_=!0,v=e.some(R=>Ht(R)||Je(R)),f=()=>e.map(R=>{if(Se(R))return R.value;if(Ht(R))return u(R);if(Z(R))return l?l(R,2):R()})):Z(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Ft();try{h()}finally{Bt()}}const R=Kt;Kt=c;try{return l?l(e,3,[d]):e(d)}finally{Kt=R}}:f=ut,t&&r){const R=f,T=r===!0?1/0:r;f=()=>wt(R(),T)}const y=Qo(),w=()=>{c.stop(),y&&y.active&&Kr(y.effects,c)};if(i&&t){const R=t;t=(...T)=>{R(...T),w()}}let N=_?new Array(e.length).fill(mn):mn;const C=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(t){const T=c.run();if(r||v||(_?T.some((I,k)=>Dt(I,N[k])):Dt(T,N))){h&&h();const I=Kt;Kt=c;try{const k=[T,N===mn?void 0:_&&N[0]===mn?[]:N,d];l?l(t,3,k):t(...k),N=T}finally{Kt=I}}}else c.run()};return a&&a(C),c=new Zo(f),c.scheduler=o?()=>o(C,!1):C,d=R=>$c(R,!1,c),h=c.onStop=()=>{const R=Pn.get(c);if(R){if(l)l(R,4);else for(const T of R)T();Pn.delete(c)}},t?n?C(!0):N=c.run():o?o(C.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function wt(e,t=1/0,s){if(t<=0||!_e(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Se(e))wt(e.value,t,s);else if(Y(e))for(let n=0;n<e.length;n++)wt(e[n],t,s);else if(Mn(e)||ws(e))e.forEach(n=>{wt(n,t,s)});else if(qo(e)){for(const n in e)wt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&wt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function un(e,t,s,n){try{return n?e(...n):e()}catch(r){Vn(r,t,s)}}function dt(e,t,s,n){if(Z(e)){const r=un(e,t,s,n);return r&&Vo(r)&&r.catch(i=>{Vn(i,t,s)}),r}if(Y(e)){const r=[];for(let i=0;i<e.length;i++)r.push(dt(e[i],t,s,n));return r}}function Vn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||pe;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(i){Ft(),un(i,null,10,[e,l,u]),Bt();return}}Pc(e,s,r,n,o)}function Pc(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const je=[];let lt=-1;const ks=[];let xt=null,ms=0;const va=Promise.resolve();let On=null;function Gn(e){const t=On||va;return e?t.then(this?e.bind(this):e):t}function Oc(e){let t=lt+1,s=je.length;for(;t<s;){const n=t+s>>>1,r=je[n],i=tn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function ri(e){if(!(e.flags&1)){const t=tn(e),s=je[je.length-1];!s||!(e.flags&2)&&t>=tn(s)?je.push(e):je.splice(Oc(t),0,e),e.flags|=1,_a()}}function _a(){On||(On=va.then(ba))}function Cc(e){Y(e)?ks.push(...e):xt&&e.id===-1?xt.splice(ms+1,0,e):e.flags&1||(ks.push(e),e.flags|=1),_a()}function Ai(e,t,s=lt+1){for(;s<je.length;s++){const n=je[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;je.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ya(e){if(ks.length){const t=[...new Set(ks)].sort((s,n)=>tn(s)-tn(n));if(ks.length=0,xt){xt.push(...t);return}for(xt=t,ms=0;ms<xt.length;ms++){const s=xt[ms];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}xt=null,ms=0}}const tn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ba(e){try{for(lt=0;lt<je.length;lt++){const t=je[lt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),un(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;lt<je.length;lt++){const t=je[lt];t&&(t.flags&=-2)}lt=-1,je.length=0,ya(),On=null,(je.length||ks.length)&&ba()}}let Fe=null,wa=null;function Cn(e){const t=Fe;return Fe=e,wa=e&&e.type.__scopeId||null,t}function ys(e,t=Fe,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Ui(-1);const i=Cn(t);let o;try{o=e(...r)}finally{Cn(i),n._d&&Ui(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function le(e,t){if(Fe===null)return e;const s=Wn(Fe),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=pe]=t[r];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&wt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Gt(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Ft(),dt(l,s,8,[e.el,a,e,t]),Bt())}}const Rc=Symbol("_vte"),xc=e=>e.__isTeleport;function ii(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ii(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function ka(e,t){return Z(e)?Re({name:e.name},t,{setup:e}):e}function Sa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rn(e,t,s,n,r=!1){if(Y(e)){e.forEach((v,_)=>Rn(v,t&&(Y(t)?t[_]:t),s,n,r));return}if(Gs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Rn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Wn(n.component):n.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===pe?a.refs={}:a.refs,f=a.setupState,h=re(f),d=f===pe?()=>!1:v=>ae(h,v);if(u!=null&&u!==l&&(Te(u)?(c[u]=null,d(u)&&(f[u]=null)):Se(u)&&(u.value=null)),Z(l))un(l,a,12,[o,c]);else{const v=Te(l),_=Se(l);if(v||_){const y=()=>{if(e.f){const w=v?d(l)?f[l]:c[l]:l.value;r?Y(w)&&Kr(w,i):Y(w)?w.includes(i)||w.push(i):v?(c[l]=[i],d(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else v?(c[l]=o,d(l)&&(f[l]=o)):_&&(l.value=o,e.k&&(c[e.k]=o))};o?(y.id=-1,Ge(y,s)):y()}}}Fn().requestIdleCallback;Fn().cancelIdleCallback;const Gs=e=>!!e.type.__asyncLoader,Ea=e=>e.type.__isKeepAlive;function Ta(e,t){Aa(e,"a",t)}function $a(e,t){Aa(e,"da",t)}function Aa(e,t,s=Pe){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(qn(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Ea(r.parent.vnode)&&Ic(n,t,s,r),r=r.parent}}function Ic(e,t,s,n){const r=qn(t,e,n,!0);oi(()=>{Kr(n[t],r)},s)}function qn(e,t,s=Pe,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ft();const a=fn(s),l=dt(t,s,e,o);return a(),Bt(),l});return n?r.unshift(i):r.push(i),i}}const Et=e=>(t,s=Pe)=>{(!nn||e==="sp")&&qn(e,(...n)=>t(...n),s)},Pa=Et("bm"),Tt=Et("m"),jc=Et("bu"),Lc=Et("u"),Nc=Et("bum"),oi=Et("um"),Uc=Et("sp"),Mc=Et("rtg"),Dc=Et("rtc");function Hc(e,t=Pe){qn("ec",e,t)}const Fc="components";function ai(e,t){return Vc(Fc,e,!0,t)||e}const Bc=Symbol.for("v-ndc");function Vc(e,t,s=!0,n=!1){const r=Fe||Pe;if(r){const i=r.type;{const a=Cu(i,!1);if(a&&(a===t||a===Xe(t)||a===Hn(Xe(t))))return i}const o=Pi(r[e]||i[e],t)||Pi(r.appContext[e],t);return!o&&n?i:o}}function Pi(e,t){return e&&(e[t]||e[Xe(t)]||e[Hn(Xe(t))])}function Ye(e,t,s,n){let r;const i=s,o=Y(e);if(o||Te(e)){const a=o&&Ht(e);let l=!1;a&&(l=!Je(e),e=Bn(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?Ce(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(_e(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,i)}}else r=[];return r}const $r=e=>e?Ja(e)?Wn(e):$r(e.parent):null,qs=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$r(e.parent),$root:e=>$r(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ca(e),$forceUpdate:e=>e.f||(e.f=()=>{ri(e.update)}),$nextTick:e=>e.n||(e.n=Gn.bind(e.proxy)),$watch:e=>fu.bind(e)}),or=(e,t)=>e!==pe&&!e.__isScriptSetup&&ae(e,t),Gc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(or(n,t))return o[t]=1,n[t];if(r!==pe&&ae(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&ae(u,t))return o[t]=3,i[t];if(s!==pe&&ae(s,t))return o[t]=4,s[t];Ar&&(o[t]=0)}}const c=qs[t];let f,h;if(c)return t==="$attrs"&&Oe(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==pe&&ae(s,t))return o[t]=4,s[t];if(h=l.config.globalProperties,ae(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return or(r,t)?(r[t]=s,!0):n!==pe&&ae(n,t)?(n[t]=s,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==pe&&ae(e,o)||or(t,o)||(a=i[0])&&ae(a,o)||ae(n,o)||ae(qs,o)||ae(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ae(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Oi(e){return Y(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ar=!0;function qc(e){const t=Ca(e),s=e.proxy,n=e.ctx;Ar=!1,t.beforeCreate&&Ci(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:_,deactivated:y,beforeDestroy:w,beforeUnmount:N,destroyed:C,unmounted:R,render:T,renderTracked:I,renderTriggered:k,errorCaptured:x,serverPrefetch:j,expose:q,inheritAttrs:fe,components:ce,directives:Ue,filters:Vt}=t;if(u&&zc(u,n,null),o)for(const ee in o){const ie=o[ee];Z(ie)&&(n[ee]=ie.bind(s))}if(r){const ee=r.call(s,s);_e(ee)&&(e.data=Rs(ee))}if(Ar=!0,i)for(const ee in i){const ie=i[ee],gt=Z(ie)?ie.bind(s,s):Z(ie.get)?ie.get.bind(s,s):ut,At=!Z(ie)&&Z(ie.set)?ie.set.bind(s):ut,st=Ee({get:gt,set:At});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>st.value,set:Me=>st.value=Me})}if(a)for(const ee in a)Oa(a[ee],n,s,ee);if(l){const ee=Z(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(ie=>{Sn(ie,ee[ie])})}c&&Ci(c,e,"c");function ye(ee,ie){Y(ie)?ie.forEach(gt=>ee(gt.bind(s))):ie&&ee(ie.bind(s))}if(ye(Pa,f),ye(Tt,h),ye(jc,d),ye(Lc,v),ye(Ta,_),ye($a,y),ye(Hc,x),ye(Dc,I),ye(Mc,k),ye(Nc,N),ye(oi,R),ye(Uc,j),Y(q))if(q.length){const ee=e.exposed||(e.exposed={});q.forEach(ie=>{Object.defineProperty(ee,ie,{get:()=>s[ie],set:gt=>s[ie]=gt})})}else e.exposed||(e.exposed={});T&&e.render===ut&&(e.render=T),fe!=null&&(e.inheritAttrs=fe),ce&&(e.components=ce),Ue&&(e.directives=Ue),j&&Sa(e)}function zc(e,t,s=ut){Y(e)&&(e=Pr(e));for(const n in e){const r=e[n];let i;_e(r)?"default"in r?i=Ke(r.from||n,r.default,!0):i=Ke(r.from||n):i=Ke(r),Se(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Ci(e,t,s){dt(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Oa(e,t,s,n){let r=n.includes(".")?Ga(s,n):()=>s[n];if(Te(e)){const i=t[e];Z(i)&&zs(r,i)}else if(Z(e))zs(r,e.bind(s));else if(_e(e))if(Y(e))e.forEach(i=>Oa(i,t,s,n));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&zs(r,i,e)}}function Ca(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(u=>xn(l,u,o,!0)),xn(l,t,o)),_e(t)&&i.set(t,l),l}function xn(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&xn(e,i,s,!0),r&&r.forEach(o=>xn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Kc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Kc={data:Ri,props:xi,emits:xi,methods:Ds,computed:Ds,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:Ds,directives:Ds,watch:Jc,provide:Ri,inject:Wc};function Ri(e,t){return t?e?function(){return Re(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Wc(e,t){return Ds(Pr(e),Pr(t))}function Pr(e){if(Y(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ds(e,t){return e?Re(Object.create(null),e,t):t}function xi(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Re(Object.create(null),Oi(e),Oi(t??{})):t}function Jc(e,t){if(!e)return t;if(!t)return e;const s=Re(Object.create(null),e);for(const n in t)s[n]=xe(e[n],t[n]);return s}function Ra(){return{app:null,config:{isNativeTag:Dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xc=0;function Yc(e,t){return function(n,r=null){Z(n)||(n=Re({},n)),r!=null&&!_e(r)&&(r=null);const i=Ra(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Xc++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:xu,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(u,...f)):Z(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||Le(n,r);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,Wn(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(dt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Yt;Yt=u;try{return c()}finally{Yt=f}}};return u}}let Yt=null;function Sn(e,t){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[e]=t}}function Ke(e,t,s=!1){const n=Pe||Fe;if(n||Yt){const r=Yt?Yt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Z(t)?t.call(n&&n.proxy):t}}function Qc(){return!!(Pe||Fe||Yt)}const xa={},Ia=()=>Object.create(xa),ja=e=>Object.getPrototypeOf(e)===xa;function Zc(e,t,s,n=!1){const r={},i=Ia();e.propsDefaults=Object.create(null),La(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:da(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function eu(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=re(r),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(zn(e.emitsOptions,h))continue;const d=t[h];if(l)if(ae(i,h))d!==i[h]&&(i[h]=d,u=!0);else{const v=Xe(h);r[v]=Or(l,a,v,d,e,!1)}else d!==i[h]&&(i[h]=d,u=!0)}}}else{La(e,t,r,i)&&(u=!0);let c;for(const f in a)(!t||!ae(t,f)&&((c=es(f))===f||!ae(t,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=Or(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!ae(t,f))&&(delete i[f],u=!0)}u&&bt(e.attrs,"set","")}function La(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Fs(l))continue;const u=t[l];let c;r&&ae(r,c=Xe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:zn(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=re(s),u=a||pe;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Or(r,l,f,u[f],e,!ae(u,f))}}return o}function Or(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=ae(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=fn(r);n=u[s]=l.call(null,t),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===es(s))&&(n=!0))}return n}const tu=new WeakMap;function Na(e,t,s=!1){const n=s?tu:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const c=f=>{l=!0;const[h,d]=Na(f,t,!0);Re(o,h),d&&a.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return _e(e)&&n.set(e,bs),bs;if(Y(i))for(let c=0;c<i.length;c++){const f=Xe(i[c]);Ii(f)&&(o[f]=pe)}else if(i)for(const c in i){const f=Xe(c);if(Ii(f)){const h=i[c],d=o[f]=Y(h)||Z(h)?{type:h}:Re({},h),v=d.type;let _=!1,y=!0;if(Y(v))for(let w=0;w<v.length;++w){const N=v[w],C=Z(N)&&N.name;if(C==="Boolean"){_=!0;break}else C==="String"&&(y=!1)}else _=Z(v)&&v.name==="Boolean";d[0]=_,d[1]=y,(_||ae(d,"default"))&&a.push(f)}}const u=[o,a];return _e(e)&&n.set(e,u),u}function Ii(e){return e[0]!=="$"&&!Fs(e)}const Ua=e=>e[0]==="_"||e==="$stable",li=e=>Y(e)?e.map(ct):[ct(e)],su=(e,t,s)=>{if(t._n)return t;const n=ys((...r)=>li(t(...r)),s);return n._c=!1,n},Ma=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Ua(r))continue;const i=e[r];if(Z(i))t[r]=su(r,i,n);else if(i!=null){const o=li(i);t[r]=()=>o}}},Da=(e,t)=>{const s=li(t);e.slots.default=()=>s},Ha=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},nu=(e,t,s)=>{const n=e.slots=Ia();if(e.vnode.shapeFlag&32){const r=t._;r?(Ha(n,t,s),s&&zo(n,"_",r,!0)):Ma(t,n)}else t&&Da(e,t)},ru=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=pe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Ha(r,t,s):(i=!t.$stable,Ma(t,r)),o=t}else t&&(Da(e,t),o={default:1});if(i)for(const a in r)!Ua(a)&&o[a]==null&&delete r[a]},Ge=_u;function iu(e){return ou(e)}function ou(e,t){const s=Fn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=ut,insertStaticContent:v}=e,_=(p,m,b,$=null,O=null,P=null,H=void 0,D=null,U=!!m.dynamicChildren)=>{if(p===m)return;p&&!Ls(p,m)&&($=A(p),Me(p,O,P,!0),p=null),m.patchFlag===-2&&(U=!1,m.dynamicChildren=null);const{type:L,ref:X,shapeFlag:G}=m;switch(L){case Kn:y(p,m,b,$);break;case Zt:w(p,m,b,$);break;case lr:p==null&&N(m,b,$,H);break;case ke:ce(p,m,b,$,O,P,H,D,U);break;default:G&1?T(p,m,b,$,O,P,H,D,U):G&6?Ue(p,m,b,$,O,P,H,D,U):(G&64||G&128)&&L.process(p,m,b,$,O,P,H,D,U,K)}X!=null&&O&&Rn(X,p&&p.ref,P,m||p,!m)},y=(p,m,b,$)=>{if(p==null)n(m.el=a(m.children),b,$);else{const O=m.el=p.el;m.children!==p.children&&u(O,m.children)}},w=(p,m,b,$)=>{p==null?n(m.el=l(m.children||""),b,$):m.el=p.el},N=(p,m,b,$)=>{[p.el,p.anchor]=v(p.children,m,b,$,p.el,p.anchor)},C=({el:p,anchor:m},b,$)=>{let O;for(;p&&p!==m;)O=h(p),n(p,b,$),p=O;n(m,b,$)},R=({el:p,anchor:m})=>{let b;for(;p&&p!==m;)b=h(p),r(p),p=b;r(m)},T=(p,m,b,$,O,P,H,D,U)=>{m.type==="svg"?H="svg":m.type==="math"&&(H="mathml"),p==null?I(m,b,$,O,P,H,D,U):j(p,m,O,P,H,D,U)},I=(p,m,b,$,O,P,H,D)=>{let U,L;const{props:X,shapeFlag:G,transition:J,dirs:Q}=p;if(U=p.el=o(p.type,P,X&&X.is,X),G&8?c(U,p.children):G&16&&x(p.children,U,null,$,O,ar(p,P),H,D),Q&&Gt(p,null,$,"created"),k(U,p,p.scopeId,H,$),X){for(const ge in X)ge!=="value"&&!Fs(ge)&&i(U,ge,null,X[ge],P,$);"value"in X&&i(U,"value",null,X.value,P),(L=X.onVnodeBeforeMount)&&ot(L,$,p)}Q&&Gt(p,null,$,"beforeMount");const ne=au(O,J);ne&&J.beforeEnter(U),n(U,m,b),((L=X&&X.onVnodeMounted)||ne||Q)&&Ge(()=>{L&&ot(L,$,p),ne&&J.enter(U),Q&&Gt(p,null,$,"mounted")},O)},k=(p,m,b,$,O)=>{if(b&&d(p,b),$)for(let P=0;P<$.length;P++)d(p,$[P]);if(O){let P=O.subTree;if(m===P||za(P.type)&&(P.ssContent===m||P.ssFallback===m)){const H=O.vnode;k(p,H,H.scopeId,H.slotScopeIds,O.parent)}}},x=(p,m,b,$,O,P,H,D,U=0)=>{for(let L=U;L<p.length;L++){const X=p[L]=D?It(p[L]):ct(p[L]);_(null,X,m,b,$,O,P,H,D)}},j=(p,m,b,$,O,P,H)=>{const D=m.el=p.el;let{patchFlag:U,dynamicChildren:L,dirs:X}=m;U|=p.patchFlag&16;const G=p.props||pe,J=m.props||pe;let Q;if(b&&qt(b,!1),(Q=J.onVnodeBeforeUpdate)&&ot(Q,b,m,p),X&&Gt(m,p,b,"beforeUpdate"),b&&qt(b,!0),(G.innerHTML&&J.innerHTML==null||G.textContent&&J.textContent==null)&&c(D,""),L?q(p.dynamicChildren,L,D,b,$,ar(m,O),P):H||ie(p,m,D,null,b,$,ar(m,O),P,!1),U>0){if(U&16)fe(D,G,J,b,O);else if(U&2&&G.class!==J.class&&i(D,"class",null,J.class,O),U&4&&i(D,"style",G.style,J.style,O),U&8){const ne=m.dynamicProps;for(let ge=0;ge<ne.length;ge++){const ue=ne[ge],Be=G[ue],De=J[ue];(De!==Be||ue==="value")&&i(D,ue,Be,De,O,b)}}U&1&&p.children!==m.children&&c(D,m.children)}else!H&&L==null&&fe(D,G,J,b,O);((Q=J.onVnodeUpdated)||X)&&Ge(()=>{Q&&ot(Q,b,m,p),X&&Gt(m,p,b,"updated")},$)},q=(p,m,b,$,O,P,H)=>{for(let D=0;D<m.length;D++){const U=p[D],L=m[D],X=U.el&&(U.type===ke||!Ls(U,L)||U.shapeFlag&70)?f(U.el):b;_(U,L,X,null,$,O,P,H,!0)}},fe=(p,m,b,$,O)=>{if(m!==b){if(m!==pe)for(const P in m)!Fs(P)&&!(P in b)&&i(p,P,m[P],null,O,$);for(const P in b){if(Fs(P))continue;const H=b[P],D=m[P];H!==D&&P!=="value"&&i(p,P,D,H,O,$)}"value"in b&&i(p,"value",m.value,b.value,O)}},ce=(p,m,b,$,O,P,H,D,U)=>{const L=m.el=p?p.el:a(""),X=m.anchor=p?p.anchor:a("");let{patchFlag:G,dynamicChildren:J,slotScopeIds:Q}=m;Q&&(D=D?D.concat(Q):Q),p==null?(n(L,b,$),n(X,b,$),x(m.children||[],b,X,O,P,H,D,U)):G>0&&G&64&&J&&p.dynamicChildren?(q(p.dynamicChildren,J,b,O,P,H,D),(m.key!=null||O&&m===O.subTree)&&Fa(p,m,!0)):ie(p,m,b,X,O,P,H,D,U)},Ue=(p,m,b,$,O,P,H,D,U)=>{m.slotScopeIds=D,p==null?m.shapeFlag&512?O.ctx.activate(m,b,$,H,U):Vt(m,b,$,O,P,H,U):$t(p,m,U)},Vt=(p,m,b,$,O,P,H)=>{const D=p.component=Tu(p,$,O);if(Ea(p)&&(D.ctx.renderer=K),$u(D,!1,H),D.asyncDep){if(O&&O.registerDep(D,ye,H),!p.el){const U=D.subTree=Le(Zt);w(null,U,m,b)}}else ye(D,p,m,b,O,P,H)},$t=(p,m,b)=>{const $=m.component=p.component;if(mu(p,m,b))if($.asyncDep&&!$.asyncResolved){ee($,m,b);return}else $.next=m,$.update();else m.el=p.el,$.vnode=m},ye=(p,m,b,$,O,P,H)=>{const D=()=>{if(p.isMounted){let{next:G,bu:J,u:Q,parent:ne,vnode:ge}=p;{const rt=Ba(p);if(rt){G&&(G.el=ge.el,ee(p,G,H)),rt.asyncDep.then(()=>{p.isUnmounted||D()});return}}let ue=G,Be;qt(p,!1),G?(G.el=ge.el,ee(p,G,H)):G=ge,J&&kn(J),(Be=G.props&&G.props.onVnodeBeforeUpdate)&&ot(Be,ne,G,ge),qt(p,!0);const De=Li(p),nt=p.subTree;p.subTree=De,_(nt,De,f(nt.el),A(nt),p,O,P),G.el=De.el,ue===null&&vu(p,De.el),Q&&Ge(Q,O),(Be=G.props&&G.props.onVnodeUpdated)&&Ge(()=>ot(Be,ne,G,ge),O)}else{let G;const{el:J,props:Q}=m,{bm:ne,m:ge,parent:ue,root:Be,type:De}=p,nt=Gs(m);qt(p,!1),ne&&kn(ne),!nt&&(G=Q&&Q.onVnodeBeforeMount)&&ot(G,ue,m),qt(p,!0);{Be.ce&&Be.ce._injectChildStyle(De);const rt=p.subTree=Li(p);_(null,rt,b,$,p,O,P),m.el=rt.el}if(ge&&Ge(ge,O),!nt&&(G=Q&&Q.onVnodeMounted)){const rt=m;Ge(()=>ot(G,ue,rt),O)}(m.shapeFlag&256||ue&&Gs(ue.vnode)&&ue.vnode.shapeFlag&256)&&p.a&&Ge(p.a,O),p.isMounted=!0,m=b=$=null}};p.scope.on();const U=p.effect=new Zo(D);p.scope.off();const L=p.update=U.run.bind(U),X=p.job=U.runIfDirty.bind(U);X.i=p,X.id=p.uid,U.scheduler=()=>ri(X),qt(p,!0),L()},ee=(p,m,b)=>{m.component=p;const $=p.vnode.props;p.vnode=m,p.next=null,eu(p,m.props,$,b),ru(p,m.children,b),Ft(),Ai(p),Bt()},ie=(p,m,b,$,O,P,H,D,U=!1)=>{const L=p&&p.children,X=p?p.shapeFlag:0,G=m.children,{patchFlag:J,shapeFlag:Q}=m;if(J>0){if(J&128){At(L,G,b,$,O,P,H,D,U);return}else if(J&256){gt(L,G,b,$,O,P,H,D,U);return}}Q&8?(X&16&&We(L,O,P),G!==L&&c(b,G)):X&16?Q&16?At(L,G,b,$,O,P,H,D,U):We(L,O,P,!0):(X&8&&c(b,""),Q&16&&x(G,b,$,O,P,H,D,U))},gt=(p,m,b,$,O,P,H,D,U)=>{p=p||bs,m=m||bs;const L=p.length,X=m.length,G=Math.min(L,X);let J;for(J=0;J<G;J++){const Q=m[J]=U?It(m[J]):ct(m[J]);_(p[J],Q,b,null,O,P,H,D,U)}L>X?We(p,O,P,!0,!1,G):x(m,b,$,O,P,H,D,U,G)},At=(p,m,b,$,O,P,H,D,U)=>{let L=0;const X=m.length;let G=p.length-1,J=X-1;for(;L<=G&&L<=J;){const Q=p[L],ne=m[L]=U?It(m[L]):ct(m[L]);if(Ls(Q,ne))_(Q,ne,b,null,O,P,H,D,U);else break;L++}for(;L<=G&&L<=J;){const Q=p[G],ne=m[J]=U?It(m[J]):ct(m[J]);if(Ls(Q,ne))_(Q,ne,b,null,O,P,H,D,U);else break;G--,J--}if(L>G){if(L<=J){const Q=J+1,ne=Q<X?m[Q].el:$;for(;L<=J;)_(null,m[L]=U?It(m[L]):ct(m[L]),b,ne,O,P,H,D,U),L++}}else if(L>J)for(;L<=G;)Me(p[L],O,P,!0),L++;else{const Q=L,ne=L,ge=new Map;for(L=ne;L<=J;L++){const Ve=m[L]=U?It(m[L]):ct(m[L]);Ve.key!=null&&ge.set(Ve.key,L)}let ue,Be=0;const De=J-ne+1;let nt=!1,rt=0;const Is=new Array(De);for(L=0;L<De;L++)Is[L]=0;for(L=Q;L<=G;L++){const Ve=p[L];if(Be>=De){Me(Ve,O,P,!0);continue}let it;if(Ve.key!=null)it=ge.get(Ve.key);else for(ue=ne;ue<=J;ue++)if(Is[ue-ne]===0&&Ls(Ve,m[ue])){it=ue;break}it===void 0?Me(Ve,O,P,!0):(Is[it-ne]=L+1,it>=rt?rt=it:nt=!0,_(Ve,m[it],b,null,O,P,H,D,U),Be++)}const wi=nt?lu(Is):bs;for(ue=wi.length-1,L=De-1;L>=0;L--){const Ve=ne+L,it=m[Ve],ki=Ve+1<X?m[Ve+1].el:$;Is[L]===0?_(null,it,b,ki,O,P,H,D,U):nt&&(ue<0||L!==wi[ue]?st(it,b,ki,2):ue--)}}},st=(p,m,b,$,O=null)=>{const{el:P,type:H,transition:D,children:U,shapeFlag:L}=p;if(L&6){st(p.component.subTree,m,b,$);return}if(L&128){p.suspense.move(m,b,$);return}if(L&64){H.move(p,m,b,K);return}if(H===ke){n(P,m,b);for(let G=0;G<U.length;G++)st(U[G],m,b,$);n(p.anchor,m,b);return}if(H===lr){C(p,m,b);return}if($!==2&&L&1&&D)if($===0)D.beforeEnter(P),n(P,m,b),Ge(()=>D.enter(P),O);else{const{leave:G,delayLeave:J,afterLeave:Q}=D,ne=()=>n(P,m,b),ge=()=>{G(P,()=>{ne(),Q&&Q()})};J?J(P,ne,ge):ge()}else n(P,m,b)},Me=(p,m,b,$=!1,O=!1)=>{const{type:P,props:H,ref:D,children:U,dynamicChildren:L,shapeFlag:X,patchFlag:G,dirs:J,cacheIndex:Q}=p;if(G===-2&&(O=!1),D!=null&&Rn(D,null,b,p,!0),Q!=null&&(m.renderCache[Q]=void 0),X&256){m.ctx.deactivate(p);return}const ne=X&1&&J,ge=!Gs(p);let ue;if(ge&&(ue=H&&H.onVnodeBeforeUnmount)&&ot(ue,m,p),X&6)dn(p.component,b,$);else{if(X&128){p.suspense.unmount(b,$);return}ne&&Gt(p,null,m,"beforeUnmount"),X&64?p.type.remove(p,m,b,K,$):L&&!L.hasOnce&&(P!==ke||G>0&&G&64)?We(L,m,b,!1,!0):(P===ke&&G&384||!O&&X&16)&&We(U,m,b),$&&rs(p)}(ge&&(ue=H&&H.onVnodeUnmounted)||ne)&&Ge(()=>{ue&&ot(ue,m,p),ne&&Gt(p,null,m,"unmounted")},b)},rs=p=>{const{type:m,el:b,anchor:$,transition:O}=p;if(m===ke){is(b,$);return}if(m===lr){R(p);return}const P=()=>{r(b),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(p.shapeFlag&1&&O&&!O.persisted){const{leave:H,delayLeave:D}=O,U=()=>H(b,P);D?D(p.el,P,U):U()}else P()},is=(p,m)=>{let b;for(;p!==m;)b=h(p),r(p),p=b;r(m)},dn=(p,m,b)=>{const{bum:$,scope:O,job:P,subTree:H,um:D,m:U,a:L}=p;ji(U),ji(L),$&&kn($),O.stop(),P&&(P.flags|=8,Me(H,p,m,b)),D&&Ge(D,m),Ge(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},We=(p,m,b,$=!1,O=!1,P=0)=>{for(let H=P;H<p.length;H++)Me(p[H],m,b,$,O)},A=p=>{if(p.shapeFlag&6)return A(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=h(p.anchor||p.el),b=m&&m[Rc];return b?h(b):m};let z=!1;const F=(p,m,b)=>{p==null?m._vnode&&Me(m._vnode,null,null,!0):_(m._vnode||null,p,m,null,null,null,b),m._vnode=p,z||(z=!0,Ai(),ya(),z=!1)},K={p:_,um:Me,m:st,r:rs,mt:Vt,mc:x,pc:ie,pbc:q,n:A,o:e};return{render:F,hydrate:void 0,createApp:Yc(F)}}function ar({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function au(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fa(e,t,s=!1){const n=e.children,r=t.children;if(Y(n)&&Y(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=It(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Fa(o,a)),a.type===Kn&&(a.el=o.el)}}function lu(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(r=s[s.length-1],e[r]<u){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Ba(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ba(t)}function ji(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cu=Symbol.for("v-scx"),uu=()=>Ke(cu);function zs(e,t,s){return Va(e,t,s)}function Va(e,t,s=pe){const{immediate:n,deep:r,flush:i,once:o}=s,a=Re({},s),l=t&&n||!t&&i!=="post";let u;if(nn){if(i==="sync"){const d=uu();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=ut,d.resume=ut,d.pause=ut,d}}const c=Pe;a.call=(d,v,_)=>dt(d,c,v,_);let f=!1;i==="post"?a.scheduler=d=>{Ge(d,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(d,v)=>{v?d():ri(d)}),a.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Ac(e,t,a);return nn&&(u?u.push(h):l&&h()),h}function fu(e,t,s){const n=this.proxy,r=Te(e)?e.includes(".")?Ga(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,s=t);const o=fn(this),a=Va(r,i.bind(n),s);return o(),a}function Ga(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const hu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xe(t)}Modifiers`]||e[`${es(t)}Modifiers`];function du(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||pe;let r=s;const i=t.startsWith("update:"),o=i&&hu(n,t.slice(7));o&&(o.trim&&(r=s.map(c=>Te(c)?c.trim():c)),o.number&&(r=s.map($n)));let a,l=n[a=tr(t)]||n[a=tr(Xe(t))];!l&&i&&(l=n[a=tr(es(t))]),l&&dt(l,e,6,r);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(u,e,6,r)}}function qa(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=u=>{const c=qa(u,t,!0);c&&(a=!0,Re(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(_e(e)&&n.set(e,null),null):(Y(i)?i.forEach(l=>o[l]=null):Re(o,i),_e(e)&&n.set(e,o),o)}function zn(e,t){return!e||!Un(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,es(t))||ae(e,t))}function Li(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:v,inheritAttrs:_}=e,y=Cn(e);let w,N;try{if(s.shapeFlag&4){const R=r||n,T=R;w=ct(u.call(T,R,c,f,d,h,v)),N=a}else{const R=t;w=ct(R.length>1?R(f,{attrs:a,slots:o,emit:l}):R(f,null)),N=t.props?a:pu(a)}}catch(R){Ks.length=0,Vn(R,e,1),w=Le(Zt)}let C=w;if(N&&_!==!1){const R=Object.keys(N),{shapeFlag:T}=C;R.length&&T&7&&(i&&R.some(zr)&&(N=gu(N,i)),C=Ts(C,N,!1,!0))}return s.dirs&&(C=Ts(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&ii(C,s.transition),w=C,Cn(y),w}const pu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Un(s))&&((t||(t={}))[s]=e[s]);return t},gu=(e,t)=>{const s={};for(const n in e)(!zr(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function mu(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Ni(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==n[h]&&!zn(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ni(n,o,u):!0:!!o;return!1}function Ni(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!zn(s,i))return!0}return!1}function vu({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const za=e=>e.__isSuspense;function _u(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):Cc(e)}const ke=Symbol.for("v-fgt"),Kn=Symbol.for("v-txt"),Zt=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),Ks=[];let ze=null;function S(e=!1){Ks.push(ze=e?null:[])}function yu(){Ks.pop(),ze=Ks[Ks.length-1]||null}let sn=1;function Ui(e,t=!1){sn+=e,e<0&&ze&&t&&(ze.hasOnce=!0)}function Ka(e){return e.dynamicChildren=sn>0?ze||bs:null,yu(),sn>0&&ze&&ze.push(e),e}function E(e,t,s,n,r,i){return Ka(g(e,t,s,n,r,i,!0))}function Mt(e,t,s,n,r){return Ka(Le(e,t,s,n,r,!0))}function In(e){return e?e.__v_isVNode===!0:!1}function Ls(e,t){return e.type===t.type&&e.key===t.key}const Wa=({key:e})=>e??null,En=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Te(e)||Se(e)||Z(e)?{i:Fe,r:e,k:t,f:!!s}:e:null);function g(e,t=null,s=null,n=0,r=null,i=e===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wa(t),ref:t&&En(t),scopeId:wa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Fe};return a?(ci(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Te(s)?8:16),sn>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const Le=bu;function bu(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===Bc)&&(e=Zt),In(e)){const a=Ts(e,t,!0);return s&&ci(a,s),sn>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(e)]=a:ze.push(a)),a.patchFlag=-2,a}if(Ru(e)&&(e=e.__vccOpts),t){t=wu(t);let{class:a,style:l}=t;a&&!Te(a)&&(t.class=kt(a)),_e(l)&&(si(l)&&!Y(l)&&(l=Re({},l)),t.style=Jr(l))}const o=Te(e)?1:za(e)?128:xc(e)?64:_e(e)?4:Z(e)?2:0;return g(e,t,s,n,r,o,i,!0)}function wu(e){return e?si(e)||ja(e)?Re({},e):e:null}function Ts(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?ku(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Wa(u),ref:t&&t.ref?s&&i?Y(i)?i.concat(En(t)):[i,En(t)]:En(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ts(e.ssContent),ssFallback:e.ssFallback&&Ts(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ii(c,l.clone(c)),c}function pt(e=" ",t=0){return Le(Kn,null,e,t)}function M(e="",t=!1){return t?(S(),Mt(Zt,null,e)):Le(Zt,null,e)}function ct(e){return e==null||typeof e=="boolean"?Le(Zt):Y(e)?Le(ke,null,e.slice()):In(e)?It(e):Le(Kn,null,String(e))}function It(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ts(e)}function ci(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),ci(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!ja(t)?t._ctx=Fe:r===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:Fe},s=32):(t=String(t),n&64?(s=16,t=[pt(t)]):s=8);e.children=t,e.shapeFlag|=s}function ku(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=kt([t.class,n.class]));else if(r==="style")t.style=Jr([t.style,n.style]);else if(Un(r)){const i=t[r],o=n[r];o&&i!==o&&!(Y(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function ot(e,t,s,n=null){dt(e,t,7,[s,n])}const Su=Ra();let Eu=0;function Tu(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Su,i={uid:Eu++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Na(n,r),emitsOptions:qa(n,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:n.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=du.bind(null,i),e.ce&&e.ce(i),i}let Pe=null,jn,Cr;{const e=Fn(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};jn=t("__VUE_INSTANCE_SETTERS__",s=>Pe=s),Cr=t("__VUE_SSR_SETTERS__",s=>nn=s)}const fn=e=>{const t=Pe;return jn(e),e.scope.on(),()=>{e.scope.off(),jn(t)}},Mi=()=>{Pe&&Pe.scope.off(),jn(null)};function Ja(e){return e.vnode.shapeFlag&4}let nn=!1;function $u(e,t=!1,s=!1){t&&Cr(t);const{props:n,children:r}=e.vnode,i=Ja(e);Zc(e,n,i,t),nu(e,r,s);const o=i?Au(e,t):void 0;return t&&Cr(!1),o}function Au(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gc);const{setup:n}=s;if(n){Ft();const r=e.setupContext=n.length>1?Ou(e):null,i=fn(e),o=un(n,e,0,[e.props,r]),a=Vo(o);if(Bt(),i(),(a||e.sp)&&!Gs(e)&&Sa(e),a){if(o.then(Mi,Mi),t)return o.then(l=>{Di(e,l)}).catch(l=>{Vn(l,e,0)});e.asyncDep=o}else Di(e,o)}else Xa(e)}function Di(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_e(t)&&(e.setupState=ma(t)),Xa(e)}function Xa(e,t,s){const n=e.type;e.render||(e.render=n.render||ut);{const r=fn(e);Ft();try{qc(e)}finally{Bt(),r()}}}const Pu={get(e,t){return Oe(e,"get",""),e[t]}};function Ou(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Pu),slots:e.slots,emit:e.emit,expose:t}}function Wn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ma(ni(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in qs)return qs[s](e)},has(t,s){return s in t||s in qs}})):e.proxy}function Cu(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function Ru(e){return Z(e)&&"__vccOpts"in e}const Ee=(e,t)=>Tc(e,t,nn);function Ya(e,t,s){const n=arguments.length;return n===2?_e(t)&&!Y(t)?In(t)?Le(e,null,[t]):Le(e,t):Le(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&In(s)&&(s=[s]),Le(e,t,s))}const xu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;const Hi=typeof window<"u"&&window.trustedTypes;if(Hi)try{Rr=Hi.createPolicy("vue",{createHTML:e=>e})}catch{}const Qa=Rr?e=>Rr.createHTML(e):e=>e,Iu="http://www.w3.org/2000/svg",ju="http://www.w3.org/1998/Math/MathML",_t=typeof document<"u"?document:null,Fi=_t&&_t.createElement("template"),Lu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?_t.createElementNS(Iu,e):t==="mathml"?_t.createElementNS(ju,e):s?_t.createElement(e,{is:s}):_t.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>_t.createTextNode(e),createComment:e=>_t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>_t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Fi.innerHTML=Qa(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Fi.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Nu=Symbol("_vtc");function Uu(e,t,s){const n=e[Nu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Bi=Symbol("_vod"),Mu=Symbol("_vsh"),Du=Symbol(""),Hu=/(^|;)\s*display\s*:/;function Fu(e,t,s){const n=e.style,r=Te(s);let i=!1;if(s&&!r){if(t)if(Te(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Tn(n,a,"")}else for(const o in t)s[o]==null&&Tn(n,o,"");for(const o in s)o==="display"&&(i=!0),Tn(n,o,s[o])}else if(r){if(t!==s){const o=n[Du];o&&(s+=";"+o),n.cssText=s,i=Hu.test(s)}}else t&&e.removeAttribute("style");Bi in e&&(e[Bi]=i?n.display:"",e[Mu]&&(n.display="none"))}const Vi=/\s*!important$/;function Tn(e,t,s){if(Y(s))s.forEach(n=>Tn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Bu(e,t);Vi.test(s)?e.setProperty(es(n),s.replace(Vi,""),"important"):e[n]=s}}const Gi=["Webkit","Moz","ms"],cr={};function Bu(e,t){const s=cr[t];if(s)return s;let n=Xe(t);if(n!=="filter"&&n in e)return cr[t]=n;n=Hn(n);for(let r=0;r<Gi.length;r++){const i=Gi[r]+n;if(i in e)return cr[t]=i}return t}const qi="http://www.w3.org/1999/xlink";function zi(e,t,s,n,r,i=Jl(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(qi,t.slice(6,t.length)):e.setAttributeNS(qi,t,s):s==null||i&&!Ko(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ht(s)?String(s):s)}function Ki(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Qa(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Ko(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Nt(e,t,s,n){e.addEventListener(t,s,n)}function Vu(e,t,s,n){e.removeEventListener(t,s,n)}const Wi=Symbol("_vei");function Gu(e,t,s,n,r=null){const i=e[Wi]||(e[Wi]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=qu(t);if(n){const u=i[t]=Wu(n,r);Nt(e,a,u,l)}else o&&(Vu(e,a,o,l),i[t]=void 0)}}const Ji=/(?:Once|Passive|Capture)$/;function qu(e){let t;if(Ji.test(e)){t={};let n;for(;n=e.match(Ji);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):es(e.slice(2)),t]}let ur=0;const zu=Promise.resolve(),Ku=()=>ur||(zu.then(()=>ur=0),ur=Date.now());function Wu(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;dt(Ju(n,s.value),t,5,[n])};return s.value=e,s.attached=Ku(),s}function Ju(e,t){if(Y(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Xi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xu=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?Uu(e,n,o):t==="style"?Fu(e,s,n):Un(t)?zr(t)||Gu(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yu(e,t,n,o))?(Ki(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zi(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Te(n))?Ki(e,Xe(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),zi(e,t,n,o))};function Yu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Xi(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Xi(t)&&Te(s)?!1:t in e}const $s=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?s=>kn(t,s):t};function Qu(e){e.target.composing=!0}function Yi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const St=Symbol("_assign"),de={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[St]=$s(r);const i=n||r.props&&r.props.type==="number";Nt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=$n(a)),e[St](a)}),s&&Nt(e,"change",()=>{e.value=e.value.trim()}),t||(Nt(e,"compositionstart",Qu),Nt(e,"compositionend",Yi),Nt(e,"change",Yi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[St]=$s(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?$n(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Qi={created(e,{value:t},s){e.checked=Es(t,s.props.value),e[St]=$s(s),Nt(e,"change",()=>{e[St](rn(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[St]=$s(n),t!==s&&(e.checked=Es(t,n.props.value))}},Zu={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=Mn(t);Nt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?$n(rn(o)):rn(o));e[St](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,Gn(()=>{e._assigning=!1})}),e[St]=$s(n)},mounted(e,{value:t}){Zi(e,t)},beforeUpdate(e,t,s){e[St]=$s(s)},updated(e,{value:t}){e._assigning||Zi(e,t)}};function Zi(e,t){const s=e.multiple,n=Y(t);if(!(s&&!n&&!Mn(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=rn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=Yl(t,a)>-1}else o.selected=t.has(a);else if(Es(rn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function rn(e){return"_value"in e?e._value:e.value}const ef=["ctrl","shift","alt","meta"],tf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ef.some(s=>e[`${s}Key`]&&!t.includes(s))},et=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=tf[t[o]];if(a&&a(r,t))return}return e(r,...i)})},sf=Re({patchProp:Xu},Lu);let eo;function nf(){return eo||(eo=iu(sf))}const rf=(...e)=>{const t=nf().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=af(n);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,of(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function of(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function af(e){return Te(e)?document.querySelector(e):e}const lf="modulepreload",cf=function(e,t){return new URL(e,t).href},to={},As=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(s.map(c=>{if(c=cf(c,n),c in to)return;to[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!n)for(let _=a.length-1;_>=0;_--){const y=a[_];if(y.href===c&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":lf,f||(v.as="script"),v.crossOrigin="",v.href=c,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((_,y)=>{v.addEventListener("load",_),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class ui extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class ff extends ui{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hf extends ui{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class df extends ui{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xr;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xr||(xr={}));var pf=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class gf{constructor(t,{headers:s={},customFetch:n,region:r=xr.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=uf(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return pf(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(v=>{throw new ff(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new hf(c);if(!c.ok)throw new df(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield c.json():h==="application/octet-stream"?d=yield c.blob():h==="text/event-stream"?d=c:h==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var $e={},as={},ls={},cs={},us={},fs={},_f=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ps=_f();const yf=Ps.fetch,Za=Ps.fetch.bind(Ps),el=Ps.Headers,bf=Ps.Request,wf=Ps.Response,xs=Object.freeze(Object.defineProperty({__proto__:null,Headers:el,Request:bf,Response:wf,default:Za,fetch:yf},Symbol.toStringTag,{value:"Module"})),kf=vf(xs);var vn={},so;function tl(){if(so)return vn;so=1,Object.defineProperty(vn,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return vn.default=e,vn}var no;function sl(){if(no)return fs;no=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(kf),s=e(tl());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,f,h;let d=null,v=null,_=null,y=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const T=await u.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=T:v=JSON.parse(T))}const C=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),R=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&R&&R.length>1&&(_=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(d={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,_=null,y=406,w="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const C=await u.text();try{d=JSON.parse(C),Array.isArray(d)&&u.status===404&&(v=[],d=null,y=200,w="OK")}catch{u.status===404&&C===""?(y=204,w="No Content"):d={message:C}}if(d&&this.isMaybeSingle&&(!((h=d==null?void 0:d.details)===null||h===void 0)&&h.includes("0 rows"))&&(d=null,y=200,w="OK"),d&&this.shouldThrowOnError)throw new s.default(d)}return{error:d,data:v,count:_,status:y,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,f,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return fs.default=n,fs}var ro;function nl(){if(ro)return us;ro=1;var e=us&&us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(us,"__esModule",{value:!0});const t=e(sl());class s extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return us.default=s,us}var io;function fi(){if(io)return cs;io=1;var e=cs&&cs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(nl());class s extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return cs.default=s,cs}var oo;function rl(){if(oo)return ls;oo=1;var e=ls&&ls.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ls,"__esModule",{value:!0});const t=e(fi());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const f=r.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(f.length>0){const h=[...new Set(f)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ls.default=s,ls}var Ns={},Us={},ao;function Sf(){return ao||(ao=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.version=void 0,Us.version="0.0.0-automated"),Us}var lo;function Ef(){if(lo)return Ns;lo=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.DEFAULT_HEADERS=void 0;const e=Sf();return Ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ns}var co;function Tf(){if(co)return as;co=1;var e=as&&as.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(as,"__esModule",{value:!0});const t=e(rl()),s=e(fi()),n=Ef();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let d;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([_,y])=>y!==void 0).map(([_,y])=>[_,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([_,y])=>{h.searchParams.append(_,y)})):(f="POST",d=a);const v=Object.assign({},this.headers);return c&&(v.Prefer=`count=${c}`),new s.default({method:f,url:h,headers:v,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}return as.default=r,as}var uo;function $f(){if(uo)return $e;uo=1;var e=$e&&$e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($e,"__esModule",{value:!0}),$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const t=e(Tf());$e.PostgrestClient=t.default;const s=e(rl());$e.PostgrestQueryBuilder=s.default;const n=e(fi());$e.PostgrestFilterBuilder=n.default;const r=e(nl());$e.PostgrestTransformBuilder=r.default;const i=e(sl());$e.PostgrestBuilder=i.default;const o=e(tl());return $e.PostgrestError=o.default,$e.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},$e}var Af=$f();const Pf=mf(Af),{PostgrestClient:Of,PostgrestQueryBuilder:A_,PostgrestFilterBuilder:P_,PostgrestTransformBuilder:O_,PostgrestBuilder:C_,PostgrestError:R_}=Pf,Cf="2.11.2",Rf={"X-Client-Info":`realtime-js/${Cf}`},xf="1.0.0",il=1e4,If=1e3;var Ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ss||(Ss={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var Ir;(function(e){e.websocket="websocket"})(Ir||(Ir={}));var Jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jt||(Jt={}));class jf{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o=o+r;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ol{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(me||(me={}));const fo=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Lf(o,e,t,r),i),{})},Lf=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=s[e];return i&&!n.includes(i)?al(i,o):jr(o)},al=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Df(t,s)}switch(e){case me.bool:return Nf(t);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Uf(t);case me.json:case me.jsonb:return Mf(t);case me.timestamp:return Hf(t);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return jr(t);default:return jr(t)}},jr=e=>e,Nf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Df=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>al(t,a))}return e},Hf=e=>typeof e=="string"?e.replace(" ","T"):e,ll=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fr{constructor(t,s,n={},r=il){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ho;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ho||(ho={}));class Ws{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ws.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ws.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(y=>y.presence_ref),d=f.map(y=>y.presence_ref),v=c.filter(y=>d.indexOf(y.presence_ref)<0),_=f.filter(y=>h.indexOf(y.presence_ref)<0);v.length>0&&(a[u]=v),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var po;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(po||(po={}));var go;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(go||(go={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class hi{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fr(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new ol(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ws(this),this.broadcastEndpointURL=ll(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(yt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(yt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(yt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let _=0;_<d;_++){const y=h[_],{filter:{event:w,schema:N,table:C,filter:R}}=y,T=c&&c[_];if(T&&T.event===w&&T.schema===N&&T.table===C&&T.filter===R)v.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(yt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new fr(this,Qe.leave,{},t);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new fr(this,t,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Qe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(d=>{var v,_,y;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((y=(_=d.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(d=>d.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var v,_,y,w,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const R=d.id,T=(v=d.filter)===null||v===void 0?void 0:v.event;return R&&((_=s.ids)===null||_===void 0?void 0:_.includes(R))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const R=(N=(w=d==null?void 0:d.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return R==="*"||R===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:_,table:y,commit_timestamp:w,type:N,errors:C}=v;h=Object.assign(Object.assign({},{schema:_,table:y,commit_timestamp:w,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(v))}d.callback(h,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&hi.isEqual(r.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=fo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=fo(t.columns,t.old_record)),s}}const Ff=()=>{},Bf=typeof WebSocket<"u",Vf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gf{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Rf,this.params={},this.timeout=il,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ff,this.conn=null,this.sendBuffer=[],this.serializer=new jf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>As(async()=>{const{default:l}=await Promise.resolve().then(()=>xs);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ir.websocket}`,this.httpEndpoint=ll(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ol(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),As(async()=>{const{default:t}=await import("./browser-Dhk7wHmG.js").then(s=>s.b);return{default:t}},[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xf}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return Jt.Connecting;case Ss.open:return Jt.Open;case Ss.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}channel(t,s={config:{}}){const n=new hi(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Qe.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(If,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Vf],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class qf{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ss.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class di extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zf extends di{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lr extends di{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Kf=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const cl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Wf=()=>Kf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield As(()=>Promise.resolve().then(()=>xs),void 0,import.meta.url)).Response:Response}),Nr=e=>{if(Array.isArray(e))return e.map(s=>Nr(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Nr(n)}),t};var ts=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jf=(e,t,s)=>ts(void 0,void 0,void 0,function*(){const n=yield Wf();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(r=>{t(new zf(hr(r),e.status||500))}).catch(r=>{t(new Lr(hr(r),r))}):t(new Lr(hr(e),e))}),Xf=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function hn(e,t,s,n,r,i){return ts(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Xf(t,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Jf(l,a,n))})})}function Ln(e,t,s,n){return ts(this,void 0,void 0,function*(){return hn(e,"GET",t,s,n)})}function jt(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"POST",t,n,r,s)})}function Yf(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"PUT",t,n,r,s)})}function Qf(e,t,s,n){return ts(this,void 0,void 0,function*(){return hn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function ul(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"DELETE",t,n,r,s)})}var He=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Zf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eh{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=cl(r)}uploadOrUpdate(t,s,n,r){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mo),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}upload(t,s,n){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:mo.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return He(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new di("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}update(t,s,n){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return He(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}copy(t,s,n){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield jt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return He(this,void 0,void 0,function*(){try{const r=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}download(t,s){return He(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ln(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}info(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Ln(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Nr(n),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}exists(t){return He(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Qf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ae(n)&&n instanceof Lr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return He(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}list(t,s,n){return He(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Zf),s),{prefix:t||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const th="2.7.1",sh={"X-Client-Info":`storage-js/${th}`};var hs=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class nh{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},sh),s),this.fetch=cl(n)}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return hs(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return hs(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}}class rh extends nh{constructor(t,s={},n){super(t,s,n)}from(t){return new eh(this.url,this.headers,t,this.fetch)}}const ih="2.49.1";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const oh={"X-Client-Info":`supabase-js-${Hs}/${ih}`},ah={headers:oh},lh={schema:"public"},ch={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uh={};var fh=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const hh=e=>{let t;return e?t=e:typeof fetch>"u"?t=Za:t=fetch,(...s)=>t(...s)},dh=()=>typeof Headers>"u"?el:Headers,ph=(e,t,s)=>{const n=hh(s),r=dh();return(i,o)=>fh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var gh=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function mh(e){return e.replace(/\/$/,"")}function vh(e,t){const{db:s,auth:n,realtime:r,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>gh(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const fl="2.68.0",vs=30*1e3,Ur=3,dr=Ur*vs,_h="http://localhost:9999",yh="supabase.auth.token",bh={"X-Client-Info":`gotrue-js/${fl}`},Mr="X-Supabase-Api-Version",hl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function wh(e){return Math.round(Date.now()/1e3)+e}function kh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",zt={tested:!1,writable:!1},Js=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zt.tested)return zt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zt.tested=!0,zt.writable=!0}catch{zt.tested=!0,zt.writable=!1}return zt.writable};function Sh(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const dl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>As(async()=>{const{default:n}=await Promise.resolve().then(()=>xs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Eh=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},_n=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},yn=async(e,t)=>{await e.removeItem(t)};function Th(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Jn{constructor(){this.promise=new Jn.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Jn.promiseConstructor=Promise;function vo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(Th(n))}async function $h(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ah(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Ph(e){return("0"+e.toString(16)).substr(-2)}function Oh(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,Ph).join("")}async function Ch(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Rh(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xh(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Ch(e);return Rh(s)}async function ds(e,t,s=!1){const n=Oh();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await pl(e,`${t}-code-verifier`,r);const i=await xh(n);return[i,n===i?"plain":"s256"]}const Ih=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jh(e){const t=e.headers.get(Mr);if(!t||!t.match(Ih))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class pi extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lh extends pi{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Nh(e){return te(e)&&e.name==="AuthApiError"}class gl extends pi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ss extends pi{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class Ot extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uh(e){return te(e)&&e.name==="AuthSessionMissingError"}class pr extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bn extends ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wn extends ss{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mh(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class _o extends ss{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dr extends ss{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function gr(e){return te(e)&&e.name==="AuthRetryableFetchError"}class yo extends ss{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var Dh=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Wt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hh=[502,503,504];async function bo(e){var t;if(!Eh(e))throw new Dr(Wt(e),0);if(Hh.includes(e.status))throw new Dr(Wt(e),e.status);let s;try{s=await e.json()}catch(i){throw new gl(Wt(i),i)}let n;const r=jh(e);if(r&&r.getTime()>=hl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new yo(Wt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yo(Wt(s),e.status,s.weak_password.reasons);throw new Lh(Wt(s),e.status||500,n)}const Fh=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function se(e,t,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[Mr]||(i[Mr]=hl["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Bh(e,t,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Bh(e,t,s,n,r,i){const o=Fh(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Dr(Wt(l),0)}if(a.ok||await bo(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await bo(l)}}function Ct(e){var t;let s=null;zh(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=wh(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function wo(e){const t=Ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ut(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vh(e){return{data:e,error:null}}function Gh(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=Dh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qh(e){return e}function zh(e){return e.access_token&&e.refresh_token&&e.expires_in}var Kh=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class Wh{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=dl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ut})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Kh(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Gh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ut})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:qh});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(v.split(";")[1].split("=")[1]);u[`${y}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ut})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ut})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ut})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}}const Jh={getItem:e=>Js()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Js()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Js()&&globalThis.localStorage.removeItem(e)}};function ko(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Xh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ps={debug:!!(globalThis&&Js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ml extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yh extends ml{}async function Qh(e,t,s){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Xh();const Zh={url:_h,storageKey:yh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function So(e,t,s){return await s()}class on{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=on.nextInstanceID,on.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Zh),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Wh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=dl(r.fetch),this.lock=r.lock||So,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:at()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Qh:this.lock=So,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Js()?this.storage=Jh:(this.memoryStorage={},this.storage=ko(this.memoryStorage)):(this.memoryStorage={},this.storage=ko(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Sh(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),at()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Mh(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?{error:s}:{error:new gl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await ds(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:Ct})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ct})}else throw new bn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else throw new bn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await _n(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ct});if(await yn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ct}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ds(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bn("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ds(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Vh})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Ot;const{error:r}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bn("You must provide either an email or phone number and a type")}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ut}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(s){if(te(s))return Uh(s)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Ot;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ds(this.storage,this.storageKey));const{data:u,error:c}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ut});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return vo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=vo(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ot;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!at())throw new wn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new _o("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _o("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new wn("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const d=h-c;d*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:_,error:y}=await this._getUser(i);if(y)throw y;const w={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Nh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=kh(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await ds(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return at()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Ah(async r=>(r>0&&await $h(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ct})),(r,i)=>{const o=200*Math.pow(2,r);return i&&gr(i)&&Date.now()+o-n<vs})}catch(n){if(this._debug(s,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),at()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await _n(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dr;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${dr}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),gr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Jn;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),te(i)){const o={session:null,error:i};return gr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${vs}ms, refresh threshold is ${Ur} ticks`),r<=Ur&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ml)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}on.nextInstanceID=0;const ed=on;class td extends ed{constructor(t){super(t)}}var sd=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class nd{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=mh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:lh,realtime:uh,auth:Object.assign(Object.assign({},ch),{storageKey:l}),global:ah},c=vh(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=ph(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Of(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new gf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rh(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return sd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new td({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Gf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rd=(e,t,s)=>new nd(e,t,s),we="https://your-project-id.supabase.co",be=rd(we,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVuaHZlaHRvY2tubWR2enN6a2dlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYwOTEyNDAsImV4cCI6MjA1MTY2NzI0MH0.07UXuUI6sYzJglve94D3t55ID1spRYEa8l7SJQaHyDI");async function vl(){var s;const{data:e,error:t}=await be.auth.getSession();return t?null:((s=e==null?void 0:e.session)==null?void 0:s.user)||null}async function id(){if(!await vl())return null;const{data:t}=await be.auth.getSession(),s=t==null?void 0:t.session,n=`${we}/functions/v1/get-user-type`,r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`}});return r.ok?(await r.json()).type:null}async function od(e,t){if(!e||!t)return console.error("Email and password are required"),{data:null,error:new Error("Email and password are required")};const{data:s,error:n}=await be.auth.signUp({email:e,password:t});return n&&console.error("Error:",n),{data:s,error:n}}async function ad(e,t){if(!e||!t)return console.error("Email and password are required"),{data:null,error:new Error("Email and password are required")};const{data:s,error:n}=await be.auth.signInWithPassword({email:e,password:t});return n&&console.error("Error:",n),{data:s,error:n}}async function ld(){const{error:e}=await be.auth.signOut();return e&&console.error("Error:",e),{error:e}}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function _l(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&_l(e.default)}const oe=Object.assign;function mr(e,t){const s={};for(const n in t){const r=t[n];s[n]=tt(r)?r.map(e):e(r)}return s}const Xs=()=>{},tt=Array.isArray,yl=/#/g,ud=/&/g,fd=/\//g,hd=/=/g,dd=/\?/g,bl=/\+/g,pd=/%5B/g,gd=/%5D/g,wl=/%5E/g,md=/%60/g,kl=/%7B/g,vd=/%7C/g,Sl=/%7D/g,_d=/%20/g;function gi(e){return encodeURI(""+e).replace(vd,"|").replace(pd,"[").replace(gd,"]")}function yd(e){return gi(e).replace(kl,"{").replace(Sl,"}").replace(wl,"^")}function Hr(e){return gi(e).replace(bl,"%2B").replace(_d,"+").replace(yl,"%23").replace(ud,"%26").replace(md,"`").replace(kl,"{").replace(Sl,"}").replace(wl,"^")}function bd(e){return Hr(e).replace(hd,"%3D")}function wd(e){return gi(e).replace(yl,"%23").replace(dd,"%3F")}function kd(e){return e==null?"":wd(e).replace(fd,"%2F")}function an(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Sd=/\/$/,Ed=e=>e.replace(Sd,"");function vr(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=Pd(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:an(o)}}function Td(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Eo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $d(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Os(t.matched[n],s.matched[r])&&El(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Os(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function El(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Ad(e[s],t[s]))return!1;return!0}function Ad(e,t){return tt(e)?To(e,t):tt(t)?To(t,e):e===t}function To(e,t){return tt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Pd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ln;(function(e){e.pop="pop",e.push="push"})(ln||(ln={}));var Ys;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ys||(Ys={}));function Od(e){if(!e)if(_s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ed(e)}const Cd=/^[^#]+#/;function Rd(e,t){return e.replace(Cd,"#")+t}function xd(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Xn=()=>({left:window.scrollX,top:window.scrollY});function Id(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=xd(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function $o(e,t){return(history.state?history.state.position-t:-1)+e}const Fr=new Map;function jd(e,t){Fr.set(e,t)}function Ld(e){const t=Fr.get(e);return Fr.delete(e),t}let Nd=()=>location.protocol+"//"+location.host;function Tl(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Eo(l,"")}return Eo(s,e)+n+r}function Ud(e,t,s,n){let r=[],i=[],o=null;const a=({state:h})=>{const d=Tl(e,location),v=s.value,_=t.value;let y=0;if(h){if(s.value=d,t.value=h,o&&o===v){o=null;return}y=_?h.position-_.position:0}else n(d);r.forEach(w=>{w(s.value,v,{delta:y,type:ln.pop,direction:y?y>0?Ys.forward:Ys.back:Ys.unknown})})};function l(){o=s.value}function u(h){r.push(h);const d=()=>{const v=r.indexOf(h);v>-1&&r.splice(v,1)};return i.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(oe({},h.state,{scroll:Xn()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Ao(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?Xn():null}}function Md(e){const{history:t,location:s}=window,n={value:Tl(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:Nd()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(d){console.error(d),s[c?"replace":"assign"](h)}}function o(l,u){const c=oe({},t.state,Ao(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=oe({},r.value,t.state,{forward:l,scroll:Xn()});i(c.current,c,!0);const f=oe({},Ao(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Dd(e){e=Od(e);const t=Md(e),s=Ud(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:n,createHref:Rd.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Hd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Dd(e)}function Fd(e){return typeof e=="string"||e&&typeof e=="object"}function $l(e){return typeof e=="string"||typeof e=="symbol"}const Al=Symbol("");var Po;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Po||(Po={}));function Cs(e,t){return oe(new Error,{type:e,[Al]:!0},t)}function vt(e,t){return e instanceof Error&&Al in e&&(t==null||!!(e.type&t))}const Oo="[^/]+?",Bd={sensitive:!1,strict:!1,start:!0,end:!0},Vd=/[.+*?^${}()[\]/\\]/g;function Gd(e,t){const s=oe({},Bd,t),n=[];let r=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Vd,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:_,optional:y,regexp:w}=h;i.push({name:v,repeatable:_,optional:y});const N=w||Oo;if(N!==Oo){d+=10;try{new RegExp(`(${N})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${v}" (${N}): `+R.message)}}let C=_?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;f||(C=y&&u.length<2?`(?:/${C})`:"/"+C),y&&(C+="?"),r+=C,d+=20,y&&(d+=-8),_&&(d+=-20),N===".*"&&(d+=-50)}c.push(d)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",v=i[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:v,repeatable:_,optional:y}=d,w=v in u?u[v]:"";if(tt(w)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const N=tt(w)?w.join("/"):w;if(!N)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);c+=N}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function qd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Pl(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=qd(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Co(n))return 1;if(Co(r))return-1}return r.length-n.length}function Co(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const zd={type:0,value:""},Kd=/[a-zA-Z0-9_]/;function Wd(e){if(!e)return[[]];if(e==="/")return[[zd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${u}": ${d}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:Kd.test(l)?h():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function Jd(e,t,s){const n=Gd(Wd(e.path),s),r=oe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Xd(e,t){const s=[],n=new Map;t=jo({strict:!1,end:!0,sensitive:!1},t);function r(f){return n.get(f)}function i(f,h,d){const v=!d,_=xo(f);_.aliasOf=d&&d.record;const y=jo(t,f),w=[_];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of R)w.push(xo(oe({},_,{components:d?d.record.components:_.components,path:T,aliasOf:d?d.record:_})))}let N,C;for(const R of w){const{path:T}=R;if(h&&T[0]!=="/"){const I=h.record.path,k=I[I.length-1]==="/"?"":"/";R.path=h.record.path+(T&&k+T)}if(N=Jd(R,h,y),d?d.alias.push(N):(C=C||N,C!==N&&C.alias.push(N),v&&f.name&&!Io(N)&&o(f.name)),Ol(N)&&l(N),_.children){const I=_.children;for(let k=0;k<I.length;k++)i(I[k],N,d&&d.children[k])}d=d||N}return C?()=>{o(C)}:Xs}function o(f){if($l(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const h=Zd(f,s);s.splice(h,0,f),f.record.name&&!Io(f)&&n.set(f.record.name,f)}function u(f,h){let d,v={},_,y;if("name"in f&&f.name){if(d=n.get(f.name),!d)throw Cs(1,{location:f});y=d.record.name,v=oe(Ro(h.params,d.keys.filter(C=>!C.optional).concat(d.parent?d.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&Ro(f.params,d.keys.map(C=>C.name))),_=d.stringify(v)}else if(f.path!=null)_=f.path,d=s.find(C=>C.re.test(_)),d&&(v=d.parse(_),y=d.record.name);else{if(d=h.name?n.get(h.name):s.find(C=>C.re.test(h.path)),!d)throw Cs(1,{location:f,currentLocation:h});y=d.record.name,v=oe({},h.params,f.params),_=d.stringify(v)}const w=[];let N=d;for(;N;)w.unshift(N.record),N=N.parent;return{name:y,path:_,params:v,matched:w,meta:Qd(w)}}e.forEach(f=>i(f));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Ro(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function xo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Yd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Yd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Io(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Qd(e){return e.reduce((t,s)=>oe(t,s.meta),{})}function jo(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Zd(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;Pl(e,t[i])<0?n=i:s=i+1}const r=ep(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function ep(e){let t=e;for(;t=t.parent;)if(Ol(t)&&Pl(e,t)===0)return t}function Ol({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tp(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(bl," "),o=i.indexOf("="),a=an(o<0?i:i.slice(0,o)),l=o<0?null:an(i.slice(o+1));if(a in t){let u=t[a];tt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Lo(e){let t="";for(let s in e){const n=e[s];if(s=bd(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(tt(n)?n.map(i=>i&&Hr(i)):[n&&Hr(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function sp(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=tt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const Cl=Symbol(""),No=Symbol(""),Yn=Symbol(""),mi=Symbol(""),Br=Symbol("");function Ms(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function np(e,t,s){const n=()=>{e[t].delete(s)};oi(n),$a(n),Ta(()=>{e[t].add(s)}),e[t].add(s)}function Rl(e){const t=Ke(Cl,{}).value;t&&np(t,"updateGuards",e)}function Lt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Cs(4,{from:s,to:t})):h instanceof Error?l(h):Fd(h)?l(Cs(2,{from:t,to:h})):(o&&n.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>e.call(n&&n.instances[r],t,s,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function _r(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(_l(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Lt(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=cd(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const d=(f.__vccOpts||f)[t];return d&&Lt(d,s,n,o,a,r)()}))}}return i}function Uo(e){const t=Ke(Yn),s=Ke(mi),n=Ee(()=>{const l=ft(e.to);return t.resolve(l)}),r=Ee(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=s.matched;if(!c||!f.length)return-1;const h=f.findIndex(Os.bind(null,c));if(h>-1)return h;const d=Mo(l[u-2]);return u>1&&Mo(c)===d&&f[f.length-1].path!==d?f.findIndex(Os.bind(null,l[u-2])):h}),i=Ee(()=>r.value>-1&&lp(s.params,n.value.params)),o=Ee(()=>r.value>-1&&r.value===s.matched.length-1&&El(s.params,n.value.params));function a(l={}){if(ap(l)){const u=t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(Xs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:Ee(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function rp(e){return e.length===1?e[0]:e}const ip=ka({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uo,setup(e,{slots:t}){const s=Rs(Uo(e)),{options:n}=Ke(Yn),r=Ee(()=>({[Do(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Do(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&rp(t.default(s));return e.custom?i:Ya("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),op=ip;function ap(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lp(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!tt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Mo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Do=(e,t,s)=>e??t??s,cp=ka({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=Ke(Br),r=Ee(()=>e.route||n.value),i=Ke(No,0),o=Ee(()=>{let u=ft(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=Ee(()=>r.value.matched[o.value]);Sn(No,Ee(()=>o.value+1)),Sn(Cl,a),Sn(Br,r);const l=W();return zs(()=>[l.value,a.value,e.name],([u,c,f],[h,d,v])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Os(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return Ho(s.default,{Component:h,route:u});const d=f.props[c],v=d?d===!0?u.params:typeof d=="function"?d(u):d:null,y=Ya(h,oe({},v,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Ho(s.default,{Component:y,route:u})||y}}});function Ho(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const up=cp;function fp(e){const t=Xd(e.routes,e),s=e.parseQuery||tp,n=e.stringifyQuery||Lo,r=e.history,i=Ms(),o=Ms(),a=Ms(),l=_c(Pt);let u=Pt;_s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=mr.bind(null,A=>""+A),f=mr.bind(null,kd),h=mr.bind(null,an);function d(A,z){let F,K;return $l(A)?(F=t.getRecordMatcher(A),K=z):K=A,t.addRoute(K,F)}function v(A){const z=t.getRecordMatcher(A);z&&t.removeRoute(z)}function _(){return t.getRoutes().map(A=>A.record)}function y(A){return!!t.getRecordMatcher(A)}function w(A,z){if(z=oe({},z||l.value),typeof A=="string"){const b=vr(s,A,z.path),$=t.resolve({path:b.path},z),O=r.createHref(b.fullPath);return oe(b,$,{params:h($.params),hash:an(b.hash),redirectedFrom:void 0,href:O})}let F;if(A.path!=null)F=oe({},A,{path:vr(s,A.path,z.path).path});else{const b=oe({},A.params);for(const $ in b)b[$]==null&&delete b[$];F=oe({},A,{params:f(b)}),z.params=f(z.params)}const K=t.resolve(F,z),he=A.hash||"";K.params=c(h(K.params));const p=Td(n,oe({},A,{hash:yd(he),path:K.path})),m=r.createHref(p);return oe({fullPath:p,hash:he,query:n===Lo?sp(A.query):A.query||{}},K,{redirectedFrom:void 0,href:m})}function N(A){return typeof A=="string"?vr(s,A,l.value.path):oe({},A)}function C(A,z){if(u!==A)return Cs(8,{from:z,to:A})}function R(A){return k(A)}function T(A){return R(oe(N(A),{replace:!0}))}function I(A){const z=A.matched[A.matched.length-1];if(z&&z.redirect){const{redirect:F}=z;let K=typeof F=="function"?F(A):F;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=N(K):{path:K},K.params={}),oe({query:A.query,hash:A.hash,params:K.path!=null?{}:A.params},K)}}function k(A,z){const F=u=w(A),K=l.value,he=A.state,p=A.force,m=A.replace===!0,b=I(F);if(b)return k(oe(N(b),{state:typeof b=="object"?oe({},he,b.state):he,force:p,replace:m}),z||F);const $=F;$.redirectedFrom=z;let O;return!p&&$d(n,K,F)&&(O=Cs(16,{to:$,from:K}),st(K,K,!0,!1)),(O?Promise.resolve(O):q($,K)).catch(P=>vt(P)?vt(P,2)?P:At(P):ie(P,$,K)).then(P=>{if(P){if(vt(P,2))return k(oe({replace:m},N(P.to),{state:typeof P.to=="object"?oe({},he,P.to.state):he,force:p}),z||$)}else P=ce($,K,!0,m,he);return fe($,K,P),P})}function x(A,z){const F=C(A,z);return F?Promise.reject(F):Promise.resolve()}function j(A){const z=is.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(A):A()}function q(A,z){let F;const[K,he,p]=hp(A,z);F=_r(K.reverse(),"beforeRouteLeave",A,z);for(const b of K)b.leaveGuards.forEach($=>{F.push(Lt($,A,z))});const m=x.bind(null,A,z);return F.push(m),We(F).then(()=>{F=[];for(const b of i.list())F.push(Lt(b,A,z));return F.push(m),We(F)}).then(()=>{F=_r(he,"beforeRouteUpdate",A,z);for(const b of he)b.updateGuards.forEach($=>{F.push(Lt($,A,z))});return F.push(m),We(F)}).then(()=>{F=[];for(const b of p)if(b.beforeEnter)if(tt(b.beforeEnter))for(const $ of b.beforeEnter)F.push(Lt($,A,z));else F.push(Lt(b.beforeEnter,A,z));return F.push(m),We(F)}).then(()=>(A.matched.forEach(b=>b.enterCallbacks={}),F=_r(p,"beforeRouteEnter",A,z,j),F.push(m),We(F))).then(()=>{F=[];for(const b of o.list())F.push(Lt(b,A,z));return F.push(m),We(F)}).catch(b=>vt(b,8)?b:Promise.reject(b))}function fe(A,z,F){a.list().forEach(K=>j(()=>K(A,z,F)))}function ce(A,z,F,K,he){const p=C(A,z);if(p)return p;const m=z===Pt,b=_s?history.state:{};F&&(K||m?r.replace(A.fullPath,oe({scroll:m&&b&&b.scroll},he)):r.push(A.fullPath,he)),l.value=A,st(A,z,F,m),At()}let Ue;function Vt(){Ue||(Ue=r.listen((A,z,F)=>{if(!dn.listening)return;const K=w(A),he=I(K);if(he){k(oe(he,{replace:!0,force:!0}),K).catch(Xs);return}u=K;const p=l.value;_s&&jd($o(p.fullPath,F.delta),Xn()),q(K,p).catch(m=>vt(m,12)?m:vt(m,2)?(k(oe(N(m.to),{force:!0}),K).then(b=>{vt(b,20)&&!F.delta&&F.type===ln.pop&&r.go(-1,!1)}).catch(Xs),Promise.reject()):(F.delta&&r.go(-F.delta,!1),ie(m,K,p))).then(m=>{m=m||ce(K,p,!1),m&&(F.delta&&!vt(m,8)?r.go(-F.delta,!1):F.type===ln.pop&&vt(m,20)&&r.go(-1,!1)),fe(K,p,m)}).catch(Xs)}))}let $t=Ms(),ye=Ms(),ee;function ie(A,z,F){At(A);const K=ye.list();return K.length?K.forEach(he=>he(A,z,F)):console.error(A),Promise.reject(A)}function gt(){return ee&&l.value!==Pt?Promise.resolve():new Promise((A,z)=>{$t.add([A,z])})}function At(A){return ee||(ee=!A,Vt(),$t.list().forEach(([z,F])=>A?F(A):z()),$t.reset()),A}function st(A,z,F,K){const{scrollBehavior:he}=e;if(!_s||!he)return Promise.resolve();const p=!F&&Ld($o(A.fullPath,0))||(K||!F)&&history.state&&history.state.scroll||null;return Gn().then(()=>he(A,z,p)).then(m=>m&&Id(m)).catch(m=>ie(m,A,z))}const Me=A=>r.go(A);let rs;const is=new Set,dn={currentRoute:l,listening:!0,addRoute:d,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:_,resolve:w,options:e,push:R,replace:T,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ye.add,isReady:gt,install(A){const z=this;A.component("RouterLink",op),A.component("RouterView",up),A.config.globalProperties.$router=z,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(l)}),_s&&!rs&&l.value===Pt&&(rs=!0,R(r.location).catch(he=>{}));const F={};for(const he in Pt)Object.defineProperty(F,he,{get:()=>l.value[he],enumerable:!0});A.provide(Yn,z),A.provide(mi,da(F)),A.provide(Br,l);const K=A.unmount;is.add(A),A.unmount=function(){is.delete(A),is.size<1&&(u=Pt,Ue&&Ue(),Ue=null,l.value=Pt,rs=!1,ee=!1),K()}}};function We(A){return A.reduce((z,F)=>z.then(()=>j(F)),Promise.resolve())}return dn}function hp(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Os(u,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Os(u,l))||r.push(l))}return[s,n,r]}function ns(){return Ke(Yn)}function Qn(e){return Ke(mi)}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let xl;const Zn=e=>xl=e,Il=Symbol();function Vr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qs||(Qs={}));function dp(){const e=Yo(!0),t=e.run(()=>W({}));let s=[],n=[];const r=ni({install(i){Zn(r),r._a=i,i.provide(Il,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const jl=()=>{};function Fo(e,t,s,n=jl){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&Qo()&&Ql(r),r}function gs(e,...t){e.slice().forEach(s=>{s(...t)})}const pp=e=>e(),Bo=Symbol(),yr=Symbol();function Gr(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Vr(r)&&Vr(n)&&e.hasOwnProperty(s)&&!Se(n)&&!Ht(n)?e[s]=Gr(r,n):e[s]=n}return e}const gp=Symbol();function mp(e){return!Vr(e)||!Object.prototype.hasOwnProperty.call(e,gp)}const{assign:Rt}=Object;function vp(e){return!!(Se(e)&&e.effect)}function _p(e,t,s,n){const{state:r,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=r?r():{});const c=wc(s.state.value[e]);return Rt(c,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=ni(Ee(()=>{Zn(s);const d=s._s.get(e);return o[h].call(d,d)})),f),{}))}return l=Ll(e,u,t,s,n,!0),l}function Ll(e,t,s={},n,r,i){let o;const a=Rt({actions:{}},s),l={deep:!0};let u,c,f=[],h=[],d;const v=n.state.value[e];!i&&!v&&(n.state.value[e]={}),W({});let _;function y(x){let j;u=c=!1,typeof x=="function"?(x(n.state.value[e]),j={type:Qs.patchFunction,storeId:e,events:d}):(Gr(n.state.value[e],x),j={type:Qs.patchObject,payload:x,storeId:e,events:d});const q=_=Symbol();Gn().then(()=>{_===q&&(u=!0)}),c=!0,gs(f,j,n.state.value[e])}const w=i?function(){const{state:j}=s,q=j?j():{};this.$patch(fe=>{Rt(fe,q)})}:jl;function N(){o.stop(),f=[],h=[],n._s.delete(e)}const C=(x,j="")=>{if(Bo in x)return x[yr]=j,x;const q=function(){Zn(n);const fe=Array.from(arguments),ce=[],Ue=[];function Vt(ee){ce.push(ee)}function $t(ee){Ue.push(ee)}gs(h,{args:fe,name:q[yr],store:T,after:Vt,onError:$t});let ye;try{ye=x.apply(this&&this.$id===e?this:T,fe)}catch(ee){throw gs(Ue,ee),ee}return ye instanceof Promise?ye.then(ee=>(gs(ce,ee),ee)).catch(ee=>(gs(Ue,ee),Promise.reject(ee))):(gs(ce,ye),ye)};return q[Bo]=!0,q[yr]=j,q},R={_p:n,$id:e,$onAction:Fo.bind(null,h),$patch:y,$reset:w,$subscribe(x,j={}){const q=Fo(f,x,j.detached,()=>fe()),fe=o.run(()=>zs(()=>n.state.value[e],ce=>{(j.flush==="sync"?c:u)&&x({storeId:e,type:Qs.direct,events:d},ce)},Rt({},l,j)));return q},$dispose:N},T=Rs(R);n._s.set(e,T);const k=(n._a&&n._a.runWithContext||pp)(()=>n._e.run(()=>(o=Yo()).run(()=>t({action:C}))));for(const x in k){const j=k[x];if(Se(j)&&!vp(j)||Ht(j))i||(v&&mp(j)&&(Se(j)?j.value=v[x]:Gr(j,v[x])),n.state.value[e][x]=j);else if(typeof j=="function"){const q=C(j,x);k[x]=q,a.actions[x]=j}}return Rt(T,k),Rt(re(T),k),Object.defineProperty(T,"$state",{get:()=>n.state.value[e],set:x=>{y(j=>{Rt(j,x)})}}),n._p.forEach(x=>{Rt(T,o.run(()=>x({store:T,app:n._a,pinia:n,options:a})))}),v&&i&&s.hydrate&&s.hydrate(T.$state,v),u=!0,c=!0,T}/*! #__NO_SIDE_EFFECTS__ */function er(e,t,s){let n;const r=typeof t=="function";n=r?s:t;function i(o,a){const l=Qc();return o=o||(l?Ke(Il,null):null),o&&Zn(o),o=xl,o._s.has(e)||(r?Ll(e,t,n,o):_p(e,n,o)),o._s.get(e)}return i.$id=e,i}const Nl=er("notifications",{state:()=>({items:[],unreadCount:0,loading:!1}),actions:{async fetchForCurrentUser(){var e;this.loading=!0;try{const{data:t}=await be.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s){this.items=[],this.unreadCount=0;return}const n=new URL(`${we}/functions/v1/notifications`),r=await fetch(n.toString(),{headers:{Authorization:`Bearer ${s}`}});if(!r.ok)throw new Error("Failed to load notifications");const i=await r.json();this.items=i.notifications||[],this.unreadCount=this.items.filter(o=>!o.read).length}catch(t){console.error(t)}finally{this.loading=!1}},async markAllRead(){var e;try{const{data:t}=await be.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s)return;const n=new URL(`${we}/functions/v1/notifications_mark_all_read`);if(!(await fetch(n.toString(),{method:"POST",headers:{Authorization:`Bearer ${s}`}})).ok)throw new Error("Failed to mark notifications read");this.items.forEach(i=>i.read=!0),this.unreadCount=0}catch(t){console.error(t)}},async fetchSettings(){var e;try{const{data:t}=await be.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s)return[];const n=new URL(`${we}/functions/v1/notification_settings`),r=await fetch(n.toString(),{headers:{Authorization:`Bearer ${s}`}});return r.ok?(await r.json()).settings||[]:[]}catch(t){return console.error(t),[]}},async updateSetting(e,t){var s;try{const{data:n}=await be.auth.getSession(),r=(s=n==null?void 0:n.session)==null?void 0:s.access_token;if(!r)return!1;const i=new URL(`${we}/functions/v1/notification_settings`);return(await fetch(i.toString(),{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({event_type:e,enabled:t})})).ok}catch(n){return console.error(n),!1}}}}),Ne=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},yp={class:"menuBody"},bp={key:0,class:"user-info"},wp={key:0,class:"badge"},kp={__name:"MainMenu",props:{usrType:{required:!0},usr:{required:!0}},setup(e){const t=e,s=ns(),n=Nl(),r=W(""),i=W("");Tt(async()=>{try{t.usr&&await n.fetchForCurrentUser()}catch{}});function o(){s.push({name:"Notifications"})}const a=async()=>{if(!r.value||!i.value){alert("Please enter both email and password");return}await ad(r.value,i.value);const f=window.location.origin+window.location.pathname+"#/";window.location.href=f,setTimeout(()=>window.location.reload(),100)},l=async()=>{await ld();const f=window.location.origin+window.location.pathname+"#/init_page";window.location.href=f,setTimeout(()=>window.location.reload(),100)},u=()=>{t.usrType==="person"?s.push({name:"PersonProfileShow",params:{userID:t.usr.id}}):t.usrType==="company"&&s.push({name:"CompanyProfileShow",params:{userID:t.usr.id}})},c=()=>{t.usrType==="person"?s.push({name:"PersonProfileUpdate"}):t.usrType==="company"&&s.push({name:"CompanyProfileUpdate"})};return(f,h)=>{const d=ai("router-link");return S(),E("div",yp,[h[8]||(h[8]=g("h1",{class:"brand-title"},"SocSite",-1)),t.usr?(S(),E("div",bp,[g("p",null,V(t.usr.email),1)])):M("",!0),t.usr?(S(),Mt(d,{key:1,to:"/"},{default:ys(()=>h[2]||(h[2]=[g("button",{class:"menu-btn"},"Home",-1)])),_:1})):M("",!0),t.usr?(S(),E("button",{key:2,onClick:o,class:"menu-btn"},[h[3]||(h[3]=pt(" Notifications ")),ft(n).unreadCount?(S(),E("span",wp,V(ft(n).unreadCount),1)):M("",!0)])):M("",!0),t.usr?(S(),Mt(d,{key:3,to:"/settings"},{default:ys(()=>h[4]||(h[4]=[g("button",{class:"menu-btn"},"Settings",-1)])),_:1})):M("",!0),t.usr==null?(S(),Mt(d,{key:4,to:"/init_page"},{default:ys(()=>h[5]||(h[5]=[g("button",{class:"menu-btn"},"Home",-1)])),_:1})):M("",!0),t.usrType==null?(S(),E("form",{key:5,onSubmit:et(a,["prevent"]),class:"login-form"},[le(g("input",{type:"email","onUpdate:modelValue":h[0]||(h[0]=v=>r.value=v),placeholder:"Email",required:"",class:"input-field"},null,512),[[de,r.value]]),le(g("input",{type:"password","onUpdate:modelValue":h[1]||(h[1]=v=>i.value=v),placeholder:"Password",required:"",class:"input-field"},null,512),[[de,i.value]]),h[6]||(h[6]=g("button",{type:"submit",class:"menu-btn"},"Log In",-1))],32)):M("",!0),t.usrType==null?(S(),Mt(d,{key:6,to:"/register"},{default:ys(()=>h[7]||(h[7]=[g("button",{class:"menu-btn"},"Register",-1)])),_:1})):M("",!0),t.usrType=="person"||t.usrType=="company"?(S(),E("button",{key:7,onClick:c,class:"menu-btn"},"Update Profile")):M("",!0),t.usrType==="person"||t.usrType=="company"?(S(),E("button",{key:8,onClick:u,class:"menu-btn"},"Show Profile")):M("",!0),t.usrType!=null?(S(),E("button",{key:9,onClick:l,class:"menu-btn"},"Log Out")):M("",!0)])}}},Sp=Ne(kp,[["__scopeId","data-v-3dd06269"]]),vi=er("search",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),Ep={id:"search"},Tp={class:"search-bar"},$p={class:"search-options"},Ap=["disabled"],Pp={__name:"Search",setup(e){const t=ns(),s=vi(),n=W(""),r=W(""),i=W(!1),o=`${we}/functions/v1/search`,a=async()=>{if(!n.value||!r.value){alert("Please fill in all fields");return}i.value=!0;try{const{data:l}=await be.auth.getSession(),u=l==null?void 0:l.session,f=await(await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u==null?void 0:u.access_token}`},body:JSON.stringify({searchType:n.value,searchInput:r.value})})).json();if(console.log("Search response:",f),f.error)alert(`Error: ${f.error}`);else{const h=f.data||f.message||[];s.setResults(h),h.length>0?setTimeout(()=>{t.push({name:"SearchResults",params:{type:"search"}})},100):alert("No search results found")}}catch(l){console.error("Search error:",l),alert("An error occurred during search. Please try again.")}finally{i.value=!1}};return(l,u)=>(S(),E("div",Ep,[g("form",{onSubmit:et(a,["prevent"]),class:"search-form"},[g("div",Tp,[le(g("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),placeholder:"Search...",required:"",class:"search-input"},null,512),[[de,r.value]])]),g("div",$p,[le(g("input",{type:"radio",id:"person",value:"person","onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),required:"",class:"search-radio"},null,512),[[Qi,n.value]]),u[3]||(u[3]=g("label",{for:"person",class:"search-label"},"Person",-1)),le(g("input",{type:"radio",id:"company",value:"company","onUpdate:modelValue":u[2]||(u[2]=c=>n.value=c),required:"",class:"search-radio"},null,512),[[Qi,n.value]]),u[4]||(u[4]=g("label",{for:"company",class:"search-label"},"Company",-1))]),g("button",{type:"submit",class:"search-button",disabled:i.value},V(i.value?"Searching...":"Search"),9,Ap)],32)]))}},Op=Ne(Pp,[["__scopeId","data-v-9da01caa"]]),Cp={class:"user-type-form"},Rp={key:0,style:{width:"100%","margin-top":"8px"}},xp={key:0,style:{color:"red","font-size":"0.9rem"}},Ip={key:1,style:{"margin-top":"6px"}},jp={key:0,style:{color:"#666","font-size":"0.9rem"}},Lp={key:1,style:{color:"green","font-size":"0.95rem"}},Np={key:2,style:{color:"red","font-size":"0.95rem"}},Up=["disabled"],Mp={__name:"SetUserType",setup(e){const t=W(""),s=W(""),n=W(""),r=W(""),i=W(null),o=W(!1);let a=null;function l(d){if(!d)return{valid:!1,error:"Please enter a username"};const v=String(d).trim();return v.length<3?{valid:!1,error:"Username must be at least 3 characters"}:v.length>20?{valid:!1,error:"Username can be at most 20 characters"}:/^[a-zA-Z][a-zA-Z0-9 _\-,.()\/]*$/.test(v)?/[_-]{2,}/.test(v)?{valid:!1,error:"Username cannot contain consecutive special characters"}:{valid:!0}:{valid:!1,error:"Username must start with a letter and contain only allowed characters"}}function u(){a&&(clearTimeout(a),a=null)}function c(){r.value="",i.value=null,u(),a=setTimeout(f,500)}async function f(){const d=String(s.value||"").trim();if(!d){i.value=null;return}const v=l(d);if(!v.valid){i.value=null,r.value=v.error;return}try{o.value=!0;const _=`${we}/functions/v1/check-username?username=${encodeURIComponent(d)}`,w=await(await fetch(_)).json();if(w.error){console.error("check-username error:",w.error),i.value=null;return}i.value=!!w.available}catch(_){console.error("check username failed:",_),i.value=null}finally{o.value=!1}}async function h(){if(r.value="",!t.value){alert("Please select an account type.");return}const{data:d}=await be.auth.getSession(),v=d==null?void 0:d.session;if(!v||!v.access_token){n.value="User not authenticated. Please log in.";return}if(t.value==="person"){const y=l(s.value);if(!y.valid){r.value=y.error,alert(y.error);return}if(i.value===!1){alert("Username is already taken. Please choose another.");return}if(o.value){alert("Please wait while username availability is checked");return}}const _=await fetch(`${we}/functions/v1/create-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.access_token}`,Accept:"application/json"},body:JSON.stringify({accountType:t.value,username:t.value==="person"?String(s.value).trim():void 0})});try{const y=await _.json();if(y.message==="Created")window.location.reload();else{console.error("Error in response:",y);const w=y.error||y.message||"Failed to set account type. Please try again.";alert(w)}}catch(y){console.error("Failed to parse response from create-profile:",y),alert("Failed to set account type: unexpected response from server")}}return(d,v)=>(S(),E("div",Cp,[v[8]||(v[8]=g("h1",null,"Select User Type",-1)),g("form",{onSubmit:et(h,["prevent"]),class:"user-type-form"},[v[4]||(v[4]=g("label",{for:"account-type",class:"user-type-label"},"Account Type:",-1)),le(g("select",{id:"account-type","onUpdate:modelValue":v[0]||(v[0]=_=>t.value=_),required:"",class:"user-type-select"},v[2]||(v[2]=[g("option",{value:"",disabled:""},"Select account type",-1),g("option",{value:"person"},"Person",-1),g("option",{value:"company"},"Company",-1)]),512),[[Zu,t.value]]),t.value==="person"?(S(),E("div",Rp,[v[3]||(v[3]=g("label",{for:"username"},"Choose a username:",-1)),le(g("input",{id:"username","onUpdate:modelValue":v[1]||(v[1]=_=>s.value=_),placeholder:"username",class:"user-type-select",onInput:c,onBlur:f},null,544),[[de,s.value]]),r.value?(S(),E("div",xp,V(r.value),1)):(S(),E("div",Ip,[o.value?(S(),E("span",jp,"Checking availability...")):i.value===!0?(S(),E("span",Lp,"Username available")):i.value===!1?(S(),E("span",Np,"Username already taken")):M("",!0)]))])):M("",!0),v[5]||(v[5]=g("br",null,null,-1)),v[6]||(v[6]=g("small",{style:{color:"red"}},"Note: The account type cannot be changed later on.",-1)),v[7]||(v[7]=g("br",null,null,-1)),g("button",{type:"submit",class:"user-type-button",disabled:t.value==="person"&&(o.value||i.value===!1)},"Set",8,Up)],32)]))}},Dp=Ne(Mp,[["__scopeId","data-v-57b4c75a"]]),Hp={class:"container"},Fp={class:"left-section"},Bp={class:"sidebar left"},Vp={class:"content"},Gp={__name:"App",setup(e){const t=W("uninitialized"),s=W("uninitialized"),n=Qn(),r=Ee(()=>{const i=["/register","/confirm_email"];return s.value==="person"||s.value==="company"||i.includes(n.path)});return Pa(async()=>{t.value=await vl(),s.value=await id()}),(i,o)=>{const a=ai("router-view");return S(),E("div",Hp,[g("div",Fp,[g("aside",Bp,[Le(Sp,{usrType:s.value,usr:t.value},null,8,["usrType","usr"])])]),g("main",Vp,[s.value=="person"||s.value==="company"?(S(),Mt(Op,{key:0})):M("",!0),r.value?(S(),Mt(a,{key:1})):M("",!0),s.value==="unknown"?(S(),Mt(Dp,{key:2})):M("",!0)]),o[0]||(o[0]=g("div",{class:"right-section"},[g("aside",{class:"sidebar right"},[g("h3",null,"Special Offers"),g("p",null,"Check out the latest deals and offers here."),g("h3",null,"Most Interesting"),g("p",null,"Discover the most engaging content on our site.")])],-1))])}}},qp=Ne(Gp,[["__scopeId","data-v-0614b84c"]]),zp={class:"register-form"},Kp={class:"form-group"},Wp={key:0,class:"error-text"},Jp={class:"form-group"},Xp={key:0,class:"error-text"},Yp={class:"form-group"},Qp={key:0,class:"error-text"},Zp={key:0,class:"error-message"},eg=["disabled"],br=8,tg={__name:"Register",setup(e){const t=W(""),s=W(""),n=W(""),r=W(""),i=W(!1),o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,a=Ee(()=>t.value?o.test(t.value):!0),l=Ee(()=>s.value?s.value.length>=br:!0),u=Ee(()=>n.value?s.value===n.value:!0),c=Ee(()=>t.value&&s.value&&n.value&&a.value&&l.value&&u.value),f=async()=>{try{if(r.value="",!c.value){a.value?l.value?u.value?r.value="Please fill out all required fields":r.value="Passwords do not match":r.value=`Password must be at least ${br} characters`:r.value="Please enter a valid email address";return}i.value=!0;const h=await od(t.value.trim(),s.value);if(!h){r.value="Registration failed: no response from server";return}if(h.error){r.value=h.error&&h.error.message?h.error.message:"Failed to create account";return}window.location.reload()}catch(h){console.error("Registration error:",h),r.value="An unexpected error occurred"}finally{i.value=!1}};return(h,d)=>(S(),E("div",zp,[d[6]||(d[6]=g("h1",null,"Sign Up",-1)),g("form",{onSubmit:et(f,["prevent"])},[g("div",Kp,[d[3]||(d[3]=g("label",{for:"email-reg"},"Email:",-1)),le(g("input",{type:"email",id:"email-reg","onUpdate:modelValue":d[0]||(d[0]=v=>t.value=v),required:"",autocomplete:"email",class:kt({"input-error":t.value&&!a.value})},null,2),[[de,t.value]]),t.value&&!a.value?(S(),E("div",Wp," Please enter a valid email address ")):M("",!0)]),g("div",Jp,[d[4]||(d[4]=g("label",{for:"password-reg"},"Password:",-1)),le(g("input",{type:"password",id:"password-reg","onUpdate:modelValue":d[1]||(d[1]=v=>s.value=v),required:"",autocomplete:"new-password",class:kt({"input-error":s.value&&!l.value})},null,2),[[de,s.value]]),s.value&&!l.value?(S(),E("div",Xp," Password must be at least "+V(br)+" characters ")):M("",!0)]),g("div",Yp,[d[5]||(d[5]=g("label",{for:"confirm-password"},"Confirm Password:",-1)),le(g("input",{type:"password",id:"confirm-password","onUpdate:modelValue":d[2]||(d[2]=v=>n.value=v),required:"",autocomplete:"new-password",class:kt({"input-error":n.value&&!u.value})},null,2),[[de,n.value]]),n.value&&!u.value?(S(),E("div",Qp," Passwords do not match ")):M("",!0)]),r.value?(S(),E("div",Zp,V(r.value),1)):M("",!0),g("button",{type:"submit",disabled:i.value||!c.value},V(i.value?"Creating Account...":"Sign Up"),9,eg)],32)]))}},sg=Ne(tg,[["__scopeId","data-v-62895a57"]]),ng={},rg={class:"confirm-email"};function ig(e,t){const s=ai("router-link");return S(),E("div",rg,[t[1]||(t[1]=g("h2",null,"Registration Confirmed",-1)),t[2]||(t[2]=g("p",null,"Thank you  your email address has been confirmed.",-1)),t[3]||(t[3]=g("p",null,"You can now log in using your credentials.",-1)),Le(s,{to:"/",class:"btn"},{default:ys(()=>t[0]||(t[0]=[pt("Go to Home / Login")])),_:1})])}const og=Ne(ng,[["render",ig],["__scopeId","data-v-0f23dabc"]]),Ul=async(e,t)=>{const{data:s}=await be.auth.getSession(),n=s==null?void 0:s.session;if(!n||!n.access_token)throw new Error("User not authenticated. Please log in.");const r=`${we}/functions/v1/get-user-connections?userID=${e}&type=${t}`,o=await(await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}})).json();return o.error&&alert(`Error: ${o.error}`),await o},_i=er("followers",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),yi=er("following",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),ag={class:"profile-container"},lg={key:0},cg={class:"profile-header"},ug={class:"profile-header-content"},fg={class:"profile-name"},hg=["href"],dg={class:"connections-bar"},pg={class:"connection-count"},gg={class:"connection-count"},mg={class:"profile-section"},vg={class:"profile-info"},_g={key:0,class:"info-item"},yg={class:"info-value"},bg={key:1,class:"info-item"},wg={class:"info-value"},kg={key:2,class:"info-item"},Sg={class:"info-value"},Eg={key:3,class:"info-item"},Tg={class:"info-value"},$g={key:4,class:"info-item"},Ag={class:"info-value"},Pg={class:"profile-section"},Og={class:"skills-container"},Cg={key:0,class:"skills-column"},Rg={class:"skills-list"},xg={key:1,class:"skills-column"},Ig={class:"skills-list"},jg={key:1,class:"message-container"},Lg={class:"response-message"},Ng={__name:"CompanyProfileShow",setup(e){const t=Qn(),s=W(null),n=W("");var r=W(t.params.userID);const i=`${we}/functions/v1/get-user-profile`,o=async()=>{try{const{data:c}=await be.auth.getSession(),f=c==null?void 0:c.session;if(!f||!f.access_token){n.value="User not authenticated. Please log in.";return}const h=`${i}?lookUserID=${r.value}`,d=await fetch(h,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.access_token}`}});if(!d.ok)throw new Error("Failed to fetch user profile data");s.value=await d.json()}catch(c){n.value=`Error: ${c.message}`}},a=async()=>{if(!s.value)return;const{data:c}=await be.auth.getSession(),f=c==null?void 0:c.session,h=s.value.followed?"unfollow":"follow";(await fetch(`${i}?lookUserID=${r.value}&action=${h}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f==null?void 0:f.access_token}`}})).ok?s.value.followed=!s.value.followed:console.error("Failed to follow/unfollow user")},l=ns(),u=async c=>{try{const f=await Ul(r.value,c);c==="following"?(yi().setResults(f.message),l.push({name:"Following",params:{type:"following"}})):c==="followers"&&(_i().setResults(f.message),l.push({name:"Followers",params:{type:"followers"}}))}catch(f){console.error("Error fetching user connections:",f)}};return Tt(o),Rl(async(c,f)=>{r=W(c.params.userID),await o()}),(c,f)=>{var h,d;return S(),E("div",ag,[s.value?(S(),E("div",lg,[g("div",cg,[g("div",ug,[g("h1",fg,V(s.value.name||"N/A"),1),s.value.website?(S(),E("a",{key:0,href:s.value.website,target:"_blank",class:"profile-website"},V(s.value.website),9,hg)):M("",!0)]),s.value.showFollowButton?(S(),E("button",{key:0,onClick:a,class:kt(["follow-button",{following:s.value.followed}])},V(s.value.followed?"Following":"Follow"),3)):M("",!0)]),g("div",dg,[g("a",{href:"#",class:"connection-stat",onClick:f[0]||(f[0]=et(v=>u("following"),["prevent"]))},[g("span",pg,V(s.value.following||0),1),f[2]||(f[2]=g("span",{class:"connection-label"},"Following",-1))]),g("a",{href:"#",class:"connection-stat",onClick:f[1]||(f[1]=et(v=>u("followers"),["prevent"]))},[g("span",gg,V(s.value.followers||0),1),f[3]||(f[3]=g("span",{class:"connection-label"},"Followers",-1))])]),g("div",mg,[g("div",vg,[s.value.vision?(S(),E("div",_g,[f[4]||(f[4]=g("span",{class:"info-label"},"Vision",-1)),g("span",yg,V(s.value.vision),1)])):M("",!0),s.value.strategy?(S(),E("div",bg,[f[5]||(f[5]=g("span",{class:"info-label"},"Strategy",-1)),g("span",wg,V(s.value.strategy),1)])):M("",!0),s.value.values?(S(),E("div",kg,[f[6]||(f[6]=g("span",{class:"info-label"},"Values",-1)),g("span",Sg,V(s.value.values),1)])):M("",!0),s.value.skillslookingfor?(S(),E("div",Eg,[f[7]||(f[7]=g("span",{class:"info-label"},"Skills looking for",-1)),g("span",Tg,V(s.value.skillslookingfor),1)])):M("",!0),s.value.location?(S(),E("div",$g,[f[8]||(f[8]=g("span",{class:"info-label"},"Location",-1)),g("span",Ag,V(s.value.location),1)])):M("",!0)])]),g("div",Pg,[f[11]||(f[11]=g("h2",{class:"section-title"},"Working Here",-1)),g("div",Og,[(h=s.value.benefits)!=null&&h.length?(S(),E("div",Cg,[f[9]||(f[9]=g("h3",{class:"skills-subtitle"},"Benefits",-1)),g("ul",Rg,[(S(!0),E(ke,null,Ye(s.value.benefits,v=>(S(),E("li",{key:v},V(v),1))),128))])])):M("",!0),(d=s.value.drawbacks)!=null&&d.length?(S(),E("div",xg,[f[10]||(f[10]=g("h3",{class:"skills-subtitle"},"Drawbacks",-1)),g("ul",Ig,[(S(!0),E(ke,null,Ye(s.value.drawbacks,v=>(S(),E("li",{key:v},V(v),1))),128))])])):M("",!0)])])])):n.value?(S(),E("div",jg,[g("p",Lg,V(n.value),1)])):M("",!0)])}}},Ug=Ne(Ng,[["__scopeId","data-v-dea51e5a"]]),B={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:20,VISION_MIN_LENGTH:5,VISION_MAX_LENGTH:200,STRATEGY_MIN_LENGTH:20,STRATEGY_MAX_LENGTH:400,VALUES_MIN_LENGTH:5,VALUES_MAX_LENGTH:200,LOCATION_MIN_LENGTH:3,LOCATION_MAX_LENGTH:30,SUCCESS_MIN_LENGTH:10,SUCCESS_MAX_LENGTH:200,FAILURE_MIN_LENGTH:10,FAILURE_MAX_LENGTH:200,SKILL_MIN_LENGTH:10,SKILL_MAX_LENGTH:300,HOBBY_MIN_LENGTH:5,HOBBY_MAX_LENGTH:200,STRENGTH_MIN_LENGTH:5,STRENGTH_MAX_LENGTH:20,WEAKNESS_MIN_LENGTH:5,WEAKNESS_MAX_LENGTH:20,BENEFIT_MIN_LENGTH:5,BENEFIT_MAX_LENGTH:20,DRAWBACK_MIN_LENGTH:5,DRAWBACK_MAX_LENGTH:20};function Nn(e){if(typeof e=="string")return e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/<[^>]*>/g,"").trim();if(Array.isArray(e))return e.map(t=>Nn(t));if(e!==null&&typeof e=="object"){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=Nn(e[s]));return t}return e}const Mg={class:"profile-update-container"},Dg={class:"form-section"},Hg={class:"form-group"},Fg={key:0,class:"error-message"},Bg={class:"form-group"},Vg={key:0,class:"error-message"},Gg={class:"form-group"},qg={key:0,class:"error-message"},zg={class:"form-section"},Kg={class:"form-group"},Wg={key:0,class:"error-message"},Jg={class:"form-group"},Xg={key:0,class:"error-message"},Yg={class:"form-group"},Qg={key:0,class:"error-message"},Zg={class:"form-group"},em={key:0,class:"error-message"},tm={class:"form-section"},sm={class:"list-items"},nm=["for"],rm=["id","onUpdate:modelValue"],im={key:0,class:"error-message"},om={key:1,class:"error-message"},am={class:"form-section"},lm={class:"list-items"},cm=["for"],um=["id","onUpdate:modelValue"],fm={key:0,class:"error-message"},hm={key:1,class:"error-message"},dm={key:0,class:"error-message"},pm={class:"form-actions"},gm=["disabled"],mm={key:0,class:"response-message"},vm={__name:"CompanyProfileUpdate",setup(e){const t=`${we}/functions/v1/user-profile-edit`,s=`${we}/functions/v1/get-user-profile`,n=W({name:"",vision:"",strategy:"",values:"",skillslookingfor:"",location:"",website:"",benefits:["","","","",""],drawbacks:["","","","",""]}),r=W(""),i=W({}),o=W(Array(5).fill(null)),a=W(Array(5).fill(null)),l=W(!1),u=Ee(()=>(c(),Object.keys(i.value).length===0)),c=()=>{i.value={},o.value=Array(5).fill(null),a.value=Array(5).fill(null);let v=!0;if(!n.value.name||n.value.name.length<B.NAME_MIN_LENGTH?(i.value.name=`Company name must be at least ${B.NAME_MIN_LENGTH} characters`,v=!1):n.value.name.length>B.NAME_MAX_LENGTH&&(i.value.name=`Company name cannot exceed ${B.NAME_MAX_LENGTH} characters`,v=!1),!n.value.location||n.value.location.length<B.LOCATION_MIN_LENGTH?(i.value.location=`Location must be at least ${B.LOCATION_MIN_LENGTH} characters`,v=!1):n.value.location.length>B.LOCATION_MAX_LENGTH&&(i.value.location=`Location cannot exceed ${B.LOCATION_MAX_LENGTH} characters`,v=!1),n.value.website){const _=n.value.website.trim();if(_!==""){const y=/^https?:\/\//.test(_),w=y?_:`https://${_}`;try{new URL(w),/^https?:\/\/[a-zA-Z0-9]+([\-\.]{1}[a-zA-Z0-9]+)*\.[a-zA-Z]{2,}/.test(w)||(i.value.website="Please enter a valid website domain",v=!1)}catch{i.value.website="Please enter a valid website",v=!1}!y&&!i.value.website&&(n.value.website=`https://${_}`)}}return!n.value.vision||n.value.vision.length<B.VISION_MIN_LENGTH?(i.value.vision=`Vision statement must be at least ${B.VISION_MIN_LENGTH} characters`,v=!1):n.value.vision.length>B.VISION_MAX_LENGTH&&(i.value.vision=`Vision statement cannot exceed ${B.VISION_MAX_LENGTH} characters`,v=!1),!n.value.strategy||n.value.strategy.length<B.STRATEGY_MIN_LENGTH?(i.value.strategy=`Strategy must be at least ${B.STRATEGY_MIN_LENGTH} characters`,v=!1):n.value.strategy.length>B.STRATEGY_MAX_LENGTH&&(i.value.strategy=`Strategy cannot exceed ${B.STRATEGY_MAX_LENGTH} characters`,v=!1),!n.value.values||n.value.values.length<B.VALUES_MIN_LENGTH?(i.value.values=`Values must be at least ${B.VALUES_MIN_LENGTH} characters`,v=!1):n.value.values.length>B.VALUES_MAX_LENGTH&&(i.value.values=`Values cannot exceed ${B.VALUES_MAX_LENGTH} characters`,v=!1),!n.value.skillslookingfor||n.value.skillslookingfor.length<B.SKILL_MIN_LENGTH?(i.value.skillslookingfor=`Skills looking for must be at least ${B.SKILL_MIN_LENGTH} characters`,v=!1):n.value.skillslookingfor.length>B.SKILL_MAX_LENGTH&&(i.value.skillslookingfor=`Skills looking for cannot exceed ${B.SKILL_MAX_LENGTH} characters`,v=!1),f(),v},f=()=>{var w,N;o.value=Array(5).fill(null),a.value=Array(5).fill(null),delete i.value.benefits,delete i.value.drawbacks;let v=!0;for(let C=0;C<n.value.benefits.length;C++){const R=(w=n.value.benefits[C])==null?void 0:w.trim(),T=(N=n.value.drawbacks[C])==null?void 0:N.trim();R&&R.length<B.BENEFIT_MIN_LENGTH?(o.value[C]=`Benefit #${C+1} must be at least ${B.BENEFIT_MIN_LENGTH} characters`,v=!1):R&&R.length>B.BENEFIT_MAX_LENGTH&&(o.value[C]=`Benefit #${C+1} cannot exceed ${B.BENEFIT_MAX_LENGTH} characters`,v=!1),T&&T.length<B.DRAWBACK_MIN_LENGTH?(a.value[C]=`Drawback #${C+1} must be at least ${B.DRAWBACK_MIN_LENGTH} characters`,v=!1):T&&T.length>B.DRAWBACK_MAX_LENGTH&&(a.value[C]=`Drawback #${C+1} cannot exceed ${B.DRAWBACK_MAX_LENGTH} characters`,v=!1),(R&&!T||!R&&T)&&(R&&!T?a.value[C]=`Please provide a matching drawback for Benefit #${C+1}`:!R&&T&&(o.value[C]=`Please provide a matching benefit for Drawback #${C+1}`),v=!1)}const _=n.value.benefits.filter(C=>C&&C.trim().length>0),y=n.value.drawbacks.filter(C=>C&&C.trim().length>0);return _.length!==y.length&&(i.value.benefits="The number of benefits and drawbacks must be equal",i.value.drawbacks="The number of benefits and drawbacks must be equal",v=!1),v},h=async()=>{var v,_;try{if(!c()){r.value="Please fix the validation errors before submitting.";return}l.value=!0;const{data:y}=await be.auth.getSession(),w=y==null?void 0:y.session;if(!w||!w.access_token){r.value="User not authenticated. Please log in.",l.value=!1;return}const N=Nn(n.value),R=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.access_token}`},body:JSON.stringify(N)})).json();R.validationErrors?(i.value=R.validationErrors,R.validationErrors.benefits&&(o.value=((v=R.validationErrors)==null?void 0:v.benefits)||[]),R.validationErrors.drawbacks&&(a.value=((_=R.validationErrors)==null?void 0:_.drawbacks)||[]),r.value="Server validation failed. Please check the highlighted fields."):(r.value=R.error?`Error: ${R.error}`:"Company profile updated successfully!",R.error||setTimeout(()=>{r.value=""},3e3))}catch(y){console.error("Profile update error:",y),r.value=`Error: ${y.message||"An unexpected error occurred"}`}finally{l.value=!1}};return Tt(async()=>{try{const{data:v}=await be.auth.getSession(),_=v==null?void 0:v.session;if(!_||!_.access_token){r.value="User not authenticated. Please log in.";return}const y=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.access_token}`}});if(!y.ok)throw new Error("Failed to fetch company profile data");const w=await y.json();n.value={name:w.name||"",vision:w.vision||"",strategy:w.strategy||"",values:w.values||"",skillslookingfor:w.skillslookingfor||"",location:w.location||"",website:w.website||"",benefits:Array.isArray(w.benefits)?w.benefits.slice(0,5).concat(Array(5-Math.min(w.benefits.length,5)).fill("")):["","","","",""],drawbacks:Array.isArray(w.drawbacks)?w.drawbacks.slice(0,5).concat(Array(5-Math.min(w.drawbacks.length,5)).fill("")):["","","","",""]}}catch(v){r.value=`Error: ${v.message}`}}),(v,_)=>(S(),E("div",Mg,[_[18]||(_[18]=g("h1",{class:"page-title"},"Company Profile Update",-1)),g("form",{onSubmit:et(h,["prevent"]),class:"profile-form"},[g("div",Dg,[_[10]||(_[10]=g("h2",{class:"section-title"},"Company Information",-1)),g("div",Hg,[_[7]||(_[7]=g("label",{for:"name"},"Name",-1)),le(g("input",{type:"text",id:"name","onUpdate:modelValue":_[0]||(_[0]=y=>n.value.name=y),required:"",class:"form-input"},null,512),[[de,n.value.name]]),i.value.name?(S(),E("span",Fg,V(i.value.name),1)):M("",!0)]),g("div",Bg,[_[8]||(_[8]=g("label",{for:"location"},"Location",-1)),le(g("input",{type:"text",id:"location","onUpdate:modelValue":_[1]||(_[1]=y=>n.value.location=y),required:"",class:"form-input"},null,512),[[de,n.value.location]]),i.value.location?(S(),E("span",Vg,V(i.value.location),1)):M("",!0)]),g("div",Gg,[_[9]||(_[9]=g("label",{for:"website"},"Website",-1)),le(g("input",{type:"url",id:"website","onUpdate:modelValue":_[2]||(_[2]=y=>n.value.website=y),class:"form-input"},null,512),[[de,n.value.website]]),i.value.website?(S(),E("span",qg,V(i.value.website),1)):M("",!0)])]),g("div",zg,[_[15]||(_[15]=g("h2",{class:"section-title"},"Company Vision",-1)),g("div",Kg,[_[11]||(_[11]=g("label",{for:"vision"},"Vision Statement",-1)),le(g("textarea",{id:"vision","onUpdate:modelValue":_[3]||(_[3]=y=>n.value.vision=y),required:"",class:"form-textarea"},null,512),[[de,n.value.vision]]),i.value.vision?(S(),E("span",Wg,V(i.value.vision),1)):M("",!0)]),g("div",Jg,[_[12]||(_[12]=g("label",{for:"strategy"},"Strategy",-1)),le(g("textarea",{id:"strategy","onUpdate:modelValue":_[4]||(_[4]=y=>n.value.strategy=y),required:"",class:"form-textarea"},null,512),[[de,n.value.strategy]]),i.value.strategy?(S(),E("span",Xg,V(i.value.strategy),1)):M("",!0)]),g("div",Yg,[_[13]||(_[13]=g("label",{for:"values"},"Values",-1)),le(g("textarea",{id:"values","onUpdate:modelValue":_[5]||(_[5]=y=>n.value.values=y),required:"",class:"form-textarea"},null,512),[[de,n.value.values]]),i.value.values?(S(),E("span",Qg,V(i.value.values),1)):M("",!0)]),g("div",Zg,[_[14]||(_[14]=g("label",{for:"skillslookingfor"},"Skills Looking For",-1)),le(g("textarea",{id:"skillslookingfor","onUpdate:modelValue":_[6]||(_[6]=y=>n.value.skillslookingfor=y),required:"",class:"form-textarea"},null,512),[[de,n.value.skillslookingfor]]),i.value.skillslookingfor?(S(),E("span",em,V(i.value.skillslookingfor),1)):M("",!0)])]),g("div",tm,[_[16]||(_[16]=g("h2",{class:"section-title"},[pt("Benefits "),g("span",{class:"field-limit"},"(max 5)")],-1)),g("div",sm,[(S(!0),E(ke,null,Ye(n.value.benefits,(y,w)=>(S(),E("div",{key:"benefit"+w,class:"form-group"},[g("label",{for:"benefit"+(w+1)},"Benefit "+V(w+1),9,nm),le(g("input",{type:"text",id:"benefit"+(w+1),"onUpdate:modelValue":N=>n.value.benefits[w]=N,class:"form-input",onInput:f},null,40,rm),[[de,n.value.benefits[w]]]),o.value[w]?(S(),E("span",im,V(o.value[w]),1)):M("",!0),i.value["benefit"+(w+1)]?(S(),E("span",om,V(i.value["benefit"+(w+1)]),1)):M("",!0)]))),128))])]),g("div",am,[_[17]||(_[17]=g("h2",{class:"section-title"},[pt("Drawbacks "),g("span",{class:"field-limit"},"(max 5)")],-1)),g("div",lm,[(S(!0),E(ke,null,Ye(n.value.drawbacks,(y,w)=>(S(),E("div",{key:"drawback"+w,class:"form-group"},[g("label",{for:"drawback"+(w+1)},"Drawback "+V(w+1),9,cm),le(g("input",{type:"text",id:"drawback"+(w+1),"onUpdate:modelValue":N=>n.value.drawbacks[w]=N,class:"form-input",onInput:f},null,40,um),[[de,n.value.drawbacks[w]]]),a.value[w]?(S(),E("span",fm,V(a.value[w]),1)):M("",!0),i.value["drawback"+(w+1)]?(S(),E("span",hm,V(i.value["drawback"+(w+1)]),1)):M("",!0)]))),128))]),i.value.benefits||i.value.drawbacks?(S(),E("span",dm,"The number of benefits and drawbacks must be equal")):M("",!0)]),g("div",pm,[g("button",{type:"submit",class:"btn-submit",disabled:!u.value||l.value},"Save Profile",8,gm)])],32),r.value?(S(),E("div",mm,V(r.value),1)):M("",!0)]))}},_m=Ne(vm,[["__scopeId","data-v-3827b5f8"]]),ym={class:"profile-container"},bm={key:0},wm={class:"profile-header"},km={class:"profile-header-content"},Sm={class:"profile-name"},Em={class:"profile-username"},Tm={class:"profile-actions"},$m={key:0,class:"endorsement-form"},Am={class:"connections-bar"},Pm={class:"connection-count"},Om={class:"connection-count"},Cm={class:"profile-section"},Rm={class:"profile-info"},xm={key:0,class:"info-item"},Im={class:"info-value"},jm={key:1,class:"info-item"},Lm={class:"info-value"},Nm={key:2,class:"info-item"},Um={class:"info-value"},Mm={key:1,class:"profile-section"},Dm={class:"profile-info"},Hm={key:0,class:"info-item"},Fm={class:"info-value"},Bm={key:1,class:"info-item"},Vm={class:"info-value"},Gm={key:2,class:"profile-section"},qm={class:"skills-container"},zm={key:0,class:"skills-column"},Km={class:"skills-list"},Wm={key:1,class:"skills-column"},Jm={class:"skills-list"},Xm={key:1,class:"message-container"},Ym={class:"response-message"},Qm={__name:"PersonProfileShow",setup(e){const t=Qn(),s=ns(),n=W(null),r=W(""),i=W(!1),o=W(""),a=W(t.params.userID),l=W(null),u=`${we}/functions/v1/get-user-profile`,c=`${we}/functions/v1/endorsements`,f=async()=>{try{const{data:_}=await be.auth.getSession(),y=_==null?void 0:_.session;if(!y||!y.access_token){r.value="User not authenticated. Please log in.";return}l.value=y.user.id;const w=`${u}?lookUserID=${a.value}`,N=await fetch(w,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`}});if(!N.ok)throw new Error("Failed to fetch user profile data");n.value=await N.json()}catch(_){r.value=`Error: ${_.message}`}},h=async()=>{if(n.value)try{const{data:_}=await be.auth.getSession(),y=_==null?void 0:_.session;if(!y||!y.access_token){r.value="User not authenticated. Please log in.";return}const w=n.value.followed?"unfollow":"follow",N=await fetch(`${u}?lookUserID=${a.value}&action=${w}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`}}),C=await N.json();N.ok?(n.value.followed=!n.value.followed,w==="follow"?n.value.followers++:n.value.followers=Math.max(0,n.value.followers-1)):(console.error("Failed to follow/unfollow user:",C.error),r.value=`Error: ${C.error||"Failed to follow/unfollow user"}`)}catch(_){console.error("Error in toggleFollow:",_),r.value=`Error: ${_.message||"An unexpected error occurred"}`}},d=async()=>{try{const{data:_}=await be.auth.getSession(),y=_==null?void 0:_.session;if(!y||!y.access_token){r.value="User not authenticated. Please log in.";return}if(!(await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`},body:JSON.stringify({touserid:a.value,congratulationtext:o.value})})).ok)throw new Error("Failed to submit endorsement");r.value="Endorsement submitted successfully!",o.value="",i.value=!1}catch(_){r.value=`Error: ${_.message}`}},v=async _=>{try{const y=await Ul(a.value,_);_==="following"?(yi().setResults(y.message),s.push({name:"Following",params:{type:"following"}})):_==="followers"&&(_i().setResults(y.message),s.push({name:"Followers",params:{type:"followers"}}))}catch(y){console.error("Error fetching user connections:",y)}};return Tt(async()=>{await f()}),Rl(async(_,y)=>{a.value=_.params.userID,await f()}),(_,y)=>{var w,N,C,R;return S(),E("div",ym,[n.value?(S(),E("div",bm,[g("div",wm,[g("div",km,[g("h1",Sm,V(n.value.name||"")+" "+V(n.value.surname||""),1),g("p",Em,"@"+V(n.value.username||"N/A"),1)]),g("div",Tm,[n.value.showFollowButton?(S(),E("button",{key:0,onClick:h,class:kt(["follow-button",{following:n.value.followed}])},V(n.value.followed?"Following":"Follow"),3)):M("",!0),n.value.showFollowButton?(S(),E("button",{key:1,onClick:y[0]||(y[0]=T=>i.value=!i.value),class:"endorsement-button"}," Write Endorsement ")):M("",!0)])]),i.value?(S(),E("div",$m,[le(g("textarea",{"onUpdate:modelValue":y[1]||(y[1]=T=>o.value=T),placeholder:"Write your endorsement here..."},null,512),[[de,o.value]]),g("div",{class:"submit-button-container"},[g("button",{onClick:d,class:"submit-endorsement-button"},"Submit")])])):M("",!0),g("div",Am,[g("a",{href:"#",class:"connection-stat",onClick:y[2]||(y[2]=et(T=>v("following"),["prevent"]))},[g("span",Pm,V(n.value.following||0),1),y[4]||(y[4]=g("span",{class:"connection-label"},"Following",-1))]),g("a",{href:"#",class:"connection-stat",onClick:y[3]||(y[3]=et(T=>v("followers"),["prevent"]))},[g("span",Om,V(n.value.followers||0),1),y[5]||(y[5]=g("span",{class:"connection-label"},"Followers",-1))])]),g("div",Cm,[y[9]||(y[9]=g("h2",{class:"section-title"},"Profile",-1)),g("div",Rm,[n.value.location?(S(),E("div",xm,[y[6]||(y[6]=g("span",{class:"info-label"},"Location",-1)),g("span",Im,V(n.value.location),1)])):M("",!0),n.value.vision?(S(),E("div",jm,[y[7]||(y[7]=g("span",{class:"info-label"},"Vision",-1)),g("span",Lm,V(n.value.vision),1)])):M("",!0),n.value.hobby?(S(),E("div",Nm,[y[8]||(y[8]=g("span",{class:"info-label"},"Hobby",-1)),g("span",Um,V(n.value.hobby),1)])):M("",!0)])]),n.value.success||n.value.failure?(S(),E("div",Mm,[y[12]||(y[12]=g("h2",{class:"section-title"},"Experience",-1)),g("div",Dm,[n.value.success?(S(),E("div",Hm,[y[10]||(y[10]=g("span",{class:"info-label"},"Success",-1)),g("span",Fm,V(n.value.success),1)])):M("",!0),n.value.failure?(S(),E("div",Bm,[y[11]||(y[11]=g("span",{class:"info-label"},"Failure",-1)),g("span",Vm,V(n.value.failure),1)])):M("",!0)])])):M("",!0),(w=n.value.strengths)!=null&&w.length||(N=n.value.weaknesses)!=null&&N.length?(S(),E("div",Gm,[y[15]||(y[15]=g("h2",{class:"section-title"},"Skills Assessment",-1)),g("div",qm,[(C=n.value.strengths)!=null&&C.length?(S(),E("div",zm,[y[13]||(y[13]=g("h3",{class:"skills-subtitle"},"Strengths",-1)),g("ul",Km,[(S(!0),E(ke,null,Ye(n.value.strengths,T=>(S(),E("li",{key:T},V(T),1))),128))])])):M("",!0),(R=n.value.weaknesses)!=null&&R.length?(S(),E("div",Wm,[y[14]||(y[14]=g("h3",{class:"skills-subtitle"},"Weaknesses",-1)),g("ul",Jm,[(S(!0),E(ke,null,Ye(n.value.weaknesses,T=>(S(),E("li",{key:T},V(T),1))),128))])])):M("",!0)])])):M("",!0)])):r.value?(S(),E("div",Xm,[g("p",Ym,V(r.value),1)])):M("",!0)])}}},Zm=Ne(Qm,[["__scopeId","data-v-f346e25c"]]),ev={class:"profile-update-container"},tv={class:"form-section"},sv={class:"form-group"},nv={key:0,class:"error-message"},rv={class:"form-group"},iv={key:0,class:"error-message"},ov={class:"form-group"},av={key:0,class:"error-message"},lv={key:1,style:{"margin-top":"6px"}},cv={key:0,style:{color:"#666","font-size":"0.9rem"}},uv={key:1,style:{color:"green","font-size":"0.95rem"}},fv={key:2,style:{color:"red","font-size":"0.95rem"}},hv={class:"form-group"},dv={key:0,class:"error-message"},pv={class:"form-group"},gv={key:0,class:"error-message"},mv={class:"form-section"},vv={class:"form-group"},_v={key:0,class:"error-message"},yv={class:"form-section"},bv={class:"form-group"},wv={key:0,class:"error-message"},kv={class:"form-group"},Sv={key:0,class:"error-message"},Ev={class:"form-section"},Tv={class:"list-items"},$v=["for"],Av=["id","onUpdate:modelValue"],Pv={key:0,class:"error-message"},Ov={key:1,class:"error-message"},Cv={class:"form-section"},Rv={class:"list-items"},xv=["for"],Iv=["id","onUpdate:modelValue"],jv={key:0,class:"error-message"},Lv={key:1,class:"error-message"},Nv={key:0,class:"error-message"},Uv={class:"form-actions"},Mv=["disabled"],Dv={key:0,class:"response-message"},Hv={__name:"PersonProfileUpdate",setup(e){const t=`${we}/functions/v1/user-profile-edit`,s=`${we}/functions/v1/get-user-profile`,n=W({name:"",surname:"",username:"",vision:"",location:"",success:"",failure:"",strengths:["","","","",""],weaknesses:["","","","",""],hobby:""}),r=W(""),i=W({}),o=W(Array(5).fill(null)),a=W(Array(5).fill(null)),l=W(!1),u=W(null),c=W(!1),f=W(null);let h=null;const d=Ee(()=>(v(),Object.keys(i.value).length===0)),v=()=>{i.value={},o.value=Array(5).fill(null),a.value=Array(5).fill(null);let I=!0;!n.value.name||n.value.name.length<B.NAME_MIN_LENGTH?(i.value.name=`Name must be at least ${B.NAME_MIN_LENGTH} characters`,I=!1):n.value.name.length>B.NAME_MAX_LENGTH&&(i.value.name=`Name cannot exceed ${B.NAME_MAX_LENGTH} characters`,I=!1),!n.value.surname||n.value.surname.length<B.NAME_MIN_LENGTH?(i.value.surname=`Last name must be at least ${B.NAME_MIN_LENGTH} characters`,I=!1):n.value.surname.length>B.NAME_MAX_LENGTH&&(i.value.surname=`Last name cannot exceed ${B.NAME_MAX_LENGTH} characters`,I=!1),!n.value.username||n.value.username.length<B.NAME_MIN_LENGTH?(i.value.username=`Username must be at least ${B.NAME_MIN_LENGTH} characters`,I=!1):n.value.username.length>B.NAME_MAX_LENGTH&&(i.value.username=`Username cannot exceed ${B.NAME_MAX_LENGTH} characters`,I=!1),!n.value.location||n.value.location.length<B.LOCATION_MIN_LENGTH?(i.value.location=`Location must be at least ${B.LOCATION_MIN_LENGTH} characters`,I=!1):n.value.location.length>B.LOCATION_MAX_LENGTH&&(i.value.location=`Location cannot exceed ${B.LOCATION_MAX_LENGTH} characters`,I=!1),n.value.hobby&&n.value.hobby.length<B.HOBBY_MIN_LENGTH?(i.value.hobby=`Hobby must be at least ${B.HOBBY_MIN_LENGTH} characters`,I=!1):n.value.hobby&&n.value.hobby.length>B.HOBBY_MAX_LENGTH&&(i.value.hobby=`Hobby cannot exceed ${B.HOBBY_MAX_LENGTH} characters`,I=!1),!n.value.vision||n.value.vision.length<B.VISION_MIN_LENGTH?(i.value.vision=`Vision statement must be at least ${B.VISION_MIN_LENGTH} characters`,I=!1):n.value.vision.length>B.VISION_MAX_LENGTH&&(i.value.vision=`Vision statement cannot exceed ${B.VISION_MAX_LENGTH} characters`,I=!1),!n.value.success||n.value.success.length<B.SUCCESS_MIN_LENGTH?(i.value.success=`Success definition must be at least ${B.SUCCESS_MIN_LENGTH} characters`,I=!1):n.value.success.length>B.SUCCESS_MAX_LENGTH&&(i.value.success=`Success definition cannot exceed ${B.SUCCESS_MAX_LENGTH} characters`,I=!1),!n.value.failure||n.value.failure.length<B.FAILURE_MIN_LENGTH?(i.value.failure=`Failure definition must be at least ${B.FAILURE_MIN_LENGTH} characters`,I=!1):n.value.failure.length>B.FAILURE_MAX_LENGTH&&(i.value.failure=`Failure definition cannot exceed ${B.FAILURE_MAX_LENGTH} characters`,I=!1);for(let k=0;k<n.value.strengths.length;k++){const x=n.value.strengths[k],j=n.value.weaknesses[k];x&&x.length<B.STRENGTH_MIN_LENGTH?(o.value[k]=`Strength #${k+1} must be at least ${B.STRENGTH_MIN_LENGTH} characters`,I=!1):x&&x.length>B.STRENGTH_MAX_LENGTH&&(o.value[k]=`Strength #${k+1} cannot exceed ${B.STRENGTH_MAX_LENGTH} characters`,I=!1),j&&j.length<B.WEAKNESS_MIN_LENGTH?(a.value[k]=`Weakness #${k+1} must be at least ${B.WEAKNESS_MIN_LENGTH} characters`,I=!1):j&&j.length>B.WEAKNESS_MAX_LENGTH&&(a.value[k]=`Weakness #${k+1} cannot exceed ${B.WEAKNESS_MAX_LENGTH} characters`,I=!1),(x&&!j||!x&&j)&&(x&&!j?a.value[k]=`Please provide a matching weakness for Strength #${k+1}`:!x&&j&&(o.value[k]=`Please provide a matching strength for Weakness #${k+1}`),I=!1)}return I},_=async()=>{var I,k;try{if(!v()){r.value="Please fix the validation errors before submitting.";return}l.value=!0;const{data:x}=await be.auth.getSession(),j=x==null?void 0:x.session;if(!j||!j.access_token){r.value="User not authenticated. Please log in.",l.value=!1;return}const q=Nn(n.value);if(u.value===!1){r.value="Error: Username already taken",l.value=!1;return}const ce=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j.access_token}`},body:JSON.stringify(q)})).json();ce.validationErrors?(i.value=ce.validationErrors,o.value=((I=ce.validationErrors)==null?void 0:I.strengths)||[],a.value=((k=ce.validationErrors)==null?void 0:k.weaknesses)||[],r.value="Server validation failed. Please check the highlighted fields."):(r.value=ce.error?`Error: ${ce.error}`:"Profile updated successfully!",ce.error||setTimeout(()=>{r.value=""},3e3))}catch(x){console.error("Profile update error:",x),r.value=`Error: ${x.message||"An unexpected error occurred"}`}finally{l.value=!1}};Tt(async()=>{var I;try{const{data:k}=await be.auth.getSession(),x=k==null?void 0:k.session;if(!x||!x.access_token){r.value="User not authenticated. Please log in.";return}f.value=((I=x.user)==null?void 0:I.id)??null;const j=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x.access_token}`}});if(!j.ok)throw new Error("Failed to fetch user profile data");const q=await j.json();n.value={name:q.name||"",surname:q.surname||"",username:q.username||"",vision:q.vision||"",location:q.location||"",success:q.success||"",failure:q.failure||"",strengths:Array.isArray(q.strengths)?q.strengths.slice(0,5).concat(Array(5-Math.min(q.strengths.length,5)).fill("")):["","","","",""],weaknesses:Array.isArray(q.weaknesses)?q.weaknesses.slice(0,5).concat(Array(5-Math.min(q.weaknesses.length,5)).fill("")):["","","","",""],hobby:q.hobby||""},u.value=!0,console.debug("populateForm loaded user profile",{currentUserId:f.value,username:n.value.username})}catch(k){r.value=`Error: ${k.message}`}});function w(){h&&(clearTimeout(h),h=null)}function N(){u.value=null,R(),w(),h=setTimeout(()=>T(),600)}function C(){w(),T()}function R(){i.value.username&&delete i.value.username}async function T(){const I=String(n.value.username||"").trim();if(!I||I.length<3){u.value=null;return}try{c.value=!0;const k=`${we}/functions/v1/check-username?username=${encodeURIComponent(I)}`,j=await(await fetch(k,{method:"GET"})).json();if(console.debug("check-username response",j),j.error){console.error("check-username error:",j.error),u.value=null;return}j.found&&j.found.userid?f.value&&j.found.userid===f.value?u.value=!0:u.value=!1:u.value=!!j.available}catch(k){console.error("Failed checking username availability:",k),u.value=null}finally{c.value=!1}}return(I,k)=>(S(),E("div",ev,[k[23]||(k[23]=g("h1",{class:"page-title"},"User Profile Update",-1)),g("form",{onSubmit:et(_,["prevent"]),class:"profile-form"},[g("div",tv,[k[15]||(k[15]=g("h2",{class:"section-title"},"Personal Information",-1)),g("div",sv,[k[10]||(k[10]=g("label",{for:"first-name"},"First Name",-1)),le(g("input",{type:"text",id:"first-name","onUpdate:modelValue":k[0]||(k[0]=x=>n.value.name=x),required:"",class:"form-input"},null,512),[[de,n.value.name]]),i.value.name?(S(),E("span",nv,V(i.value.name),1)):M("",!0)]),g("div",rv,[k[11]||(k[11]=g("label",{for:"surname"},"Last Name",-1)),le(g("input",{type:"text",id:"surname","onUpdate:modelValue":k[1]||(k[1]=x=>n.value.surname=x),required:"",class:"form-input"},null,512),[[de,n.value.surname]]),i.value.surname?(S(),E("span",iv,V(i.value.surname),1)):M("",!0)]),g("div",ov,[k[12]||(k[12]=g("label",{for:"username"},"Username",-1)),le(g("input",{type:"text",id:"username","onUpdate:modelValue":k[2]||(k[2]=x=>n.value.username=x),required:"",class:"form-input",onInput:N,onBlur:C},null,544),[[de,n.value.username]]),i.value.username?(S(),E("span",av,V(i.value.username),1)):(S(),E("div",lv,[c.value?(S(),E("span",cv,"Checking availability...")):u.value===!0?(S(),E("span",uv,"Username available")):u.value===!1?(S(),E("span",fv,"Username already taken")):M("",!0)]))]),g("div",hv,[k[13]||(k[13]=g("label",{for:"location"},"Location",-1)),le(g("input",{type:"text",id:"location","onUpdate:modelValue":k[3]||(k[3]=x=>n.value.location=x),required:"",class:"form-input"},null,512),[[de,n.value.location]]),i.value.location?(S(),E("span",dv,V(i.value.location),1)):M("",!0)]),g("div",pv,[k[14]||(k[14]=g("label",{for:"hobby"},"Hobby",-1)),le(g("textarea",{id:"hobby","onUpdate:modelValue":k[4]||(k[4]=x=>n.value.hobby=x),maxlength:"200",class:"form-textarea"},null,512),[[de,n.value.hobby]]),i.value.hobby?(S(),E("span",gv,V(i.value.hobby),1)):M("",!0)])]),g("div",mv,[k[17]||(k[17]=g("h2",{class:"section-title"},"Personal Vision",-1)),g("div",vv,[k[16]||(k[16]=g("label",{for:"vision"},"Vision Statement",-1)),le(g("textarea",{id:"vision","onUpdate:modelValue":k[5]||(k[5]=x=>n.value.vision=x),required:"",class:"form-textarea"},null,512),[[de,n.value.vision]]),i.value.vision?(S(),E("span",_v,V(i.value.vision),1)):M("",!0)])]),g("div",yv,[k[20]||(k[20]=g("h2",{class:"section-title"},"Success & Failure",-1)),g("div",bv,[k[18]||(k[18]=g("label",{for:"success"},"Success Definition",-1)),le(g("textarea",{id:"success","onUpdate:modelValue":k[6]||(k[6]=x=>n.value.success=x),required:"",class:"form-textarea"},null,512),[[de,n.value.success]]),i.value.success?(S(),E("span",wv,V(i.value.success),1)):M("",!0)]),g("div",kv,[k[19]||(k[19]=g("label",{for:"failure"},"Failure Definition",-1)),le(g("textarea",{id:"failure","onUpdate:modelValue":k[7]||(k[7]=x=>n.value.failure=x),required:"",class:"form-textarea"},null,512),[[de,n.value.failure]]),i.value.failure?(S(),E("span",Sv,V(i.value.failure),1)):M("",!0)])]),g("div",Ev,[k[21]||(k[21]=g("h2",{class:"section-title"},[pt("Strengths "),g("span",{class:"field-limit"},"(max 5)")],-1)),g("div",Tv,[(S(!0),E(ke,null,Ye(n.value.strengths,(x,j)=>(S(),E("div",{key:`strength-${j}`,class:"form-group"},[g("label",{for:`strength-${j}`},"Strength "+V(j+1),9,$v),le(g("input",{type:"text",class:"form-input",id:`strength-${j}`,"onUpdate:modelValue":q=>n.value.strengths[j]=q,onInput:k[8]||(k[8]=(...q)=>I.validateProfileDetails&&I.validateProfileDetails(...q))},null,40,Av),[[de,n.value.strengths[j]]]),i.value[`strength${j+1}`]?(S(),E("span",Pv,V(i.value[`strength${j+1}`]),1)):M("",!0),o.value[j]?(S(),E("span",Ov,V(o.value[j]),1)):M("",!0)]))),128))])]),g("div",Cv,[k[22]||(k[22]=g("h2",{class:"section-title"},[pt("Weaknesses "),g("span",{class:"field-limit"},"(max 5)")],-1)),g("div",Rv,[(S(!0),E(ke,null,Ye(n.value.weaknesses,(x,j)=>(S(),E("div",{key:`weakness-${j}`,class:"form-group"},[g("label",{for:`weakness-${j}`},"Weakness "+V(j+1),9,xv),le(g("input",{type:"text",class:"form-input",id:`weakness-${j}`,"onUpdate:modelValue":q=>n.value.weaknesses[j]=q,onInput:k[9]||(k[9]=(...q)=>I.validateProfileDetails&&I.validateProfileDetails(...q))},null,40,Iv),[[de,n.value.weaknesses[j]]]),i.value[`weakness${j+1}`]?(S(),E("span",jv,V(i.value[`weakness${j+1}`]),1)):M("",!0),a.value[j]?(S(),E("span",Lv,V(a.value[j]),1)):M("",!0)]))),128))]),i.value.strengths||i.value.weaknesses?(S(),E("span",Nv,"The number of strengths and weaknesses must be equal")):M("",!0)]),g("div",Uv,[g("button",{type:"submit",class:"btn-submit",disabled:!d.value||l.value||c.value||u.value===!1},"Save Profile",8,Mv)])],32),r.value?(S(),E("div",Dv,V(r.value),1)):M("",!0)]))}},Fv=Ne(Hv,[["__scopeId","data-v-5ed1ec23"]]),Bv={class:"timeline"},Vv={key:0,class:"error"},Gv={class:"events"},qv=["innerHTML"],zv={key:1,class:"loading"},Kv={key:3,class:"end"},Wv={__name:"Timeline",setup(e){const t=ns(),s=W([]),n=W(!1),r=W(""),i=W(!1),o=W(null),a=W(null),l=new Map;function u(){var I,k;const T=Object.keys(localStorage).filter(x=>x.startsWith("sb-")&&x.endsWith("-auth-token"));for(const x of T)try{const j=localStorage.getItem(x);if(!j)continue;const q=JSON.parse(j),fe=(q==null?void 0:q.access_token)||((I=q==null?void 0:q.currentSession)==null?void 0:I.access_token)||((k=q==null?void 0:q.session)==null?void 0:k.access_token);if(fe)return a.value=fe,fe}catch{}return null}async function c(T=5){if(a.value)return a.value;let I=u(),k=0;for(;!I&&k<T;)await new Promise(x=>setTimeout(x,300)),I=u(),k++;return I}async function f(T=!1){if(!(n.value||i.value)){n.value=!0,r.value="";try{const I=await c();if(!I)throw new Error("Not authenticated (token missing)");const k=new URL(`${we}/functions/v1/timeline`);!T&&o.value&&k.searchParams.set("before",o.value),k.searchParams.set("limit","20");const x=await fetch(k.toString(),{headers:{Authorization:`Bearer ${I}`}});if(!x.ok)throw new Error("Failed to load timeline");const q=(await x.json()).events||[];q.length===0?i.value=!0:(s.value.push(...q),o.value=q[q.length-1].created_at,await h(q,I))}catch(I){r.value=I instanceof Error?I.message:"Unknown error"}finally{n.value=!1}}}async function h(T,I){const k=new Set;T.forEach(x=>{x.actor_userid&&!l.has(x.actor_userid)&&k.add(x.actor_userid),x.target_userid&&!l.has(x.target_userid)&&k.add(x.target_userid)});for(const x of k)try{const j=new URL(`${we}/functions/v1/get-user-profile`);j.searchParams.set("lookUserID",x);const q=await fetch(j.toString(),{headers:{Authorization:`Bearer ${I}`}});if(!q.ok)continue;const fe=await q.json();let ce;fe.username?ce=fe.username:fe.name?ce=fe.name:ce="user",l.set(x,{display:ce})}catch{}}function d(T,I){const k=I?"CompanyProfileShow":"PersonProfileShow";return t.resolve({name:k,params:{userID:T}}).href}function v(T){var k,x;const I=new Date(T.created_at).toLocaleString();switch(T.event_type){case"profile_update":{const fe=(((k=T.metadata)==null?void 0:k.changes)||[]).map(ce=>`${R(ce.field)}: ${R(C(ce.value))}`).join("<br>");return{time:I,html:`${_(T)} updated profile<br><span class="changes">${fe}</span>`}}case"endorsement":return{time:I,html:`${_(T)} endorsed ${y(T)}:<br>&quot;${R(((x=T.metadata)==null?void 0:x.text)||"")}&quot;`};case"follow":return{time:I,html:`${_(T)} started following ${y(T)}`};default:return{time:I,html:`${T.event_type}`}}}function _(T){return w(T.actor_userid,T.actor_is_company)}function y(T){return T.target_userid?w(T.target_userid,T.target_is_company):""}function w(T,I){return`<a href="${d(T,I)}">${N(T)}</a>`}function N(T,I){const k=l.get(T);return k?k.display:""}function C(T){Array.isArray(T)&&(T=T.join("|"));const I=String(T??"");return I.length>40?I.slice(0,37)+"":I}function R(T){return T.replace(/[&<>"']/g,I=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[I])}return Tt(()=>f(!0)),(T,I)=>(S(),E("div",Bv,[I[1]||(I[1]=g("h1",null,"Timeline",-1)),r.value?(S(),E("div",Vv,V(r.value),1)):M("",!0),g("ul",Gv,[(S(!0),E(ke,null,Ye(s.value,k=>(S(),E("li",{key:k.id,innerHTML:v(k).time+": "+v(k).html},null,8,qv))),128))]),n.value?(S(),E("div",zv,"Loading...")):M("",!0),!n.value&&!i.value?(S(),E("button",{key:2,onClick:I[0]||(I[0]=k=>f())},"Load more")):M("",!0),i.value?(S(),E("div",Kv,"No more events")):M("",!0)]))}},Jv=Ne(Wv,[["__scopeId","data-v-4d6a807d"]]),Xv={class:"notifications"},Yv={class:"summary"},Qv={class:"events"},Zv={class:"meta"},e_=["innerHTML"],t_={key:0,class:"body"},s_={__name:"Notifications",setup(e){const t=Nl(),s=ns();Tt(async()=>{await t.fetchForCurrentUser()});function n(a,l){const u=l?"CompanyProfileShow":"PersonProfileShow";return s.resolve({name:u,params:{userID:a}}).href}function r(a){var d;const l=new Date(a.created_at).toLocaleString(),u=a.actor_display||"Someone",c=a.actor_userid?`<a href="${n(a.actor_userid,a.actor_is_company)}">${o(u)}</a>`:o(u),f=(()=>{switch(a.event_type){case"follow":return`${c} started following you`;case"endorsement":return`${c} endorsed you`;default:return o(a.event_type)}})(),h=((d=a.metadata)==null?void 0:d.text)||"";return{time:l,title:f,body:h}}function i(){t.markAllRead()}function o(a){return String(a||"").replace(/[&<>"']/g,l=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[l])}return(a,l)=>(S(),E("div",Xv,[l[0]||(l[0]=g("h1",null,"Notifications",-1)),g("div",Yv,"Unread: "+V(ft(t).unreadCount),1),g("button",{onClick:i,class:"menu-btn"},"Mark all read"),g("ul",Qv,[(S(!0),E(ke,null,Ye(ft(t).items,u=>(S(),E("li",{key:u.id,class:kt({unread:!u.read})},[g("div",Zv,V(r(u).time),1),g("div",{class:"title",innerHTML:r(u).title},null,8,e_),r(u).body?(S(),E("div",t_,V(r(u).body),1)):M("",!0)],2))),128))])]))}},n_=Ne(s_,[["__scopeId","data-v-7711cba4"]]),r_={key:0},i_=["checked","onChange"],o_={key:1},a_={class:"form-actions"},l_=["disabled"],c_={__name:"Settings",setup(e){const t=W(!1),s=Rs({items:[]});async function n(){var o;t.value=!0;try{const{data:a}=await be.auth.getSession(),l=(o=a==null?void 0:a.session)==null?void 0:o.access_token;if(!l)return;const u=new URL(`${we}/functions/v1/notification_settings`),c=await fetch(u.toString(),{headers:{Authorization:`Bearer ${l}`}});if(!c.ok)return;const f=await c.json();s.items=(f.settings||[]).map(h=>({...h}))}finally{t.value=!1}}function r(o){s.items[o].enabled=!s.items[o].enabled}async function i(){var o;try{const{data:a}=await be.auth.getSession(),l=(o=a==null?void 0:a.session)==null?void 0:o.access_token;if(!l)return;const u=new URL(`${we}/functions/v1/notification_settings`),c=s.items.map(h=>({event_type:h.event_type,enabled:!!h.enabled}));(await fetch(u.toString(),{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&await n()}catch(a){console.error(a)}}return Tt(n),(o,a)=>(S(),E("div",null,[a[0]||(a[0]=g("h1",null,"Notification Settings",-1)),t.value?(S(),E("div",r_,"Loading...")):M("",!0),g("ul",null,[(S(!0),E(ke,null,Ye(s.items,(l,u)=>(S(),E("li",{key:l.event_type},[g("label",null,[g("input",{type:"checkbox",checked:l.enabled,onChange:c=>r(u)},null,40,i_),pt(" "+V(l.event_type),1)])]))),128))]),!t.value&&s.items.length===0?(S(),E("div",o_,"No settings found. Defaults apply (all enabled).")):M("",!0),g("div",a_,[g("button",{type:"button",onClick:i,class:"btn-submit",disabled:t.value||s.items.length===0},"Save",8,l_)])]))}},u_=Ne(c_,[["__scopeId","data-v-8258fd7f"]]),f_={},h_={class:"init-page"};function d_(e,t){return S(),E("div",h_,t[0]||(t[0]=[g("h1",null,"Init Page",-1),g("p",null,"Coming soon...",-1)]))}const p_=Ne(f_,[["render",d_]]),g_={id:"mainContent"},m_={id:"searchResults"},v_={key:0},__={key:1},y_=["href","onClick"],b_={class:"result-header"},w_={class:"result-name"},k_={key:0,class:"result-surname"},S_={class:"result-vision"},E_={__name:"SearchResults",setup(e){const t=Qn(),s=ns(),n=vi(),r=_i(),i=yi(),o=Ee(()=>{const u=t.params.type;return u==="following"?i.results:u==="followers"?r.results:u==="search"?n.results:(console.error("Invalid type:",u),[])}),a=(u,c)=>{if(c==="person")return s.resolve({name:"PersonProfileShow",params:{userID:u}}).href;if(c==="company")return s.resolve({name:"CompanyProfileShow",params:{userID:u}}).href},l=(u,c,f)=>{if(u.button===1){const h=a(c,f);window.open(h,"_blank")}else f==="person"?s.push({name:"PersonProfileShow",params:{userID:c}}):f==="company"&&s.push({name:"CompanyProfileShow",params:{userID:c}})};return(u,c)=>(S(),E("div",g_,[g("div",m_,[o.value.length===0?(S(),E("p",v_,"No results found.")):M("",!0),o.value.length>0?(S(),E("div",__,[(S(!0),E(ke,null,Ye(o.value,f=>(S(),E("div",{key:f.userid,class:"result-item"},[g("a",{href:a(f.userid,f.surname?"person":"company"),onClick:et(h=>l(h,f.userid,f.surname?"person":"company"),["prevent"])},[g("div",b_,[g("h2",w_,[pt(V(f.name)+" ",1),f.surname?(S(),E("span",k_,V(f.surname),1)):M("",!0)]),g("p",S_,[c[0]||(c[0]=g("span",{class:"vision-label"},"Vision:",-1)),pt(" "+V(f.vision),1)])])],8,y_)]))),128))])):M("",!0)])]))}},wr=Ne(E_,[["__scopeId","data-v-c901e112"]]),T_=[{path:"/",name:"Timeline",component:Jv},{path:"/notifications",name:"Notifications",component:n_},{path:"/settings",name:"Settings",component:u_},{path:"/init_page",name:"InitPage",component:p_},{path:"/register",component:sg},{path:"/confirm_email",name:"ConfirmEmail",component:og},{path:"/company_profile_show/:userID",name:"CompanyProfileShow",component:Ug,props:!0},{path:"/person_profile_show/:userID",name:"PersonProfileShow",component:Zm,props:!0},{path:"/company_profile_update",name:"CompanyProfileUpdate",component:_m},{path:"/person_profile_update",name:"PersonProfileUpdate",component:Fv,props:!0},{path:"/search_results/:type",name:"SearchResults",component:wr,props:!0},{path:"/followers/:type",name:"Followers",component:wr,props:!0},{path:"/following/:type",name:"Following",component:wr,props:!0}],Ml=fp({history:Hd("/SocSite/"),routes:T_});Ml.beforeEach((e,t,s)=>{if(e.name==="SearchResults"&&e.params.type==="search"){const n=vi();t.name&&t.name.includes("Profile")||n&&n.results&&n.results.length>0?s():(console.warn("No search results available, redirecting to Timeline"),s({name:"Timeline"}))}else s()});const bi=rf(qp),$_=dp();bi.use(Ml);bi.use($_);bi.mount("#app");export{mf as g};
