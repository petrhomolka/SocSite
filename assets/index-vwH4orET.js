(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qr(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const fe={},ys=[],ut=()=>{},Hl=()=>!1,Mn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Kr=e=>e.startsWith("onUpdate:"),Re=Object.assign,zr=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Fl=Object.prototype.hasOwnProperty,ae=(e,t)=>Fl.call(e,t),W=Array.isArray,bs=e=>cn(e)==="[object Map]",Un=e=>cn(e)==="[object Set]",Si=e=>cn(e)==="[object Date]",Z=e=>typeof e=="function",Ee=e=>typeof e=="string",ht=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Vo=e=>(me(e)||Z(e))&&Z(e.then)&&Z(e.catch),Go=Object.prototype.toString,cn=e=>Go.call(e),Bl=e=>cn(e).slice(8,-1),qo=e=>cn(e)==="[object Object]",Wr=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fs=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Dn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Vl=/-(\w)/g,Xe=Dn(e=>e.replace(Vl,(t,s)=>s?s.toUpperCase():"")),Gl=/\B([A-Z])/g,es=Dn(e=>e.replace(Gl,"-$1").toLowerCase()),Hn=Dn(e=>e.charAt(0).toUpperCase()+e.slice(1)),tr=Dn(e=>e?`on${Hn(e)}`:""),Dt=(e,t)=>!Object.is(e,t),Sn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ko=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},$n=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ki;const Fn=()=>ki||(ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jr(e){if(W(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=Ee(n)?Wl(n):Jr(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(Ee(e)||me(e))return e}const ql=/;(?![^(]*\))/g,Kl=/:([^]+)/,zl=/\/\*[^]*?\*\//g;function Wl(e){const t={};return e.replace(zl,"").split(ql).forEach(s=>{if(s){const n=s.split(Kl);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function wt(e){let t="";if(Ee(e))t=e;else if(W(e))for(let s=0;s<e.length;s++){const n=wt(e[s]);n&&(t+=n+" ")}else if(me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xl=qr(Jl);function zo(e){return!!e||e===""}function Yl(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=ks(e[n],t[n]);return s}function ks(e,t){if(e===t)return!0;let s=Si(e),n=Si(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ht(e),n=ht(t),s||n)return e===t;if(s=W(e),n=W(t),s||n)return s&&n?Yl(e,t):!1;if(s=me(e),n=me(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!ks(e[o],t[o]))return!1}}return String(e)===String(t)}function Ql(e,t){return e.findIndex(s=>ks(s,t))}const Wo=e=>!!(e&&e.__v_isRef===!0),D=e=>Ee(e)?e:e==null?"":W(e)||me(e)&&(e.toString===Go||!Z(e.toString))?Wo(e)?D(e.value):JSON.stringify(e,Jo,2):String(e),Jo=(e,t)=>Wo(t)?Jo(e,t.value):bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r],i)=>(s[sr(n,i)+" =>"]=r,s),{})}:Un(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>sr(s))}:ht(t)?sr(t):me(t)&&!W(t)&&!qo(t)?String(t):t,sr=(e,t="")=>{var s;return ht(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ie;class Xo{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ie,!t&&Ie&&(this.index=(Ie.scopes||(Ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ie;try{return Ie=this,t()}finally{Ie=s}}}on(){Ie=this}off(){Ie=this.parent}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Yo(e){return new Xo(e)}function Qo(){return Ie}function Zl(e,t=!1){Ie&&Ie.cleanups.push(e)}let ge;const nr=new WeakSet;class Zo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ie&&Ie.active&&Ie.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nr.has(this)&&(nr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ta(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ei(this),sa(this);const t=ge,s=Ze;ge=this,Ze=!0;try{return this.fn()}finally{na(this),ge=t,Ze=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qr(t);this.deps=this.depsTail=void 0,Ei(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sr(this)&&this.run()}get dirty(){return Sr(this)}}let ea=0,Bs,Vs;function ta(e,t=!1){if(e.flags|=8,t){e.next=Vs,Vs=e;return}e.next=Bs,Bs=e}function Xr(){ea++}function Yr(){if(--ea>0)return;if(Vs){let t=Vs;for(Vs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Bs;){let t=Bs;for(Bs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function sa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function na(e){let t,s=e.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),Qr(n),ec(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=s}function Sr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ra(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ra(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Zs))return;e.globalVersion=Zs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Sr(e)){e.flags&=-3;return}const s=ge,n=Ze;ge=e,Ze=!0;try{sa(e);const r=e.fn(e._value);(t.version===0||Dt(r,e._value))&&(e._value=r,t.version++)}catch(r){throw t.version++,r}finally{ge=s,Ze=n,na(e),e.flags&=-3}}function Qr(e,t=!1){const{dep:s,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Qr(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ec(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ze=!0;const ia=[];function Ft(){ia.push(Ze),Ze=!1}function Bt(){const e=ia.pop();Ze=e===void 0?!0:e}function Ei(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ge;ge=void 0;try{t()}finally{ge=s}}}let Zs=0;class tc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zr{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ge||!Ze||ge===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ge)s=this.activeLink=new tc(ge,this),ge.deps?(s.prevDep=ge.depsTail,ge.depsTail.nextDep=s,ge.depsTail=s):ge.deps=ge.depsTail=s,oa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ge.depsTail,s.nextDep=void 0,ge.depsTail.nextDep=s,ge.depsTail=s,ge.deps===s&&(ge.deps=n)}return s}trigger(t){this.version++,Zs++,this.notify(t)}notify(t){Xr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yr()}}}function oa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)oa(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const An=new WeakMap,Xt=Symbol(""),kr=Symbol(""),en=Symbol("");function Oe(e,t,s){if(Ze&&ge){let n=An.get(e);n||An.set(e,n=new Map);let r=n.get(s);r||(n.set(s,r=new Zr),r.map=n,r.key=s),r.track()}}function yt(e,t,s,n,r,i){const o=An.get(e);if(!o){Zs++;return}const a=l=>{l&&l.trigger()};if(Xr(),t==="clear")o.forEach(a);else{const l=W(e),u=l&&Wr(s);if(l&&s==="length"){const c=Number(n);o.forEach((f,h)=>{(h==="length"||h===en||!ht(h)&&h>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(en)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Xt)),bs(e)&&a(o.get(kr)));break;case"delete":l||(a(o.get(Xt)),bs(e)&&a(o.get(kr)));break;case"set":bs(e)&&a(o.get(Xt));break}}Yr()}function sc(e,t){const s=An.get(e);return s&&s.get(t)}function os(e){const t=re(e);return t===e?t:(Oe(t,"iterate",en),Je(e)?t:t.map(Ce))}function Bn(e){return Oe(e=re(e),"iterate",en),e}const nc={__proto__:null,[Symbol.iterator](){return rr(this,Symbol.iterator,Ce)},concat(...e){return os(this).concat(...e.map(t=>W(t)?os(t):t))},entries(){return rr(this,"entries",e=>(e[1]=Ce(e[1]),e))},every(e,t){return gt(this,"every",e,t,void 0,arguments)},filter(e,t){return gt(this,"filter",e,t,s=>s.map(Ce),arguments)},find(e,t){return gt(this,"find",e,t,Ce,arguments)},findIndex(e,t){return gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gt(this,"findLast",e,t,Ce,arguments)},findLastIndex(e,t){return gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ir(this,"includes",e)},indexOf(...e){return ir(this,"indexOf",e)},join(e){return os(this).join(e)},lastIndexOf(...e){return ir(this,"lastIndexOf",e)},map(e,t){return gt(this,"map",e,t,void 0,arguments)},pop(){return Is(this,"pop")},push(...e){return Is(this,"push",e)},reduce(e,...t){return Ti(this,"reduce",e,t)},reduceRight(e,...t){return Ti(this,"reduceRight",e,t)},shift(){return Is(this,"shift")},some(e,t){return gt(this,"some",e,t,void 0,arguments)},splice(...e){return Is(this,"splice",e)},toReversed(){return os(this).toReversed()},toSorted(e){return os(this).toSorted(e)},toSpliced(...e){return os(this).toSpliced(...e)},unshift(...e){return Is(this,"unshift",e)},values(){return rr(this,"values",Ce)}};function rr(e,t,s){const n=Bn(e),r=n[t]();return n!==e&&!Je(e)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const rc=Array.prototype;function gt(e,t,s,n,r,i){const o=Bn(e),a=o!==e&&!Je(e),l=o[t];if(l!==rc[t]){const f=l.apply(e,i);return a?Ce(f):f}let u=s;o!==e&&(a?u=function(f,h){return s.call(this,Ce(f),h,e)}:s.length>2&&(u=function(f,h){return s.call(this,f,h,e)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Ti(e,t,s,n){const r=Bn(e);let i=s;return r!==e&&(Je(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Ce(a),l,e)}),r[t](i,...n)}function ir(e,t,s){const n=re(e);Oe(n,"iterate",en);const r=n[t](...s);return(r===-1||r===!1)&&si(s[0])?(s[0]=re(s[0]),n[t](...s)):r}function Is(e,t,s=[]){Ft(),Xr();const n=re(e)[t].apply(e,s);return Yr(),Bt(),n}const ic=qr("__proto__,__v_isRef,__isVue"),aa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ht));function oc(e){ht(e)||(e=String(e));const t=re(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class la{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?vc:ha:i?fa:ua).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=W(t);if(!r){let l;if(o&&(l=nc[s]))return l;if(s==="hasOwnProperty")return oc}const a=Reflect.get(t,s,Se(t)?t:n);return(ht(s)?aa.has(s):ic(s))||(r||Oe(t,"get",s),i)?a:Se(a)?o&&Wr(s)?a:a.value:me(a)?r?pa(a):Cs(a):a}}class ca extends la{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(!this._isShallow){const l=Qt(i);if(!Je(n)&&!Qt(n)&&(i=re(i),n=re(n)),!W(t)&&Se(i)&&!Se(n))return l?!1:(i.value=n,!0)}const o=W(t)&&Wr(s)?Number(s)<t.length:ae(t,s),a=Reflect.set(t,s,n,Se(t)?t:r);return t===re(r)&&(o?Dt(n,i)&&yt(t,"set",s,n):yt(t,"add",s,n)),a}deleteProperty(t,s){const n=ae(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&yt(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!ht(s)||!aa.has(s))&&Oe(t,"has",s),n}ownKeys(t){return Oe(t,"iterate",W(t)?"length":Xt),Reflect.ownKeys(t)}}class ac extends la{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const lc=new ca,cc=new ac,uc=new ca(!0);const Er=e=>e,pn=e=>Reflect.getPrototypeOf(e);function fc(e,t,s){return function(...n){const r=this.__v_raw,i=re(r),o=bs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=r[e](...n),c=s?Er:t?Tr:Ce;return!t&&Oe(i,"iterate",l?kr:Xt),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function gn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function hc(e,t){const s={get(r){const i=this.__v_raw,o=re(i),a=re(r);e||(Dt(r,a)&&Oe(o,"get",r),Oe(o,"get",a));const{has:l}=pn(o),u=t?Er:e?Tr:Ce;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!e&&Oe(re(r),"iterate",Xt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=re(i),a=re(r);return e||(Dt(r,a)&&Oe(o,"has",r),Oe(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=re(a),u=t?Er:e?Tr:Ce;return!e&&Oe(l,"iterate",Xt),a.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return Re(s,e?{add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear")}:{add(r){!t&&!Je(r)&&!Qt(r)&&(r=re(r));const i=re(this);return pn(i).has.call(i,r)||(i.add(r),yt(i,"add",r,r)),this},set(r,i){!t&&!Je(i)&&!Qt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=pn(o);let u=a.call(o,r);u||(r=re(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Dt(i,c)&&yt(o,"set",r,i):yt(o,"add",r,i),this},delete(r){const i=re(this),{has:o,get:a}=pn(i);let l=o.call(i,r);l||(r=re(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&yt(i,"delete",r,void 0),u},clear(){const r=re(this),i=r.size!==0,o=r.clear();return i&&yt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=fc(r,e,t)}),s}function ei(e,t){const s=hc(e,t);return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ae(s,r)&&r in n?s:n,r,i)}const dc={get:ei(!1,!1)},pc={get:ei(!1,!0)},gc={get:ei(!0,!1)};const ua=new WeakMap,fa=new WeakMap,ha=new WeakMap,vc=new WeakMap;function mc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _c(e){return e.__v_skip||!Object.isExtensible(e)?0:mc(Bl(e))}function Cs(e){return Qt(e)?e:ti(e,!1,lc,dc,ua)}function da(e){return ti(e,!1,uc,pc,fa)}function pa(e){return ti(e,!0,cc,gc,ha)}function ti(e,t,s,n,r){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=_c(e);if(o===0)return e;const a=new Proxy(e,o===2?n:s);return r.set(e,a),a}function Ht(e){return Qt(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Qt(e){return!!(e&&e.__v_isReadonly)}function Je(e){return!!(e&&e.__v_isShallow)}function si(e){return e?!!e.__v_raw:!1}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function ni(e){return!ae(e,"__v_skip")&&Object.isExtensible(e)&&Ko(e,"__v_skip",!0),e}const Ce=e=>me(e)?Cs(e):e,Tr=e=>me(e)?pa(e):e;function Se(e){return e?e.__v_isRef===!0:!1}function Y(e){return ga(e,!1)}function yc(e){return ga(e,!0)}function ga(e,t){return Se(e)?e:new bc(e,t)}class bc{constructor(t,s){this.dep=new Zr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:re(t),this._value=s?t:Ce(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Je(t)||Qt(t);t=n?t:re(t),Dt(t,s)&&(this._rawValue=t,this._value=n?t:Ce(t),this.dep.trigger())}}function ft(e){return Se(e)?e.value:e}const wc={get:(e,t,s)=>t==="__v_raw"?e:ft(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Se(r)&&!Se(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function va(e){return Ht(e)?e:new Proxy(e,wc)}function Sc(e){const t=W(e)?new Array(e.length):{};for(const s in e)t[s]=Ec(e,s);return t}class kc{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sc(re(this._object),this._key)}}function Ec(e,t,s){const n=e[t];return Se(n)?n:new kc(e,t,s)}class Tc{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Zr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return ta(this,!0),!0}get value(){const t=this.dep.track();return ra(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $c(e,t,s=!1){let n,r;return Z(e)?n=e:(n=e.get,r=e.set),new Tc(n,r,s)}const vn={},Pn=new WeakMap;let zt;function Ac(e,t=!1,s=zt){if(s){let n=Pn.get(s);n||Pn.set(s,n=[]),n.push(e)}}function Pc(e,t,s=fe){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=C=>r?C:Je(C)||r===!1||r===0?bt(C,1):bt(C);let c,f,h,d,p=!1,y=!1;if(Se(e)?(f=()=>e.value,p=Je(e)):Ht(e)?(f=()=>u(e),p=!0):W(e)?(y=!0,p=e.some(C=>Ht(C)||Je(C)),f=()=>e.map(C=>{if(Se(C))return C.value;if(Ht(C))return u(C);if(Z(C))return l?l(C,2):C()})):Z(e)?t?f=l?()=>l(e,2):e:f=()=>{if(h){Ft();try{h()}finally{Bt()}}const C=zt;zt=c;try{return l?l(e,3,[d]):e(d)}finally{zt=C}}:f=ut,t&&r){const C=f,k=r===!0?1/0:r;f=()=>bt(C(),k)}const m=Qo(),w=()=>{c.stop(),m&&m.active&&zr(m.effects,c)};if(i&&t){const C=t;t=(...k)=>{C(...k),w()}}let x=y?new Array(e.length).fill(vn):vn;const A=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const k=c.run();if(r||p||(y?k.some((q,V)=>Dt(q,x[V])):Dt(k,x))){h&&h();const q=zt;zt=c;try{const V=[k,x===vn?void 0:y&&x[0]===vn?[]:x,d];l?l(t,3,V):t(...V),x=k}finally{zt=q}}}else c.run()};return a&&a(A),c=new Zo(f),c.scheduler=o?()=>o(A,!1):A,d=C=>Ac(C,!1,c),h=c.onStop=()=>{const C=Pn.get(c);if(C){if(l)l(C,4);else for(const k of C)k();Pn.delete(c)}},t?n?A(!0):x=c.run():o?o(A.bind(null,!0),!0):c.run(),w.pause=c.pause.bind(c),w.resume=c.resume.bind(c),w.stop=w,w}function bt(e,t=1/0,s){if(t<=0||!me(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Se(e))bt(e.value,t,s);else if(W(e))for(let n=0;n<e.length;n++)bt(e[n],t,s);else if(Un(e)||bs(e))e.forEach(n=>{bt(n,t,s)});else if(qo(e)){for(const n in e)bt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&bt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function un(e,t,s,n){try{return n?e(...n):e()}catch(r){Vn(r,t,s)}}function dt(e,t,s,n){if(Z(e)){const r=un(e,t,s,n);return r&&Vo(r)&&r.catch(i=>{Vn(i,t,s)}),r}if(W(e)){const r=[];for(let i=0;i<e.length;i++)r.push(dt(e[i],t,s,n));return r}}function Vn(e,t,s,n=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||fe;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}a=a.parent}if(i){Ft(),un(i,null,10,[e,l,u]),Bt();return}}Oc(e,s,r,n,o)}function Oc(e,t,s,n=!0,r=!1){if(r)throw e;console.error(e)}const je=[];let lt=-1;const ws=[];let xt=null,vs=0;const ma=Promise.resolve();let On=null;function Gn(e){const t=On||ma;return e?t.then(this?e.bind(this):e):t}function Cc(e){let t=lt+1,s=je.length;for(;t<s;){const n=t+s>>>1,r=je[n],i=tn(r);i<e||i===e&&r.flags&2?t=n+1:s=n}return t}function ri(e){if(!(e.flags&1)){const t=tn(e),s=je[je.length-1];!s||!(e.flags&2)&&t>=tn(s)?je.push(e):je.splice(Cc(t),0,e),e.flags|=1,_a()}}function _a(){On||(On=ma.then(ba))}function Rc(e){W(e)?ws.push(...e):xt&&e.id===-1?xt.splice(vs+1,0,e):e.flags&1||(ws.push(e),e.flags|=1),_a()}function $i(e,t,s=lt+1){for(;s<je.length;s++){const n=je[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;je.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function ya(e){if(ws.length){const t=[...new Set(ws)].sort((s,n)=>tn(s)-tn(n));if(ws.length=0,xt){xt.push(...t);return}for(xt=t,vs=0;vs<xt.length;vs++){const s=xt[vs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}xt=null,vs=0}}const tn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ba(e){try{for(lt=0;lt<je.length;lt++){const t=je[lt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),un(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;lt<je.length;lt++){const t=je[lt];t&&(t.flags&=-2)}lt=-1,je.length=0,ya(),On=null,(je.length||ws.length)&&ba()}}let De=null,wa=null;function Cn(e){const t=De;return De=e,wa=e&&e.type.__scopeId||null,t}function Us(e,t=De,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&Ni(-1);const i=Cn(t);let o;try{o=e(...r)}finally{Cn(i),n._d&&Ni(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ce(e,t){if(De===null)return e;const s=Wn(De),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[i,o,a,l=fe]=t[r];i&&(Z(i)&&(i={mounted:i,updated:i}),i.deep&&bt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Gt(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Ft(),dt(l,s,8,[e.el,a,e,t]),Bt())}}const xc=Symbol("_vte"),Ic=e=>e.__isTeleport;function ii(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ii(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Sa(e,t){return Z(e)?Re({name:e.name},t,{setup:e}):e}function ka(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rn(e,t,s,n,r=!1){if(W(e)){e.forEach((p,y)=>Rn(p,t&&(W(t)?t[y]:t),s,n,r));return}if(Gs(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Rn(e,t,s,n.component.subTree);return}const i=n.shapeFlag&4?Wn(n.component):n.el,o=r?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===fe?a.refs={}:a.refs,f=a.setupState,h=re(f),d=f===fe?()=>!1:p=>ae(h,p);if(u!=null&&u!==l&&(Ee(u)?(c[u]=null,d(u)&&(f[u]=null)):Se(u)&&(u.value=null)),Z(l))un(l,a,12,[o,c]);else{const p=Ee(l),y=Se(l);if(p||y){const m=()=>{if(e.f){const w=p?d(l)?f[l]:c[l]:l.value;r?W(w)&&zr(w,i):W(w)?w.includes(i)||w.push(i):p?(c[l]=[i],d(l)&&(f[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,d(l)&&(f[l]=o)):y&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,Ge(m,s)):m()}}}Fn().requestIdleCallback;Fn().cancelIdleCallback;const Gs=e=>!!e.type.__asyncLoader,Ea=e=>e.type.__isKeepAlive;function Ta(e,t){Aa(e,"a",t)}function $a(e,t){Aa(e,"da",t)}function Aa(e,t,s=Pe){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(qn(t,n,s),s){let r=s.parent;for(;r&&r.parent;)Ea(r.parent.vnode)&&jc(n,t,s,r),r=r.parent}}function jc(e,t,s,n){const r=qn(t,e,n,!0);oi(()=>{zr(n[t],r)},s)}function qn(e,t,s=Pe,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ft();const a=fn(s),l=dt(t,s,e,o);return a(),Bt(),l});return n?r.unshift(i):r.push(i),i}}const Et=e=>(t,s=Pe)=>{(!nn||e==="sp")&&qn(e,(...n)=>t(...n),s)},Pa=Et("bm"),Tt=Et("m"),Lc=Et("bu"),Nc=Et("u"),Mc=Et("bum"),oi=Et("um"),Uc=Et("sp"),Dc=Et("rtg"),Hc=Et("rtc");function Fc(e,t=Pe){qn("ec",e,t)}const Bc="components";function Oa(e,t){return Gc(Bc,e,!0,t)||e}const Vc=Symbol.for("v-ndc");function Gc(e,t,s=!0,n=!1){const r=De||Pe;if(r){const i=r.type;{const a=Ru(i,!1);if(a&&(a===t||a===Xe(t)||a===Hn(Xe(t))))return i}const o=Ai(r[e]||i[e],t)||Ai(r.appContext[e],t);return!o&&n?i:o}}function Ai(e,t){return e&&(e[t]||e[Xe(t)]||e[Hn(Xe(t))])}function Ye(e,t,s,n){let r;const i=s,o=W(e);if(o||Ee(e)){const a=o&&Ht(e);let l=!1;a&&(l=!Je(e),e=Bn(e)),r=new Array(e.length);for(let u=0,c=e.length;u<c;u++)r[u]=t(l?Ce(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,i)}else if(me(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,i)}}else r=[];return r}const $r=e=>e?Xa(e)?Wn(e):$r(e.parent):null,qs=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>$r(e.parent),$root:e=>$r(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ra(e),$forceUpdate:e=>e.f||(e.f=()=>{ri(e.update)}),$nextTick:e=>e.n||(e.n=Gn.bind(e.proxy)),$watch:e=>hu.bind(e)}),or=(e,t)=>e!==fe&&!e.__isScriptSetup&&ae(e,t),qc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if(or(n,t))return o[t]=1,n[t];if(r!==fe&&ae(r,t))return o[t]=2,r[t];if((u=e.propsOptions[0])&&ae(u,t))return o[t]=3,i[t];if(s!==fe&&ae(s,t))return o[t]=4,s[t];Ar&&(o[t]=0)}}const c=qs[t];let f,h;if(c)return t==="$attrs"&&Oe(e.attrs,"get",""),c(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==fe&&ae(s,t))return o[t]=4,s[t];if(h=l.config.globalProperties,ae(h,t))return h[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return or(r,t)?(r[t]=s,!0):n!==fe&&ae(n,t)?(n[t]=s,!0):ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||e!==fe&&ae(e,o)||or(t,o)||(a=i[0])&&ae(a,o)||ae(n,o)||ae(qs,o)||ae(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ae(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Pi(e){return W(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ar=!0;function Kc(e){const t=Ra(e),s=e.proxy,n=e.ctx;Ar=!1,t.beforeCreate&&Oi(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:y,deactivated:m,beforeDestroy:w,beforeUnmount:x,destroyed:A,unmounted:C,render:k,renderTracked:q,renderTriggered:V,errorCaptured:B,serverPrefetch:J,expose:Q,inheritAttrs:he,components:be,directives:Le,filters:Vt}=t;if(u&&zc(u,n,null),o)for(const ee in o){const ie=o[ee];Z(ie)&&(n[ee]=ie.bind(s))}if(r){const ee=r.call(s,s);me(ee)&&(e.data=Cs(ee))}if(Ar=!0,i)for(const ee in i){const ie=i[ee],pt=Z(ie)?ie.bind(s,s):Z(ie.get)?ie.get.bind(s,s):ut,At=!Z(ie)&&Z(ie.set)?ie.set.bind(s):ut,st=ke({get:pt,set:At});Object.defineProperty(n,ee,{enumerable:!0,configurable:!0,get:()=>st.value,set:Ne=>st.value=Ne})}if(a)for(const ee in a)Ca(a[ee],n,s,ee);if(l){const ee=Z(l)?l.call(s):l;Reflect.ownKeys(ee).forEach(ie=>{kn(ie,ee[ie])})}c&&Oi(c,e,"c");function _e(ee,ie){W(ie)?ie.forEach(pt=>ee(pt.bind(s))):ie&&ee(ie.bind(s))}if(_e(Pa,f),_e(Tt,h),_e(Lc,d),_e(Nc,p),_e(Ta,y),_e($a,m),_e(Fc,B),_e(Hc,q),_e(Dc,V),_e(Mc,x),_e(oi,C),_e(Uc,J),W(Q))if(Q.length){const ee=e.exposed||(e.exposed={});Q.forEach(ie=>{Object.defineProperty(ee,ie,{get:()=>s[ie],set:pt=>s[ie]=pt})})}else e.exposed||(e.exposed={});k&&e.render===ut&&(e.render=k),he!=null&&(e.inheritAttrs=he),be&&(e.components=be),Le&&(e.directives=Le),J&&ka(e)}function zc(e,t,s=ut){W(e)&&(e=Pr(e));for(const n in e){const r=e[n];let i;me(r)?"default"in r?i=ze(r.from||n,r.default,!0):i=ze(r.from||n):i=ze(r),Se(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Oi(e,t,s){dt(W(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ca(e,t,s,n){let r=n.includes(".")?qa(s,n):()=>s[n];if(Ee(e)){const i=t[e];Z(i)&&Ks(r,i)}else if(Z(e))Ks(r,e.bind(s));else if(me(e))if(W(e))e.forEach(i=>Ca(i,t,s,n));else{const i=Z(e.handler)?e.handler.bind(s):t[e.handler];Z(i)&&Ks(r,i,e)}}function Ra(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!s&&!n?l=t:(l={},r.length&&r.forEach(u=>xn(l,u,o,!0)),xn(l,t,o)),me(t)&&i.set(t,l),l}function xn(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&xn(e,i,s,!0),r&&r.forEach(o=>xn(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const a=Wc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Wc={data:Ci,props:Ri,emits:Ri,methods:Ds,computed:Ds,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:Ds,directives:Ds,watch:Xc,provide:Ci,inject:Jc};function Ci(e,t){return t?e?function(){return Re(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Jc(e,t){return Ds(Pr(e),Pr(t))}function Pr(e){if(W(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ds(e,t){return e?Re(Object.create(null),e,t):t}function Ri(e,t){return e?W(e)&&W(t)?[...new Set([...e,...t])]:Re(Object.create(null),Pi(e),Pi(t??{})):t}function Xc(e,t){if(!e)return t;if(!t)return e;const s=Re(Object.create(null),e);for(const n in t)s[n]=xe(e[n],t[n]);return s}function xa(){return{app:null,config:{isNativeTag:Hl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yc=0;function Qc(e,t){return function(n,r=null){Z(n)||(n=Re({},n)),r!=null&&!me(r)&&(r=null);const i=xa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Yc++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Iu,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(u,...f)):Z(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!l){const d=u._ceVNode||He(n,r);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(d,c,h),l=!0,u._container=c,c.__vue_app__=u,Wn(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(dt(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Yt;Yt=u;try{return c()}finally{Yt=f}}};return u}}let Yt=null;function kn(e,t){if(Pe){let s=Pe.provides;const n=Pe.parent&&Pe.parent.provides;n===s&&(s=Pe.provides=Object.create(n)),s[e]=t}}function ze(e,t,s=!1){const n=Pe||De;if(n||Yt){const r=Yt?Yt._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return s&&Z(t)?t.call(n&&n.proxy):t}}function Zc(){return!!(Pe||De||Yt)}const Ia={},ja=()=>Object.create(Ia),La=e=>Object.getPrototypeOf(e)===Ia;function eu(e,t,s,n=!1){const r={},i=ja();e.propsDefaults=Object.create(null),Na(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:da(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function tu(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=re(r),[l]=e.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(Kn(e.emitsOptions,h))continue;const d=t[h];if(l)if(ae(i,h))d!==i[h]&&(i[h]=d,u=!0);else{const p=Xe(h);r[p]=Or(l,a,p,d,e,!1)}else d!==i[h]&&(i[h]=d,u=!0)}}}else{Na(e,t,r,i)&&(u=!0);let c;for(const f in a)(!t||!ae(t,f)&&((c=es(f))===f||!ae(t,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=Or(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!ae(t,f))&&(delete i[f],u=!0)}u&&yt(e.attrs,"set","")}function Na(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Fs(l))continue;const u=t[l];let c;r&&ae(r,c=Xe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Kn(e.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=re(s),u=a||fe;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Or(r,l,f,u[f],e,!ae(u,f))}}return o}function Or(e,t,s,n,r,i){const o=e[s];if(o!=null){const a=ae(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=fn(r);n=u[s]=l.call(null,t),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===es(s))&&(n=!0))}return n}const su=new WeakMap;function Ma(e,t,s=!1){const n=s?su:t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!Z(e)){const c=f=>{l=!0;const[h,d]=Ma(f,t,!0);Re(o,h),d&&a.push(...d)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return me(e)&&n.set(e,ys),ys;if(W(i))for(let c=0;c<i.length;c++){const f=Xe(i[c]);xi(f)&&(o[f]=fe)}else if(i)for(const c in i){const f=Xe(c);if(xi(f)){const h=i[c],d=o[f]=W(h)||Z(h)?{type:h}:Re({},h),p=d.type;let y=!1,m=!0;if(W(p))for(let w=0;w<p.length;++w){const x=p[w],A=Z(x)&&x.name;if(A==="Boolean"){y=!0;break}else A==="String"&&(m=!1)}else y=Z(p)&&p.name==="Boolean";d[0]=y,d[1]=m,(y||ae(d,"default"))&&a.push(f)}}const u=[o,a];return me(e)&&n.set(e,u),u}function xi(e){return e[0]!=="$"&&!Fs(e)}const Ua=e=>e[0]==="_"||e==="$stable",ai=e=>W(e)?e.map(ct):[ct(e)],nu=(e,t,s)=>{if(t._n)return t;const n=Us((...r)=>ai(t(...r)),s);return n._c=!1,n},Da=(e,t,s)=>{const n=e._ctx;for(const r in e){if(Ua(r))continue;const i=e[r];if(Z(i))t[r]=nu(r,i,n);else if(i!=null){const o=ai(i);t[r]=()=>o}}},Ha=(e,t)=>{const s=ai(t);e.slots.default=()=>s},Fa=(e,t,s)=>{for(const n in t)(s||n!=="_")&&(e[n]=t[n])},ru=(e,t,s)=>{const n=e.slots=ja();if(e.vnode.shapeFlag&32){const r=t._;r?(Fa(n,t,s),s&&Ko(n,"_",r,!0)):Da(t,n)}else t&&Ha(e,t)},iu=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=fe;if(n.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Fa(r,t,s):(i=!t.$stable,Da(t,r)),o=t}else t&&(Ha(e,t),o={default:1});if(i)for(const a in r)!Ua(a)&&o[a]==null&&delete r[a]},Ge=yu;function ou(e){return au(e)}function au(e,t){const s=Fn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:d=ut,insertStaticContent:p}=e,y=(g,_,b,E=null,O=null,P=null,N=void 0,j=null,I=!!_.dynamicChildren)=>{if(g===_)return;g&&!js(g,_)&&(E=T(g),Ne(g,O,P,!0),g=null),_.patchFlag===-2&&(I=!1,_.dynamicChildren=null);const{type:R,ref:z,shapeFlag:H}=_;switch(R){case zn:m(g,_,b,E);break;case Zt:w(g,_,b,E);break;case lr:g==null&&x(_,b,E,N);break;case we:be(g,_,b,E,O,P,N,j,I);break;default:H&1?k(g,_,b,E,O,P,N,j,I):H&6?Le(g,_,b,E,O,P,N,j,I):(H&64||H&128)&&R.process(g,_,b,E,O,P,N,j,I,G)}z!=null&&O&&Rn(z,g&&g.ref,P,_||g,!_)},m=(g,_,b,E)=>{if(g==null)n(_.el=a(_.children),b,E);else{const O=_.el=g.el;_.children!==g.children&&u(O,_.children)}},w=(g,_,b,E)=>{g==null?n(_.el=l(_.children||""),b,E):_.el=g.el},x=(g,_,b,E)=>{[g.el,g.anchor]=p(g.children,_,b,E,g.el,g.anchor)},A=({el:g,anchor:_},b,E)=>{let O;for(;g&&g!==_;)O=h(g),n(g,b,E),g=O;n(_,b,E)},C=({el:g,anchor:_})=>{let b;for(;g&&g!==_;)b=h(g),r(g),g=b;r(_)},k=(g,_,b,E,O,P,N,j,I)=>{_.type==="svg"?N="svg":_.type==="math"&&(N="mathml"),g==null?q(_,b,E,O,P,N,j,I):J(g,_,O,P,N,j,I)},q=(g,_,b,E,O,P,N,j)=>{let I,R;const{props:z,shapeFlag:H,transition:K,dirs:X}=g;if(I=g.el=o(g.type,P,z&&z.is,z),H&8?c(I,g.children):H&16&&B(g.children,I,null,E,O,ar(g,P),N,j),X&&Gt(g,null,E,"created"),V(I,g,g.scopeId,N,E),z){for(const de in z)de!=="value"&&!Fs(de)&&i(I,de,null,z[de],P,E);"value"in z&&i(I,"value",null,z.value,P),(R=z.onVnodeBeforeMount)&&ot(R,E,g)}X&&Gt(g,null,E,"beforeMount");const ne=lu(O,K);ne&&K.beforeEnter(I),n(I,_,b),((R=z&&z.onVnodeMounted)||ne||X)&&Ge(()=>{R&&ot(R,E,g),ne&&K.enter(I),X&&Gt(g,null,E,"mounted")},O)},V=(g,_,b,E,O)=>{if(b&&d(g,b),E)for(let P=0;P<E.length;P++)d(g,E[P]);if(O){let P=O.subTree;if(_===P||za(P.type)&&(P.ssContent===_||P.ssFallback===_)){const N=O.vnode;V(g,N,N.scopeId,N.slotScopeIds,O.parent)}}},B=(g,_,b,E,O,P,N,j,I=0)=>{for(let R=I;R<g.length;R++){const z=g[R]=j?It(g[R]):ct(g[R]);y(null,z,_,b,E,O,P,N,j)}},J=(g,_,b,E,O,P,N)=>{const j=_.el=g.el;let{patchFlag:I,dynamicChildren:R,dirs:z}=_;I|=g.patchFlag&16;const H=g.props||fe,K=_.props||fe;let X;if(b&&qt(b,!1),(X=K.onVnodeBeforeUpdate)&&ot(X,b,_,g),z&&Gt(_,g,b,"beforeUpdate"),b&&qt(b,!0),(H.innerHTML&&K.innerHTML==null||H.textContent&&K.textContent==null)&&c(j,""),R?Q(g.dynamicChildren,R,j,b,E,ar(_,O),P):N||ie(g,_,j,null,b,E,ar(_,O),P,!1),I>0){if(I&16)he(j,H,K,b,O);else if(I&2&&H.class!==K.class&&i(j,"class",null,K.class,O),I&4&&i(j,"style",H.style,K.style,O),I&8){const ne=_.dynamicProps;for(let de=0;de<ne.length;de++){const le=ne[de],Be=H[le],Me=K[le];(Me!==Be||le==="value")&&i(j,le,Be,Me,O,b)}}I&1&&g.children!==_.children&&c(j,_.children)}else!N&&R==null&&he(j,H,K,b,O);((X=K.onVnodeUpdated)||z)&&Ge(()=>{X&&ot(X,b,_,g),z&&Gt(_,g,b,"updated")},E)},Q=(g,_,b,E,O,P,N)=>{for(let j=0;j<_.length;j++){const I=g[j],R=_[j],z=I.el&&(I.type===we||!js(I,R)||I.shapeFlag&70)?f(I.el):b;y(I,R,z,null,E,O,P,N,!0)}},he=(g,_,b,E,O)=>{if(_!==b){if(_!==fe)for(const P in _)!Fs(P)&&!(P in b)&&i(g,P,_[P],null,O,E);for(const P in b){if(Fs(P))continue;const N=b[P],j=_[P];N!==j&&P!=="value"&&i(g,P,j,N,O,E)}"value"in b&&i(g,"value",_.value,b.value,O)}},be=(g,_,b,E,O,P,N,j,I)=>{const R=_.el=g?g.el:a(""),z=_.anchor=g?g.anchor:a("");let{patchFlag:H,dynamicChildren:K,slotScopeIds:X}=_;X&&(j=j?j.concat(X):X),g==null?(n(R,b,E),n(z,b,E),B(_.children||[],b,z,O,P,N,j,I)):H>0&&H&64&&K&&g.dynamicChildren?(Q(g.dynamicChildren,K,b,O,P,N,j),(_.key!=null||O&&_===O.subTree)&&Ba(g,_,!0)):ie(g,_,b,z,O,P,N,j,I)},Le=(g,_,b,E,O,P,N,j,I)=>{_.slotScopeIds=j,g==null?_.shapeFlag&512?O.ctx.activate(_,b,E,N,I):Vt(_,b,E,O,P,N,I):$t(g,_,I)},Vt=(g,_,b,E,O,P,N)=>{const j=g.component=$u(g,E,O);if(Ea(g)&&(j.ctx.renderer=G),Au(j,!1,N),j.asyncDep){if(O&&O.registerDep(j,_e,N),!g.el){const I=j.subTree=He(Zt);w(null,I,_,b)}}else _e(j,g,_,b,O,P,N)},$t=(g,_,b)=>{const E=_.component=g.component;if(mu(g,_,b))if(E.asyncDep&&!E.asyncResolved){ee(E,_,b);return}else E.next=_,E.update();else _.el=g.el,E.vnode=_},_e=(g,_,b,E,O,P,N)=>{const j=()=>{if(g.isMounted){let{next:H,bu:K,u:X,parent:ne,vnode:de}=g;{const rt=Va(g);if(rt){H&&(H.el=de.el,ee(g,H,N)),rt.asyncDep.then(()=>{g.isUnmounted||j()});return}}let le=H,Be;qt(g,!1),H?(H.el=de.el,ee(g,H,N)):H=de,K&&Sn(K),(Be=H.props&&H.props.onVnodeBeforeUpdate)&&ot(Be,ne,H,de),qt(g,!0);const Me=ji(g),nt=g.subTree;g.subTree=Me,y(nt,Me,f(nt.el),T(nt),g,O,P),H.el=Me.el,le===null&&_u(g,Me.el),X&&Ge(X,O),(Be=H.props&&H.props.onVnodeUpdated)&&Ge(()=>ot(Be,ne,H,de),O)}else{let H;const{el:K,props:X}=_,{bm:ne,m:de,parent:le,root:Be,type:Me}=g,nt=Gs(_);qt(g,!1),ne&&Sn(ne),!nt&&(H=X&&X.onVnodeBeforeMount)&&ot(H,le,_),qt(g,!0);{Be.ce&&Be.ce._injectChildStyle(Me);const rt=g.subTree=ji(g);y(null,rt,b,E,g,O,P),_.el=rt.el}if(de&&Ge(de,O),!nt&&(H=X&&X.onVnodeMounted)){const rt=_;Ge(()=>ot(H,le,rt),O)}(_.shapeFlag&256||le&&Gs(le.vnode)&&le.vnode.shapeFlag&256)&&g.a&&Ge(g.a,O),g.isMounted=!0,_=b=E=null}};g.scope.on();const I=g.effect=new Zo(j);g.scope.off();const R=g.update=I.run.bind(I),z=g.job=I.runIfDirty.bind(I);z.i=g,z.id=g.uid,I.scheduler=()=>ri(z),qt(g,!0),R()},ee=(g,_,b)=>{_.component=g;const E=g.vnode.props;g.vnode=_,g.next=null,tu(g,_.props,E,b),iu(g,_.children,b),Ft(),$i(g),Bt()},ie=(g,_,b,E,O,P,N,j,I=!1)=>{const R=g&&g.children,z=g?g.shapeFlag:0,H=_.children,{patchFlag:K,shapeFlag:X}=_;if(K>0){if(K&128){At(R,H,b,E,O,P,N,j,I);return}else if(K&256){pt(R,H,b,E,O,P,N,j,I);return}}X&8?(z&16&&We(R,O,P),H!==R&&c(b,H)):z&16?X&16?At(R,H,b,E,O,P,N,j,I):We(R,O,P,!0):(z&8&&c(b,""),X&16&&B(H,b,E,O,P,N,j,I))},pt=(g,_,b,E,O,P,N,j,I)=>{g=g||ys,_=_||ys;const R=g.length,z=_.length,H=Math.min(R,z);let K;for(K=0;K<H;K++){const X=_[K]=I?It(_[K]):ct(_[K]);y(g[K],X,b,null,O,P,N,j,I)}R>z?We(g,O,P,!0,!1,H):B(_,b,E,O,P,N,j,I,H)},At=(g,_,b,E,O,P,N,j,I)=>{let R=0;const z=_.length;let H=g.length-1,K=z-1;for(;R<=H&&R<=K;){const X=g[R],ne=_[R]=I?It(_[R]):ct(_[R]);if(js(X,ne))y(X,ne,b,null,O,P,N,j,I);else break;R++}for(;R<=H&&R<=K;){const X=g[H],ne=_[K]=I?It(_[K]):ct(_[K]);if(js(X,ne))y(X,ne,b,null,O,P,N,j,I);else break;H--,K--}if(R>H){if(R<=K){const X=K+1,ne=X<z?_[X].el:E;for(;R<=K;)y(null,_[R]=I?It(_[R]):ct(_[R]),b,ne,O,P,N,j,I),R++}}else if(R>K)for(;R<=H;)Ne(g[R],O,P,!0),R++;else{const X=R,ne=R,de=new Map;for(R=ne;R<=K;R++){const Ve=_[R]=I?It(_[R]):ct(_[R]);Ve.key!=null&&de.set(Ve.key,R)}let le,Be=0;const Me=K-ne+1;let nt=!1,rt=0;const xs=new Array(Me);for(R=0;R<Me;R++)xs[R]=0;for(R=X;R<=H;R++){const Ve=g[R];if(Be>=Me){Ne(Ve,O,P,!0);continue}let it;if(Ve.key!=null)it=de.get(Ve.key);else for(le=ne;le<=K;le++)if(xs[le-ne]===0&&js(Ve,_[le])){it=le;break}it===void 0?Ne(Ve,O,P,!0):(xs[it-ne]=R+1,it>=rt?rt=it:nt=!0,y(Ve,_[it],b,null,O,P,N,j,I),Be++)}const bi=nt?cu(xs):ys;for(le=bi.length-1,R=Me-1;R>=0;R--){const Ve=ne+R,it=_[Ve],wi=Ve+1<z?_[Ve+1].el:E;xs[R]===0?y(null,it,b,wi,O,P,N,j,I):nt&&(le<0||R!==bi[le]?st(it,b,wi,2):le--)}}},st=(g,_,b,E,O=null)=>{const{el:P,type:N,transition:j,children:I,shapeFlag:R}=g;if(R&6){st(g.component.subTree,_,b,E);return}if(R&128){g.suspense.move(_,b,E);return}if(R&64){N.move(g,_,b,G);return}if(N===we){n(P,_,b);for(let H=0;H<I.length;H++)st(I[H],_,b,E);n(g.anchor,_,b);return}if(N===lr){A(g,_,b);return}if(E!==2&&R&1&&j)if(E===0)j.beforeEnter(P),n(P,_,b),Ge(()=>j.enter(P),O);else{const{leave:H,delayLeave:K,afterLeave:X}=j,ne=()=>n(P,_,b),de=()=>{H(P,()=>{ne(),X&&X()})};K?K(P,ne,de):de()}else n(P,_,b)},Ne=(g,_,b,E=!1,O=!1)=>{const{type:P,props:N,ref:j,children:I,dynamicChildren:R,shapeFlag:z,patchFlag:H,dirs:K,cacheIndex:X}=g;if(H===-2&&(O=!1),j!=null&&Rn(j,null,b,g,!0),X!=null&&(_.renderCache[X]=void 0),z&256){_.ctx.deactivate(g);return}const ne=z&1&&K,de=!Gs(g);let le;if(de&&(le=N&&N.onVnodeBeforeUnmount)&&ot(le,_,g),z&6)dn(g.component,b,E);else{if(z&128){g.suspense.unmount(b,E);return}ne&&Gt(g,null,_,"beforeUnmount"),z&64?g.type.remove(g,_,b,G,E):R&&!R.hasOnce&&(P!==we||H>0&&H&64)?We(R,_,b,!1,!0):(P===we&&H&384||!O&&z&16)&&We(I,_,b),E&&rs(g)}(de&&(le=N&&N.onVnodeUnmounted)||ne)&&Ge(()=>{le&&ot(le,_,g),ne&&Gt(g,null,_,"unmounted")},b)},rs=g=>{const{type:_,el:b,anchor:E,transition:O}=g;if(_===we){is(b,E);return}if(_===lr){C(g);return}const P=()=>{r(b),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:N,delayLeave:j}=O,I=()=>N(b,P);j?j(g.el,P,I):I()}else P()},is=(g,_)=>{let b;for(;g!==_;)b=h(g),r(g),g=b;r(_)},dn=(g,_,b)=>{const{bum:E,scope:O,job:P,subTree:N,um:j,m:I,a:R}=g;Ii(I),Ii(R),E&&Sn(E),O.stop(),P&&(P.flags|=8,Ne(N,g,_,b)),j&&Ge(j,_),Ge(()=>{g.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},We=(g,_,b,E=!1,O=!1,P=0)=>{for(let N=P;N<g.length;N++)Ne(g[N],_,b,E,O)},T=g=>{if(g.shapeFlag&6)return T(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const _=h(g.anchor||g.el),b=_&&_[xc];return b?h(b):_};let F=!1;const M=(g,_,b)=>{g==null?_._vnode&&Ne(_._vnode,null,null,!0):y(_._vnode||null,g,_,null,null,null,b),_._vnode=g,F||(F=!0,$i(),ya(),F=!1)},G={p:y,um:Ne,m:st,r:rs,mt:Vt,mc:B,pc:ie,pbc:Q,n:T,o:e};return{render:M,hydrate:void 0,createApp:Qc(M)}}function ar({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ba(e,t,s=!1){const n=e.children,r=t.children;if(W(n)&&W(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=It(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ba(o,a)),a.type===zn&&(a.el=o.el)}}function cu(e){const t=e.slice(),s=[0];let n,r,i,o,a;const l=e.length;for(n=0;n<l;n++){const u=e[n];if(u!==0){if(r=s[s.length-1],e[r]<u){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Va(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Va(t)}function Ii(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const uu=Symbol.for("v-scx"),fu=()=>ze(uu);function Ks(e,t,s){return Ga(e,t,s)}function Ga(e,t,s=fe){const{immediate:n,deep:r,flush:i,once:o}=s,a=Re({},s),l=t&&n||!t&&i!=="post";let u;if(nn){if(i==="sync"){const d=fu();u=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=ut,d.resume=ut,d.pause=ut,d}}const c=Pe;a.call=(d,p,y)=>dt(d,c,p,y);let f=!1;i==="post"?a.scheduler=d=>{Ge(d,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(d,p)=>{p?d():ri(d)}),a.augmentJob=d=>{t&&(d.flags|=4),f&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const h=Pc(e,t,a);return nn&&(u?u.push(h):l&&h()),h}function hu(e,t,s){const n=this.proxy,r=Ee(e)?e.includes(".")?qa(n,e):()=>n[e]:e.bind(n,n);let i;Z(t)?i=t:(i=t.handler,s=t);const o=fn(this),a=Ga(r,i.bind(n),s);return o(),a}function qa(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const du=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xe(t)}Modifiers`]||e[`${es(t)}Modifiers`];function pu(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||fe;let r=s;const i=t.startsWith("update:"),o=i&&du(n,t.slice(7));o&&(o.trim&&(r=s.map(c=>Ee(c)?c.trim():c)),o.number&&(r=s.map($n)));let a,l=n[a=tr(t)]||n[a=tr(Xe(t))];!l&&i&&(l=n[a=tr(es(t))]),l&&dt(l,e,6,r);const u=n[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,dt(u,e,6,r)}}function Ka(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!Z(e)){const l=u=>{const c=Ka(u,t,!0);c&&(a=!0,Re(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(me(e)&&n.set(e,null),null):(W(i)?i.forEach(l=>o[l]=null):Re(o,i),me(e)&&n.set(e,o),o)}function Kn(e,t){return!e||!Mn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ae(e,t[0].toLowerCase()+t.slice(1))||ae(e,es(t))||ae(e,t))}function ji(e){const{type:t,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:d,ctx:p,inheritAttrs:y}=e,m=Cn(e);let w,x;try{if(s.shapeFlag&4){const C=r||n,k=C;w=ct(u.call(k,C,c,f,d,h,p)),x=a}else{const C=t;w=ct(C.length>1?C(f,{attrs:a,slots:o,emit:l}):C(f,null)),x=t.props?a:gu(a)}}catch(C){zs.length=0,Vn(C,e,1),w=He(Zt)}let A=w;if(x&&y!==!1){const C=Object.keys(x),{shapeFlag:k}=A;C.length&&k&7&&(i&&C.some(Kr)&&(x=vu(x,i)),A=Es(A,x,!1,!0))}return s.dirs&&(A=Es(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(s.dirs):s.dirs),s.transition&&ii(A,s.transition),w=A,Cn(m),w}const gu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Mn(s))&&((t||(t={}))[s]=e[s]);return t},vu=(e,t)=>{const s={};for(const n in e)(!Kr(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function mu(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Li(n,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==n[h]&&!Kn(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Li(n,o,u):!0:!!o;return!1}function Li(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!Kn(s,i))return!0}return!1}function _u({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const za=e=>e.__isSuspense;function yu(e,t){t&&t.pendingBranch?W(e)?t.effects.push(...e):t.effects.push(e):Rc(e)}const we=Symbol.for("v-fgt"),zn=Symbol.for("v-txt"),Zt=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),zs=[];let Ke=null;function S(e=!1){zs.push(Ke=e?null:[])}function bu(){zs.pop(),Ke=zs[zs.length-1]||null}let sn=1;function Ni(e,t=!1){sn+=e,e<0&&Ke&&t&&(Ke.hasOnce=!0)}function Wa(e){return e.dynamicChildren=sn>0?Ke||ys:null,bu(),sn>0&&Ke&&Ke.push(e),e}function $(e,t,s,n,r,i){return Wa(v(e,t,s,n,r,i,!0))}function Ut(e,t,s,n,r){return Wa(He(e,t,s,n,r,!0))}function In(e){return e?e.__v_isVNode===!0:!1}function js(e,t){return e.type===t.type&&e.key===t.key}const Ja=({key:e})=>e??null,En=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||Se(e)||Z(e)?{i:De,r:e,k:t,f:!!s}:e:null);function v(e,t=null,s=null,n=0,r=null,i=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ja(t),ref:t&&En(t),scopeId:wa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:De};return a?(li(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=Ee(s)?8:16),sn>0&&!o&&Ke&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ke.push(l),l}const He=wu;function wu(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===Vc)&&(e=Zt),In(e)){const a=Es(e,t,!0);return s&&li(a,s),sn>0&&!i&&Ke&&(a.shapeFlag&6?Ke[Ke.indexOf(e)]=a:Ke.push(a)),a.patchFlag=-2,a}if(xu(e)&&(e=e.__vccOpts),t){t=Su(t);let{class:a,style:l}=t;a&&!Ee(a)&&(t.class=wt(a)),me(l)&&(si(l)&&!W(l)&&(l=Re({},l)),t.style=Jr(l))}const o=Ee(e)?1:za(e)?128:Ic(e)?64:me(e)?4:Z(e)?2:0;return v(e,t,s,n,r,o,i,!0)}function Su(e){return e?si(e)||La(e)?Re({},e):e:null}function Es(e,t,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?ku(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Ja(u),ref:t&&t.ref?s&&i?W(i)?i.concat(En(t)):[i,En(t)]:En(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Es(e.ssContent),ssFallback:e.ssFallback&&Es(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&ii(c,l.clone(c)),c}function kt(e=" ",t=0){return He(zn,null,e,t)}function L(e="",t=!1){return t?(S(),Ut(Zt,null,e)):He(Zt,null,e)}function ct(e){return e==null||typeof e=="boolean"?He(Zt):W(e)?He(we,null,e.slice()):In(e)?It(e):He(zn,null,String(e))}function It(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Es(e)}function li(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(W(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),li(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!La(t)?t._ctx=De:r===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:De},s=32):(t=String(t),n&64?(s=16,t=[kt(t)]):s=8);e.children=t,e.shapeFlag|=s}function ku(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=wt([t.class,n.class]));else if(r==="style")t.style=Jr([t.style,n.style]);else if(Mn(r)){const i=t[r],o=n[r];o&&i!==o&&!(W(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function ot(e,t,s,n=null){dt(e,t,7,[s,n])}const Eu=xa();let Tu=0;function $u(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Eu,i={uid:Tu++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ma(n,r),emitsOptions:Ka(n,r),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:n.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=pu.bind(null,i),e.ce&&e.ce(i),i}let Pe=null,jn,Cr;{const e=Fn(),t=(s,n)=>{let r;return(r=e[s])||(r=e[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};jn=t("__VUE_INSTANCE_SETTERS__",s=>Pe=s),Cr=t("__VUE_SSR_SETTERS__",s=>nn=s)}const fn=e=>{const t=Pe;return jn(e),e.scope.on(),()=>{e.scope.off(),jn(t)}},Mi=()=>{Pe&&Pe.scope.off(),jn(null)};function Xa(e){return e.vnode.shapeFlag&4}let nn=!1;function Au(e,t=!1,s=!1){t&&Cr(t);const{props:n,children:r}=e.vnode,i=Xa(e);eu(e,n,i,t),ru(e,r,s);const o=i?Pu(e,t):void 0;return t&&Cr(!1),o}function Pu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qc);const{setup:n}=s;if(n){Ft();const r=e.setupContext=n.length>1?Cu(e):null,i=fn(e),o=un(n,e,0,[e.props,r]),a=Vo(o);if(Bt(),i(),(a||e.sp)&&!Gs(e)&&ka(e),a){if(o.then(Mi,Mi),t)return o.then(l=>{Ui(e,l)}).catch(l=>{Vn(l,e,0)});e.asyncDep=o}else Ui(e,o)}else Ya(e)}function Ui(e,t,s){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=va(t)),Ya(e)}function Ya(e,t,s){const n=e.type;e.render||(e.render=n.render||ut);{const r=fn(e);Ft();try{Kc(e)}finally{Bt(),r()}}}const Ou={get(e,t){return Oe(e,"get",""),e[t]}};function Cu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Ou),slots:e.slots,emit:e.emit,expose:t}}function Wn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(va(ni(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in qs)return qs[s](e)},has(t,s){return s in t||s in qs}})):e.proxy}function Ru(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function xu(e){return Z(e)&&"__vccOpts"in e}const ke=(e,t)=>$c(e,t,nn);function Qa(e,t,s){const n=arguments.length;return n===2?me(t)&&!W(t)?In(t)?He(e,null,[t]):He(e,t):He(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&In(s)&&(s=[s]),He(e,t,s))}const Iu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;const Di=typeof window<"u"&&window.trustedTypes;if(Di)try{Rr=Di.createPolicy("vue",{createHTML:e=>e})}catch{}const Za=Rr?e=>Rr.createHTML(e):e=>e,ju="http://www.w3.org/2000/svg",Lu="http://www.w3.org/1998/Math/MathML",mt=typeof document<"u"?document:null,Hi=mt&&mt.createElement("template"),Nu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t==="svg"?mt.createElementNS(ju,e):t==="mathml"?mt.createElementNS(Lu,e):s?mt.createElement(e,{is:s}):mt.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>mt.createTextNode(e),createComment:e=>mt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>mt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Hi.innerHTML=Za(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Hi.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Mu=Symbol("_vtc");function Uu(e,t,s){const n=e[Mu];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Fi=Symbol("_vod"),Du=Symbol("_vsh"),Hu=Symbol(""),Fu=/(^|;)\s*display\s*:/;function Bu(e,t,s){const n=e.style,r=Ee(s);let i=!1;if(s&&!r){if(t)if(Ee(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Tn(n,a,"")}else for(const o in t)s[o]==null&&Tn(n,o,"");for(const o in s)o==="display"&&(i=!0),Tn(n,o,s[o])}else if(r){if(t!==s){const o=n[Hu];o&&(s+=";"+o),n.cssText=s,i=Fu.test(s)}}else t&&e.removeAttribute("style");Fi in e&&(e[Fi]=i?n.display:"",e[Du]&&(n.display="none"))}const Bi=/\s*!important$/;function Tn(e,t,s){if(W(s))s.forEach(n=>Tn(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Vu(e,t);Bi.test(s)?e.setProperty(es(n),s.replace(Bi,""),"important"):e[n]=s}}const Vi=["Webkit","Moz","ms"],cr={};function Vu(e,t){const s=cr[t];if(s)return s;let n=Xe(t);if(n!=="filter"&&n in e)return cr[t]=n;n=Hn(n);for(let r=0;r<Vi.length;r++){const i=Vi[r]+n;if(i in e)return cr[t]=i}return t}const Gi="http://www.w3.org/1999/xlink";function qi(e,t,s,n,r,i=Xl(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Gi,t.slice(6,t.length)):e.setAttributeNS(Gi,t,s):s==null||i&&!zo(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ht(s)?String(s):s)}function Ki(e,t,s,n,r){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Za(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=zo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(r||t)}function Nt(e,t,s,n){e.addEventListener(t,s,n)}function Gu(e,t,s,n){e.removeEventListener(t,s,n)}const zi=Symbol("_vei");function qu(e,t,s,n,r=null){const i=e[zi]||(e[zi]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Ku(t);if(n){const u=i[t]=Ju(n,r);Nt(e,a,u,l)}else o&&(Gu(e,a,o,l),i[t]=void 0)}}const Wi=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(Wi.test(e)){t={};let n;for(;n=e.match(Wi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):es(e.slice(2)),t]}let ur=0;const zu=Promise.resolve(),Wu=()=>ur||(zu.then(()=>ur=0),ur=Date.now());function Ju(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;dt(Xu(n,s.value),t,5,[n])};return s.value=e,s.attached=Wu(),s}function Xu(e,t){if(W(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Ji=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Yu=(e,t,s,n,r,i)=>{const o=r==="svg";t==="class"?Uu(e,n,o):t==="style"?Bu(e,s,n):Mn(t)?Kr(t)||qu(e,t,s,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,n,o))?(Ki(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&qi(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ee(n))?Ki(e,Xe(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),qi(e,t,n,o))};function Qu(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ji(t)&&Z(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Ji(t)&&Ee(s)?!1:t in e}const Ts=e=>{const t=e.props["onUpdate:modelValue"]||!1;return W(t)?s=>Sn(t,s):t};function Zu(e){e.target.composing=!0}function Xi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const St=Symbol("_assign"),ve={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[St]=Ts(r);const i=n||r.props&&r.props.type==="number";Nt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=$n(a)),e[St](a)}),s&&Nt(e,"change",()=>{e.value=e.value.trim()}),t||(Nt(e,"compositionstart",Zu),Nt(e,"compositionend",Xi),Nt(e,"change",Xi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(e[St]=Ts(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?$n(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||r&&e.value.trim()===l)||(e.value=l))}},Yi={created(e,{value:t},s){e.checked=ks(t,s.props.value),e[St]=Ts(s),Nt(e,"change",()=>{e[St](rn(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[St]=Ts(n),t!==s&&(e.checked=ks(t,n.props.value))}},ef={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=Un(t);Nt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?$n(rn(o)):rn(o));e[St](e.multiple?r?new Set(i):i:i[0]),e._assigning=!0,Gn(()=>{e._assigning=!1})}),e[St]=Ts(n)},mounted(e,{value:t}){Qi(e,t)},beforeUpdate(e,t,s){e[St]=Ts(s)},updated(e,{value:t}){e._assigning||Qi(e,t)}};function Qi(e,t){const s=e.multiple,n=W(t);if(!(s&&!n&&!Un(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],a=rn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=Ql(t,a)>-1}else o.selected=t.has(a);else if(ks(rn(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function rn(e){return"_value"in e?e._value:e.value}const tf=["ctrl","shift","alt","meta"],sf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>tf.some(s=>e[`${s}Key`]&&!t.includes(s))},et=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<t.length;o++){const a=sf[t[o]];if(a&&a(r,t))return}return e(r,...i)})},nf=Re({patchProp:Yu},Nu);let Zi;function rf(){return Zi||(Zi=ou(nf))}const of=(...e)=>{const t=rf().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=lf(n);if(!r)return;const i=t._component;!Z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,af(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function af(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lf(e){return Ee(e)?document.querySelector(e):e}const cf="modulepreload",uf=function(e,t){return new URL(e,t).href},eo={},$s=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){let o=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(s.map(c=>{if(c=uf(c,n),c in eo)return;eo[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!n)for(let y=a.length-1;y>=0;y--){const m=a[y];if(m.href===c&&(!f||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":cf,f||(p.as="script"),p.crossOrigin="",p.href=c,u&&p.setAttribute("nonce",u),document.head.appendChild(p),f)return new Promise((y,m)=>{p.addEventListener("load",y),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class ci extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class hf extends ci{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class df extends ci{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pf extends ci{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xr;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xr||(xr={}));var gf=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class vf{constructor(t,{headers:s={},customFetch:n,region:r=xr.Any}={}){this.url=t,this.headers=s,this.region=r,this.fetch=ff(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return gf(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(p=>{throw new hf(p)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new df(c);if(!c.ok)throw new pf(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),d;return h==="application/json"?d=yield c.json():h==="application/octet-stream"?d=yield c.blob():h==="text/event-stream"?d=c:h==="multipart/form-data"?d=yield c.formData():d=yield c.text(),{data:d,error:null}}catch(r){return{data:null,error:r}}})}}function mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _f(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}var $e={},as={},ls={},cs={},us={},fs={},yf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},As=yf();const bf=As.fetch,el=As.fetch.bind(As),tl=As.Headers,wf=As.Request,Sf=As.Response,Rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:tl,Request:wf,Response:Sf,default:el,fetch:bf},Symbol.toStringTag,{value:"Module"})),kf=_f(Rs);var mn={},to;function sl(){if(to)return mn;to=1,Object.defineProperty(mn,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return mn.default=e,mn}var so;function nl(){if(so)return fs;so=1;var e=fs&&fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(kf),s=e(sl());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,f,h;let d=null,p=null,y=null,m=u.status,w=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=k:p=JSON.parse(k))}const A=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,m=406,w="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const A=await u.text();try{d=JSON.parse(A),Array.isArray(d)&&u.status===404&&(p=[],d=null,m=200,w="OK")}catch{u.status===404&&A===""?(m=204,w="No Content"):d={message:A}}if(d&&this.isMaybeSingle&&(!((h=d==null?void 0:d.details)===null||h===void 0)&&h.includes("0 rows"))&&(d=null,m=200,w="OK"),d&&this.shouldThrowOnError)throw new s.default(d)}return{error:d,data:p,count:y,status:m,statusText:w}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,f,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return fs.default=n,fs}var no;function rl(){if(no)return us;no=1;var e=us&&us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(us,"__esModule",{value:!0});const t=e(nl());class s extends t.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return us.default=s,us}var ro;function ui(){if(ro)return cs;ro=1;var e=cs&&cs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(rl());class s extends t.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return cs.default=s,cs}var io;function il(){if(io)return ls;io=1;var e=ls&&ls.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ls,"__esModule",{value:!0});const t=e(ui());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const f=r.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(f.length>0){const h=[...new Set(f)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ls.default=s,ls}var Ls={},Ns={},oo;function Ef(){return oo||(oo=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.version=void 0,Ns.version="0.0.0-automated"),Ns}var ao;function Tf(){if(ao)return Ls;ao=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.DEFAULT_HEADERS=void 0;const e=Ef();return Ls.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ls}var lo;function $f(){if(lo)return as;lo=1;var e=as&&as.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(as,"__esModule",{value:!0});const t=e(il()),s=e(ui()),n=Tf();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let d;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([y,m])=>m!==void 0).map(([y,m])=>[y,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([y,m])=>{h.searchParams.append(y,m)})):(f="POST",d=a);const p=Object.assign({},this.headers);return c&&(p.Prefer=`count=${c}`),new s.default({method:f,url:h,headers:p,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}return as.default=r,as}var co;function Af(){if(co)return $e;co=1;var e=$e&&$e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($e,"__esModule",{value:!0}),$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const t=e($f());$e.PostgrestClient=t.default;const s=e(il());$e.PostgrestQueryBuilder=s.default;const n=e(ui());$e.PostgrestFilterBuilder=n.default;const r=e(rl());$e.PostgrestTransformBuilder=r.default;const i=e(nl());$e.PostgrestBuilder=i.default;const o=e(sl());return $e.PostgrestError=o.default,$e.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},$e}var Pf=Af();const Of=mf(Pf),{PostgrestClient:Cf,PostgrestQueryBuilder:d_,PostgrestFilterBuilder:p_,PostgrestTransformBuilder:g_,PostgrestBuilder:v_,PostgrestError:m_}=Of,Rf="2.11.2",xf={"X-Client-Info":`realtime-js/${Rf}`},If="1.0.0",ol=1e4,jf=1e3;var Ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ss||(Ss={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var Ir;(function(e){e.websocket="websocket"})(Ir||(Ir={}));var Jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jt||(Jt={}));class Lf{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+r));o=o+r;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class al{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const uo=(e,t,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Nf(o,e,t,r),i),{})},Nf=(e,t,s,n)=>{const r=t.find(a=>a.name===e),i=r==null?void 0:r.type,o=s[e];return i&&!n.includes(i)?ll(i,o):jr(o)},ll=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Hf(t,s)}switch(e){case pe.bool:return Mf(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return Uf(t);case pe.json:case pe.jsonb:return Df(t);case pe.timestamp:return Ff(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return jr(t);default:return jr(t)}},jr=e=>e,Mf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Df=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hf=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ll(t,a))}return e},Ff=e=>typeof e=="string"?e.replace(" ","T"):e,cl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fr{constructor(t,s,n={},r=ol){this.channel=t,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fo||(fo={}));class Ws{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ws.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ws.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,r){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(m=>m.presence_ref),d=f.map(m=>m.presence_ref),p=c.filter(m=>d.indexOf(m.presence_ref)<0),y=f.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),y.length>0&&(l[u]=y)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(t,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const f=t[a].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[a]=u,r(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const r=t[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ho;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ho||(ho={}));var po;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(po||(po={}));var _t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class fi{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fr(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ws(this),this.broadcastEndpointURL=cl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(_t.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(_t.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t(_t.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let y=0;y<d;y++){const m=h[y],{filter:{event:w,schema:x,table:A,filter:C}}=m,k=c&&c[y];if(k&&k.event===w&&k.schema===x&&k.table===A&&k.filter===C)p.push(Object.assign(Object.assign({},m),{id:k.id}));else{this.unsubscribe(),t==null||t(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(_t.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new fr(this,Qe.leave,{},t);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new fr(this,t,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var r,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Qe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(d=>{var p,y,m;return((p=d.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(y=d.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(d=>d.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var p,y,m,w,x,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const C=d.id,k=(p=d.filter)===null||p===void 0?void 0:p.event;return C&&((y=s.ids)===null||y===void 0?void 0:y.includes(C))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((m=s.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const C=(x=(w=d==null?void 0:d.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return C==="*"||C===((A=s==null?void 0:s.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:m,commit_timestamp:w,type:x,errors:A}=p;h=Object.assign(Object.assign({},{schema:y,table:m,commit_timestamp:w,eventType:x,new:{},old:{},errors:A}),this._getPayloadRecords(p))}d.callback(h,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const r=t.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&fi.isEqual(r.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=uo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=uo(t.columns,t.old_record)),s}}const Bf=()=>{},Vf=typeof WebSocket<"u",Gf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qf{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=xf,this.params={},this.timeout=ol,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Bf,this.conn=null,this.sendBuffer=[],this.serializer=new Lf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>$s(async()=>{const{default:l}=await Promise.resolve().then(()=>Rs);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ir.websocket}`,this.httpEndpoint=cl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new al(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Vf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Kf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),$s(async()=>{const{default:t}=await import("./browser-Dh40ZDSG.js").then(s=>s.b);return{default:t}},[],import.meta.url).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:If}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ss.connecting:return Jt.Connecting;case Ss.open:return Jt.Open;case Ss.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}channel(t,s={config:{}}){const n=new fi(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:r,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Qe.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(jf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${t}${n}${r}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([Gf],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Kf{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ss.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class hi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class zf extends hi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Lr extends hi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Wf=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ul=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Jf=()=>Wf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>Rs),void 0,import.meta.url)).Response:Response}),Nr=e=>{if(Array.isArray(e))return e.map(s=>Nr(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Nr(n)}),t};var ts=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const hr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xf=(e,t,s)=>ts(void 0,void 0,void 0,function*(){const n=yield Jf();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(r=>{t(new zf(hr(r),e.status||500))}).catch(r=>{t(new Lr(hr(r),r))}):t(new Lr(hr(e),e))}),Yf=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function hn(e,t,s,n,r,i){return ts(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,Yf(t,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Xf(l,a,n))})})}function Ln(e,t,s,n){return ts(this,void 0,void 0,function*(){return hn(e,"GET",t,s,n)})}function jt(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"POST",t,n,r,s)})}function Qf(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"PUT",t,n,r,s)})}function Zf(e,t,s,n){return ts(this,void 0,void 0,function*(){return hn(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function fl(e,t,s,n,r){return ts(this,void 0,void 0,function*(){return hn(e,"DELETE",t,n,r,s)})}var Ue=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const eh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class th{constructor(t,s={},n,r){this.url=t,this.headers=s,this.bucketId=n,this.fetch=ul(r)}uploadOrUpdate(t,s,n,r){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},go),r);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}upload(t,s,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,r){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:go.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}update(t,s,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}copy(t,s,n){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrl(t,s,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield jt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}createSignedUrls(t,s,n){return Ue(this,void 0,void 0,function*(){try{const r=yield jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}download(t,s){return Ue(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ln(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}info(t){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Ln(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Nr(n),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}exists(t){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Zf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ae(n)&&n instanceof Lr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ue(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}list(t,s,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},eh),s),{prefix:t||""});return{data:yield jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const sh="2.7.1",nh={"X-Client-Info":`storage-js/${sh}`};var hs=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class rh{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},nh),s),this.fetch=ul(n)}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return hs(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return hs(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}}class ih extends rh{constructor(t,s={},n){super(t,s,n)}from(t){return new th(this.url,this.headers,t,this.fetch)}}const oh="2.49.1";let Hs="";typeof Deno<"u"?Hs="deno":typeof document<"u"?Hs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hs="react-native":Hs="node";const ah={"X-Client-Info":`supabase-js-${Hs}/${oh}`},lh={headers:ah},ch={schema:"public"},uh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fh={};var hh=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const dh=e=>{let t;return e?t=e:typeof fetch>"u"?t=el:t=fetch,(...s)=>t(...s)},ph=()=>typeof Headers>"u"?tl:Headers,gh=(e,t,s)=>{const n=dh(s),r=ph();return(i,o)=>hh(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var vh=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function mh(e){return e.replace(/\/$/,"")}function _h(e,t){const{db:s,auth:n,realtime:r,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>vh(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const hl="2.68.0",ms=30*1e3,Mr=3,dr=Mr*ms,yh="http://localhost:9999",bh="supabase.auth.token",wh={"X-Client-Info":`gotrue-js/${hl}`},Ur="X-Supabase-Api-Version",dl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Sh(e){return Math.round(Date.now()/1e3)+e}function kh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",Kt={tested:!1,writable:!1},Js=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Kt.tested)return Kt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Kt.tested=!0,Kt.writable=!0}catch{Kt.tested=!0,Kt.writable=!1}return Kt.writable};function Eh(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{t[r]=n}),t}const pl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>$s(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},Th=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},_n=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},yn=async(e,t)=>{await e.removeItem(t)};function $h(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Jn{constructor(){this.promise=new Jn.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Jn.promiseConstructor=Promise;function vo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse($h(n))}async function Ah(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ph(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function Oh(e){return("0"+e.toString(16)).substr(-2)}function Ch(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,Oh).join("")}async function Rh(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function xh(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ih(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Rh(e);return xh(s)}async function ds(e,t,s=!1){const n=Ch();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await gl(e,`${t}-code-verifier`,r);const i=await Ih(n);return[i,n===i?"plain":"s256"]}const jh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lh(e){const t=e.headers.get(Ur);if(!t||!t.match(jh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class di extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nh extends di{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Mh(e){return te(e)&&e.name==="AuthApiError"}class vl extends di{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class ss extends di{constructor(t,s,n,r){super(t,n,r),this.name=s,this.status=n}}class Ot extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uh(e){return te(e)&&e.name==="AuthSessionMissingError"}class pr extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bn extends ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wn extends ss{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dh(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class mo extends ss{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dr extends ss{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function gr(e){return te(e)&&e.name==="AuthRetryableFetchError"}class _o extends ss{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}var Hh=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Wt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fh=[502,503,504];async function yo(e){var t;if(!Th(e))throw new Dr(Wt(e),0);if(Fh.includes(e.status))throw new Dr(Wt(e),e.status);let s;try{s=await e.json()}catch(i){throw new vl(Wt(i),i)}let n;const r=Lh(e);if(r&&r.getTime()>=dl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new _o(Wt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _o(Wt(s),e.status,s.weak_password.reasons);throw new Nh(Wt(s),e.status||500,n)}const Bh=(e,t,s,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function se(e,t,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[Ur]||(i[Ur]=dl["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Vh(e,t,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Vh(e,t,s,n,r,i){const o=Bh(t,n,r,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Dr(Wt(l),0)}if(a.ok||await yo(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await yo(l)}}function Ct(e){var t;let s=null;zh(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Sh(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function bo(e){const t=Ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gh(e){return{data:e,error:null}}function qh(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=e,o=Hh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Kh(e){return e}function zh(e){return e.access_token&&e.refresh_token&&e.expires_in}var Wh=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};class Jh{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=pl(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Mt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=Wh(t,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:qh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Kh});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Mt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Mt})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}}const Xh={getItem:e=>Js()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Js()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Js()&&globalThis.localStorage.removeItem(e)}};function wo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Yh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ps={debug:!!(globalThis&&Js()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ml extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qh extends ml{}async function Zh(e,t,s){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ps.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await s()}finally{ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw ps.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qh(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ps.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Yh();const ed={url:yh,storageKey:bh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function So(e,t,s){return await s()}class on{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=on.nextInstanceID,on.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},ed),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Jh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=pl(r.fetch),this.lock=r.lock||So,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:at()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Zh:this.lock=So,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Js()?this.storage=Xh:(this.memoryStorage={},this.storage=wo(this.memoryStorage)):(this.memoryStorage={},this.storage=wo(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Eh(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),at()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dh(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?{error:s}:{error:new vl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,r;try{const i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,n,r;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await ds(this.storage,this.storageKey)),i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:p},xform:Ct})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ct})}else throw new bn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bo})}else throw new bn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await _n(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ct});if(await yn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(te(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=t,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ct}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,r,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ds(this.storage,this.storageKey));const{error:f}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new bn("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let r,i;"options"in t&&(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ds(this.storage,this.storageKey)),await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Gh})}catch(i){if(te(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Ot;const{error:r}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:i}=t,{error:o}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:i}=t,{data:o,error:a}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bn("You must provide either an email or phone number and a type")}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await _n(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<dr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(s){if(te(s))return Uh(s)&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Ot;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ds(this.storage,this.storageKey));const{data:u,error:c}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Mt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return vo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=vo(t.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ot;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!at())throw new wn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new mo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mo("No code detected.");const{data:x,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new wn("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const d=h-c;d*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const p=h-f;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,c);const{data:y,error:m}=await this._getUser(i);if(m)throw m;const w={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(te(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await _n(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Mh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=kh(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await ds(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(te(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return at()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(te(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Ph(async r=>(r>0&&await Ah(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ct})),(r,i)=>{const o=200*Math.pow(2,r);return i&&gr(i)&&Date.now()+o-n<ms})}catch(n){if(this._debug(s,"error",n),te(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),at()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await _n(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<dr;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${dr}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),gr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Jn;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),te(i)){const o={session:null,error:i};return gr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,s,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yn(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ms}ms, refresh threshold is ${Mr} ticks`),r<=Mr&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ml)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}on.nextInstanceID=0;const td=on;class sd extends td{constructor(t){super(t)}}var nd=function(e,t,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class rd{constructor(t,s,n){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=mh(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ch,realtime:fh,auth:Object.assign(Object.assign({},uh),{storageKey:l}),global:lh},c=_h(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=gh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Cf(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new vf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ih(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return nd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sd({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const id=(e,t,s)=>new rd(e,t,s),Te="http://127.0.0.1:54321",ye=id(Te,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVuaHZlaHRvY2tubWR2enN6a2dlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYwOTEyNDAsImV4cCI6MjA1MTY2NzI0MH0.07UXuUI6sYzJglve94D3t55ID1spRYEa8l7SJQaHyDI");async function _l(){var s;const{data:e,error:t}=await ye.auth.getSession();return t?null:((s=e==null?void 0:e.session)==null?void 0:s.user)||null}async function od(){if(!await _l())return null;const{data:t}=await ye.auth.getSession(),s=t==null?void 0:t.session,n=`${Te}/functions/v1/get-user-type`,r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.access_token}`}});return r.ok?(await r.json()).type:null}async function ad(e,t){if(!e||!t){console.error("Email and password are required");return}const{data:s,error:n}=await ye.auth.signUp({email:e,password:t});n&&console.error("Error:",n)}async function ld(e,t){if(!e||!t){console.error("Email and password are required");return}const{data:s,error:n}=await ye.auth.signInWithPassword({email:e,password:t});if(n){console.error("Error:",n);return}}async function cd(){const{error:e}=await ye.auth.signOut();e&&console.error("Error:",e)}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function yl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ud(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&yl(e.default)}const oe=Object.assign;function vr(e,t){const s={};for(const n in t){const r=t[n];s[n]=tt(r)?r.map(e):e(r)}return s}const Xs=()=>{},tt=Array.isArray,bl=/#/g,fd=/&/g,hd=/\//g,dd=/=/g,pd=/\?/g,wl=/\+/g,gd=/%5B/g,vd=/%5D/g,Sl=/%5E/g,md=/%60/g,kl=/%7B/g,_d=/%7C/g,El=/%7D/g,yd=/%20/g;function pi(e){return encodeURI(""+e).replace(_d,"|").replace(gd,"[").replace(vd,"]")}function bd(e){return pi(e).replace(kl,"{").replace(El,"}").replace(Sl,"^")}function Hr(e){return pi(e).replace(wl,"%2B").replace(yd,"+").replace(bl,"%23").replace(fd,"%26").replace(md,"`").replace(kl,"{").replace(El,"}").replace(Sl,"^")}function wd(e){return Hr(e).replace(dd,"%3D")}function Sd(e){return pi(e).replace(bl,"%23").replace(pd,"%3F")}function kd(e){return e==null?"":Sd(e).replace(hd,"%2F")}function an(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ed=/\/$/,Td=e=>e.replace(Ed,"");function mr(e,t,s="/"){let n,r={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),r=e(i)),a>-1&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=Od(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:an(o)}}function $d(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function ko(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ad(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Ps(t.matched[n],s.matched[r])&&Tl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Ps(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Pd(e[s],t[s]))return!1;return!0}function Pd(e,t){return tt(e)?Eo(e,t):tt(t)?Eo(t,e):e===t}function Eo(e,t){return tt(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function Od(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ln;(function(e){e.pop="pop",e.push="push"})(ln||(ln={}));var Ys;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ys||(Ys={}));function Cd(e){if(!e)if(_s){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Td(e)}const Rd=/^[^#]+#/;function xd(e,t){return e.replace(Rd,"#")+t}function Id(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Xn=()=>({left:window.scrollX,top:window.scrollY});function jd(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=Id(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function To(e,t){return(history.state?history.state.position-t:-1)+e}const Fr=new Map;function Ld(e,t){Fr.set(e,t)}function Nd(e){const t=Fr.get(e);return Fr.delete(e),t}let Md=()=>location.protocol+"//"+location.host;function $l(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),ko(l,"")}return ko(s,e)+n+r}function Ud(e,t,s,n){let r=[],i=[],o=null;const a=({state:h})=>{const d=$l(e,location),p=s.value,y=t.value;let m=0;if(h){if(s.value=d,t.value=h,o&&o===p){o=null;return}m=y?h.position-y.position:0}else n(d);r.forEach(w=>{w(s.value,p,{delta:m,type:ln.pop,direction:m?m>0?Ys.forward:Ys.back:Ys.unknown})})};function l(){o=s.value}function u(h){r.push(h);const d=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return i.push(d),d}function c(){const{history:h}=window;h.state&&h.replaceState(oe({},h.state,{scroll:Xn()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function $o(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?Xn():null}}function Dd(e){const{history:t,location:s}=window,n={value:$l(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=e.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?e:e.slice(f))+l:Md()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(d){console.error(d),s[c?"replace":"assign"](h)}}function o(l,u){const c=oe({},t.state,$o(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=oe({},r.value,t.state,{forward:l,scroll:Xn()});i(c.current,c,!0);const f=oe({},$o(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function Hd(e){e=Cd(e);const t=Dd(e),s=Ud(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=oe({location:"",base:e,go:n,createHref:xd.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Fd(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Hd(e)}function Bd(e){return typeof e=="string"||e&&typeof e=="object"}function Al(e){return typeof e=="string"||typeof e=="symbol"}const Pl=Symbol("");var Ao;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ao||(Ao={}));function Os(e,t){return oe(new Error,{type:e,[Pl]:!0},t)}function vt(e,t){return e instanceof Error&&Pl in e&&(t==null||!!(e.type&t))}const Po="[^/]+?",Vd={sensitive:!1,strict:!1,start:!0,end:!0},Gd=/[.+*?^${}()[\]/\\]/g;function qd(e,t){const s=oe({},Vd,t),n=[];let r=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let d=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Gd,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:y,optional:m,regexp:w}=h;i.push({name:p,repeatable:y,optional:m});const x=w||Po;if(x!==Po){d+=10;try{new RegExp(`(${x})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+C.message)}}let A=y?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(A=m&&u.length<2?`(?:/${A})`:"/"+A),m&&(A+="?"),r+=A,d+=20,m&&(d+=-8),y&&(d+=-20),x===".*"&&(d+=-50)}c.push(d)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const d=c[h]||"",p=i[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(u){let c="",f=!1;for(const h of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const d of h)if(d.type===0)c+=d.value;else if(d.type===1){const{value:p,repeatable:y,optional:m}=d,w=p in u?u[p]:"";if(tt(w)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=tt(w)?w.join("/"):w;if(!x)if(m)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=x}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Kd(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Ol(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Kd(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Oo(n))return 1;if(Oo(r))return-1}return r.length-n.length}function Oo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const zd={type:0,value:""},Wd=/[a-zA-Z0-9_]/;function Jd(e){if(!e)return[[]];if(e==="/")return[[zd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${s})/"${u}": ${d}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:Wd.test(l)?h():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function Xd(e,t,s){const n=qd(Jd(e.path),s),r=oe(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Yd(e,t){const s=[],n=new Map;t=Io({strict:!1,end:!0,sensitive:!1},t);function r(f){return n.get(f)}function i(f,h,d){const p=!d,y=Ro(f);y.aliasOf=d&&d.record;const m=Io(t,f),w=[y];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const k of C)w.push(Ro(oe({},y,{components:d?d.record.components:y.components,path:k,aliasOf:d?d.record:y})))}let x,A;for(const C of w){const{path:k}=C;if(h&&k[0]!=="/"){const q=h.record.path,V=q[q.length-1]==="/"?"":"/";C.path=h.record.path+(k&&V+k)}if(x=Xd(C,h,m),d?d.alias.push(x):(A=A||x,A!==x&&A.alias.push(x),p&&f.name&&!xo(x)&&o(f.name)),Cl(x)&&l(x),y.children){const q=y.children;for(let V=0;V<q.length;V++)i(q[V],x,d&&d.children[V])}d=d||x}return A?()=>{o(A)}:Xs}function o(f){if(Al(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const h=ep(f,s);s.splice(h,0,f),f.record.name&&!xo(f)&&n.set(f.record.name,f)}function u(f,h){let d,p={},y,m;if("name"in f&&f.name){if(d=n.get(f.name),!d)throw Os(1,{location:f});m=d.record.name,p=oe(Co(h.params,d.keys.filter(A=>!A.optional).concat(d.parent?d.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),f.params&&Co(f.params,d.keys.map(A=>A.name))),y=d.stringify(p)}else if(f.path!=null)y=f.path,d=s.find(A=>A.re.test(y)),d&&(p=d.parse(y),m=d.record.name);else{if(d=h.name?n.get(h.name):s.find(A=>A.re.test(h.path)),!d)throw Os(1,{location:f,currentLocation:h});m=d.record.name,p=oe({},h.params,f.params),y=d.stringify(p)}const w=[];let x=d;for(;x;)w.unshift(x.record),x=x.parent;return{name:m,path:y,params:p,matched:w,meta:Zd(w)}}e.forEach(f=>i(f));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function Co(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Ro(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Qd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Qd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function xo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Zd(e){return e.reduce((t,s)=>oe(t,s.meta),{})}function Io(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function ep(e,t){let s=0,n=t.length;for(;s!==n;){const i=s+n>>1;Ol(e,t[i])<0?n=i:s=i+1}const r=tp(e);return r&&(n=t.lastIndexOf(r,n-1)),n}function tp(e){let t=e;for(;t=t.parent;)if(Cl(t)&&Ol(e,t)===0)return t}function Cl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function sp(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(wl," "),o=i.indexOf("="),a=an(o<0?i:i.slice(0,o)),l=o<0?null:an(i.slice(o+1));if(a in t){let u=t[a];tt(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function jo(e){let t="";for(let s in e){const n=e[s];if(s=wd(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(tt(n)?n.map(i=>i&&Hr(i)):[n&&Hr(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function np(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=tt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const Rl=Symbol(""),Lo=Symbol(""),Yn=Symbol(""),gi=Symbol(""),Br=Symbol("");function Ms(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function rp(e,t,s){const n=()=>{e[t].delete(s)};oi(n),$a(n),Ta(()=>{e[t].add(s)}),e[t].add(s)}function xl(e){const t=ze(Rl,{}).value;t&&rp(t,"updateGuards",e)}function Lt(e,t,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Os(4,{from:s,to:t})):h instanceof Error?l(h):Bd(h)?l(Os(2,{from:t,to:h})):(o&&n.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>e.call(n&&n.instances[r],t,s,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function _r(e,t,s,n,r=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(yl(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Lt(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=ud(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const d=(f.__vccOpts||f)[t];return d&&Lt(d,s,n,o,a,r)()}))}}return i}function No(e){const t=ze(Yn),s=ze(gi),n=ke(()=>{const l=ft(e.to);return t.resolve(l)}),r=ke(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=s.matched;if(!c||!f.length)return-1;const h=f.findIndex(Ps.bind(null,c));if(h>-1)return h;const d=Mo(l[u-2]);return u>1&&Mo(c)===d&&f[f.length-1].path!==d?f.findIndex(Ps.bind(null,l[u-2])):h}),i=ke(()=>r.value>-1&&cp(s.params,n.value.params)),o=ke(()=>r.value>-1&&r.value===s.matched.length-1&&Tl(s.params,n.value.params));function a(l={}){if(lp(l)){const u=t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(Xs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:ke(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function ip(e){return e.length===1?e[0]:e}const op=Sa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:No,setup(e,{slots:t}){const s=Cs(No(e)),{options:n}=ze(Yn),r=ke(()=>({[Uo(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Uo(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&ip(t.default(s));return e.custom?i:Qa("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),ap=op;function lp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function cp(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!tt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Mo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Uo=(e,t,s)=>e??t??s,up=Sa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ze(Br),r=ke(()=>e.route||n.value),i=ze(Lo,0),o=ke(()=>{let u=ft(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=ke(()=>r.value.matched[o.value]);kn(Lo,ke(()=>o.value+1)),kn(Rl,a),kn(Br,r);const l=Y();return Ks(()=>[l.value,a.value,e.name],([u,c,f],[h,d,p])=>{c&&(c.instances[f]=u,d&&d!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Ps(c,d)||!h)&&(c.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,f=a.value,h=f&&f.components[c];if(!h)return Do(s.default,{Component:h,route:u});const d=f.props[c],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,m=Qa(h,oe({},p,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Do(s.default,{Component:m,route:u})||m}}});function Do(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const fp=up;function hp(e){const t=Yd(e.routes,e),s=e.parseQuery||sp,n=e.stringifyQuery||jo,r=e.history,i=Ms(),o=Ms(),a=Ms(),l=yc(Pt);let u=Pt;_s&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=vr.bind(null,T=>""+T),f=vr.bind(null,kd),h=vr.bind(null,an);function d(T,F){let M,G;return Al(T)?(M=t.getRecordMatcher(T),G=F):G=T,t.addRoute(G,M)}function p(T){const F=t.getRecordMatcher(T);F&&t.removeRoute(F)}function y(){return t.getRoutes().map(T=>T.record)}function m(T){return!!t.getRecordMatcher(T)}function w(T,F){if(F=oe({},F||l.value),typeof T=="string"){const b=mr(s,T,F.path),E=t.resolve({path:b.path},F),O=r.createHref(b.fullPath);return oe(b,E,{params:h(E.params),hash:an(b.hash),redirectedFrom:void 0,href:O})}let M;if(T.path!=null)M=oe({},T,{path:mr(s,T.path,F.path).path});else{const b=oe({},T.params);for(const E in b)b[E]==null&&delete b[E];M=oe({},T,{params:f(b)}),F.params=f(F.params)}const G=t.resolve(M,F),ue=T.hash||"";G.params=c(h(G.params));const g=$d(n,oe({},T,{hash:bd(ue),path:G.path})),_=r.createHref(g);return oe({fullPath:g,hash:ue,query:n===jo?np(T.query):T.query||{}},G,{redirectedFrom:void 0,href:_})}function x(T){return typeof T=="string"?mr(s,T,l.value.path):oe({},T)}function A(T,F){if(u!==T)return Os(8,{from:F,to:T})}function C(T){return V(T)}function k(T){return C(oe(x(T),{replace:!0}))}function q(T){const F=T.matched[T.matched.length-1];if(F&&F.redirect){const{redirect:M}=F;let G=typeof M=="function"?M(T):M;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=x(G):{path:G},G.params={}),oe({query:T.query,hash:T.hash,params:G.path!=null?{}:T.params},G)}}function V(T,F){const M=u=w(T),G=l.value,ue=T.state,g=T.force,_=T.replace===!0,b=q(M);if(b)return V(oe(x(b),{state:typeof b=="object"?oe({},ue,b.state):ue,force:g,replace:_}),F||M);const E=M;E.redirectedFrom=F;let O;return!g&&Ad(n,G,M)&&(O=Os(16,{to:E,from:G}),st(G,G,!0,!1)),(O?Promise.resolve(O):Q(E,G)).catch(P=>vt(P)?vt(P,2)?P:At(P):ie(P,E,G)).then(P=>{if(P){if(vt(P,2))return V(oe({replace:_},x(P.to),{state:typeof P.to=="object"?oe({},ue,P.to.state):ue,force:g}),F||E)}else P=be(E,G,!0,_,ue);return he(E,G,P),P})}function B(T,F){const M=A(T,F);return M?Promise.reject(M):Promise.resolve()}function J(T){const F=is.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(T):T()}function Q(T,F){let M;const[G,ue,g]=dp(T,F);M=_r(G.reverse(),"beforeRouteLeave",T,F);for(const b of G)b.leaveGuards.forEach(E=>{M.push(Lt(E,T,F))});const _=B.bind(null,T,F);return M.push(_),We(M).then(()=>{M=[];for(const b of i.list())M.push(Lt(b,T,F));return M.push(_),We(M)}).then(()=>{M=_r(ue,"beforeRouteUpdate",T,F);for(const b of ue)b.updateGuards.forEach(E=>{M.push(Lt(E,T,F))});return M.push(_),We(M)}).then(()=>{M=[];for(const b of g)if(b.beforeEnter)if(tt(b.beforeEnter))for(const E of b.beforeEnter)M.push(Lt(E,T,F));else M.push(Lt(b.beforeEnter,T,F));return M.push(_),We(M)}).then(()=>(T.matched.forEach(b=>b.enterCallbacks={}),M=_r(g,"beforeRouteEnter",T,F,J),M.push(_),We(M))).then(()=>{M=[];for(const b of o.list())M.push(Lt(b,T,F));return M.push(_),We(M)}).catch(b=>vt(b,8)?b:Promise.reject(b))}function he(T,F,M){a.list().forEach(G=>J(()=>G(T,F,M)))}function be(T,F,M,G,ue){const g=A(T,F);if(g)return g;const _=F===Pt,b=_s?history.state:{};M&&(G||_?r.replace(T.fullPath,oe({scroll:_&&b&&b.scroll},ue)):r.push(T.fullPath,ue)),l.value=T,st(T,F,M,_),At()}let Le;function Vt(){Le||(Le=r.listen((T,F,M)=>{if(!dn.listening)return;const G=w(T),ue=q(G);if(ue){V(oe(ue,{replace:!0,force:!0}),G).catch(Xs);return}u=G;const g=l.value;_s&&Ld(To(g.fullPath,M.delta),Xn()),Q(G,g).catch(_=>vt(_,12)?_:vt(_,2)?(V(oe(x(_.to),{force:!0}),G).then(b=>{vt(b,20)&&!M.delta&&M.type===ln.pop&&r.go(-1,!1)}).catch(Xs),Promise.reject()):(M.delta&&r.go(-M.delta,!1),ie(_,G,g))).then(_=>{_=_||be(G,g,!1),_&&(M.delta&&!vt(_,8)?r.go(-M.delta,!1):M.type===ln.pop&&vt(_,20)&&r.go(-1,!1)),he(G,g,_)}).catch(Xs)}))}let $t=Ms(),_e=Ms(),ee;function ie(T,F,M){At(T);const G=_e.list();return G.length?G.forEach(ue=>ue(T,F,M)):console.error(T),Promise.reject(T)}function pt(){return ee&&l.value!==Pt?Promise.resolve():new Promise((T,F)=>{$t.add([T,F])})}function At(T){return ee||(ee=!T,Vt(),$t.list().forEach(([F,M])=>T?M(T):F()),$t.reset()),T}function st(T,F,M,G){const{scrollBehavior:ue}=e;if(!_s||!ue)return Promise.resolve();const g=!M&&Nd(To(T.fullPath,0))||(G||!M)&&history.state&&history.state.scroll||null;return Gn().then(()=>ue(T,F,g)).then(_=>_&&jd(_)).catch(_=>ie(_,T,F))}const Ne=T=>r.go(T);let rs;const is=new Set,dn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:y,resolve:w,options:e,push:C,replace:k,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:_e.add,isReady:pt,install(T){const F=this;T.component("RouterLink",ap),T.component("RouterView",fp),T.config.globalProperties.$router=F,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(l)}),_s&&!rs&&l.value===Pt&&(rs=!0,C(r.location).catch(ue=>{}));const M={};for(const ue in Pt)Object.defineProperty(M,ue,{get:()=>l.value[ue],enumerable:!0});T.provide(Yn,F),T.provide(gi,da(M)),T.provide(Br,l);const G=T.unmount;is.add(T),T.unmount=function(){is.delete(T),is.size<1&&(u=Pt,Le&&Le(),Le=null,l.value=Pt,rs=!1,ee=!1),G()}}};function We(T){return T.reduce((F,M)=>F.then(()=>J(M)),Promise.resolve())}return dn}function dp(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Ps(u,a))?n.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Ps(u,l))||r.push(l))}return[s,n,r]}function ns(){return ze(Yn)}function Qn(e){return ze(gi)}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Il;const Zn=e=>Il=e,jl=Symbol();function Vr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Qs||(Qs={}));function pp(){const e=Yo(!0),t=e.run(()=>Y({}));let s=[],n=[];const r=ni({install(i){Zn(r),r._a=i,i.provide(jl,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const Ll=()=>{};function Ho(e,t,s,n=Ll){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&Qo()&&Zl(r),r}function gs(e,...t){e.slice().forEach(s=>{s(...t)})}const gp=e=>e(),Fo=Symbol(),yr=Symbol();function Gr(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,n)=>e.set(n,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Vr(r)&&Vr(n)&&e.hasOwnProperty(s)&&!Se(n)&&!Ht(n)?e[s]=Gr(r,n):e[s]=n}return e}const vp=Symbol();function mp(e){return!Vr(e)||!Object.prototype.hasOwnProperty.call(e,vp)}const{assign:Rt}=Object;function _p(e){return!!(Se(e)&&e.effect)}function yp(e,t,s,n){const{state:r,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=r?r():{});const c=Sc(s.state.value[e]);return Rt(c,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=ni(ke(()=>{Zn(s);const d=s._s.get(e);return o[h].call(d,d)})),f),{}))}return l=Nl(e,u,t,s,n,!0),l}function Nl(e,t,s={},n,r,i){let o;const a=Rt({actions:{}},s),l={deep:!0};let u,c,f=[],h=[],d;const p=n.state.value[e];!i&&!p&&(n.state.value[e]={}),Y({});let y;function m(B){let J;u=c=!1,typeof B=="function"?(B(n.state.value[e]),J={type:Qs.patchFunction,storeId:e,events:d}):(Gr(n.state.value[e],B),J={type:Qs.patchObject,payload:B,storeId:e,events:d});const Q=y=Symbol();Gn().then(()=>{y===Q&&(u=!0)}),c=!0,gs(f,J,n.state.value[e])}const w=i?function(){const{state:J}=s,Q=J?J():{};this.$patch(he=>{Rt(he,Q)})}:Ll;function x(){o.stop(),f=[],h=[],n._s.delete(e)}const A=(B,J="")=>{if(Fo in B)return B[yr]=J,B;const Q=function(){Zn(n);const he=Array.from(arguments),be=[],Le=[];function Vt(ee){be.push(ee)}function $t(ee){Le.push(ee)}gs(h,{args:he,name:Q[yr],store:k,after:Vt,onError:$t});let _e;try{_e=B.apply(this&&this.$id===e?this:k,he)}catch(ee){throw gs(Le,ee),ee}return _e instanceof Promise?_e.then(ee=>(gs(be,ee),ee)).catch(ee=>(gs(Le,ee),Promise.reject(ee))):(gs(be,_e),_e)};return Q[Fo]=!0,Q[yr]=J,Q},C={_p:n,$id:e,$onAction:Ho.bind(null,h),$patch:m,$reset:w,$subscribe(B,J={}){const Q=Ho(f,B,J.detached,()=>he()),he=o.run(()=>Ks(()=>n.state.value[e],be=>{(J.flush==="sync"?c:u)&&B({storeId:e,type:Qs.direct,events:d},be)},Rt({},l,J)));return Q},$dispose:x},k=Cs(C);n._s.set(e,k);const V=(n._a&&n._a.runWithContext||gp)(()=>n._e.run(()=>(o=Yo()).run(()=>t({action:A}))));for(const B in V){const J=V[B];if(Se(J)&&!_p(J)||Ht(J))i||(p&&mp(J)&&(Se(J)?J.value=p[B]:Gr(J,p[B])),n.state.value[e][B]=J);else if(typeof J=="function"){const Q=A(J,B);V[B]=Q,a.actions[B]=J}}return Rt(k,V),Rt(re(k),V),Object.defineProperty(k,"$state",{get:()=>n.state.value[e],set:B=>{m(J=>{Rt(J,B)})}}),n._p.forEach(B=>{Rt(k,o.run(()=>B({store:k,app:n._a,pinia:n,options:a})))}),p&&i&&s.hydrate&&s.hydrate(k.$state,p),u=!0,c=!0,k}/*! #__NO_SIDE_EFFECTS__ */function er(e,t,s){let n;const r=typeof t=="function";n=r?s:t;function i(o,a){const l=Zc();return o=o||(l?ze(jl,null):null),o&&Zn(o),o=Il,o._s.has(e)||(r?Nl(e,t,n,o):yp(e,n,o)),o._s.get(e)}return i.$id=e,i}const Ml=er("notifications",{state:()=>({items:[],unreadCount:0,loading:!1}),actions:{async fetchForCurrentUser(){var e;this.loading=!0;try{const{data:t}=await ye.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s){this.items=[],this.unreadCount=0;return}const n=new URL(`${Te}/functions/v1/notifications`),r=await fetch(n.toString(),{headers:{Authorization:`Bearer ${s}`}});if(!r.ok)throw new Error("Failed to load notifications");const i=await r.json();this.items=i.notifications||[],this.unreadCount=this.items.filter(o=>!o.read).length}catch(t){console.error(t)}finally{this.loading=!1}},async markAllRead(){var e;try{const{data:t}=await ye.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s)return;const n=new URL(`${Te}/functions/v1/notifications_mark_all_read`);if(!(await fetch(n.toString(),{method:"POST",headers:{Authorization:`Bearer ${s}`}})).ok)throw new Error("Failed to mark notifications read");this.items.forEach(i=>i.read=!0),this.unreadCount=0}catch(t){console.error(t)}},async fetchSettings(){var e;try{const{data:t}=await ye.auth.getSession(),s=(e=t==null?void 0:t.session)==null?void 0:e.access_token;if(!s)return[];const n=new URL(`${Te}/functions/v1/notification_settings`),r=await fetch(n.toString(),{headers:{Authorization:`Bearer ${s}`}});return r.ok?(await r.json()).settings||[]:[]}catch(t){return console.error(t),[]}},async updateSetting(e,t){var s;try{const{data:n}=await ye.auth.getSession(),r=(s=n==null?void 0:n.session)==null?void 0:s.access_token;if(!r)return!1;const i=new URL(`${Te}/functions/v1/notification_settings`);return(await fetch(i.toString(),{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({event_type:e,enabled:t})})).ok}catch(n){return console.error(n),!1}}}}),Fe=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},bp={class:"menuBody"},wp={key:0,class:"user-info"},Sp={key:0,class:"badge"},kp={__name:"MainMenu",props:{usrType:{required:!0},usr:{required:!0}},setup(e){const t=e,s=ns(),n=Ml(),r=Y(""),i=Y("");Tt(async()=>{try{t.usr&&await n.fetchForCurrentUser()}catch{}});function o(){s.push({name:"Notifications"})}const a=async()=>{if(!r.value||!i.value){alert("Please enter both email and password");return}await ld(r.value,i.value);const f=window.location.origin+window.location.pathname+"#/";window.location.href=f,setTimeout(()=>window.location.reload(),100)},l=async()=>{await cd();const f=window.location.origin+window.location.pathname+"#/init_page";window.location.href=f,setTimeout(()=>window.location.reload(),100)},u=()=>{t.usrType==="person"?s.push({name:"PersonProfileShow",params:{userID:t.usr.id}}):t.usrType==="company"&&s.push({name:"CompanyProfileShow",params:{userID:t.usr.id}})},c=()=>{t.usrType==="person"?s.push({name:"PersonProfileUpdate"}):t.usrType==="company"&&s.push({name:"CompanyProfileUpdate"})};return(f,h)=>{const d=Oa("router-link");return S(),$("div",bp,[h[8]||(h[8]=v("h1",{class:"brand-title"},"SocSite",-1)),t.usr?(S(),$("div",wp,[v("p",null,D(t.usr.email),1)])):L("",!0),t.usr?(S(),Ut(d,{key:1,to:"/"},{default:Us(()=>h[2]||(h[2]=[v("button",{class:"menu-btn"},"Home",-1)])),_:1})):L("",!0),t.usr?(S(),$("button",{key:2,onClick:o,class:"menu-btn"},[h[3]||(h[3]=kt(" Notifications ")),ft(n).unreadCount?(S(),$("span",Sp,D(ft(n).unreadCount),1)):L("",!0)])):L("",!0),t.usr?(S(),Ut(d,{key:3,to:"/settings"},{default:Us(()=>h[4]||(h[4]=[v("button",{class:"menu-btn"},"Settings",-1)])),_:1})):L("",!0),t.usr==null?(S(),Ut(d,{key:4,to:"/init_page"},{default:Us(()=>h[5]||(h[5]=[v("button",{class:"menu-btn"},"Home",-1)])),_:1})):L("",!0),t.usrType==null?(S(),$("form",{key:5,onSubmit:et(a,["prevent"]),class:"login-form"},[ce(v("input",{type:"email","onUpdate:modelValue":h[0]||(h[0]=p=>r.value=p),placeholder:"Email",required:"",class:"input-field"},null,512),[[ve,r.value]]),ce(v("input",{type:"password","onUpdate:modelValue":h[1]||(h[1]=p=>i.value=p),placeholder:"Password",required:"",class:"input-field"},null,512),[[ve,i.value]]),h[6]||(h[6]=v("button",{type:"submit",class:"menu-btn"},"Log In",-1))],32)):L("",!0),t.usrType==null?(S(),Ut(d,{key:6,to:"/register"},{default:Us(()=>h[7]||(h[7]=[v("button",{class:"menu-btn"},"Register",-1)])),_:1})):L("",!0),t.usrType=="person"||t.usrType=="company"?(S(),$("button",{key:7,onClick:c,class:"menu-btn"},"Update Profile")):L("",!0),t.usrType==="person"||t.usrType=="company"?(S(),$("button",{key:8,onClick:u,class:"menu-btn"},"Show Profile")):L("",!0),t.usrType!=null?(S(),$("button",{key:9,onClick:l,class:"menu-btn"},"Log Out")):L("",!0)])}}},Ep=Fe(kp,[["__scopeId","data-v-3dd06269"]]),vi=er("search",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),Tp={id:"search"},$p={class:"search-bar"},Ap={class:"search-options"},Pp=["disabled"],Op={__name:"Search",setup(e){const t=ns(),s=vi(),n=Y(""),r=Y(""),i=Y(!1),o=`${Te}/functions/v1/search`,a=async()=>{if(!n.value||!r.value){alert("Please fill in all fields");return}i.value=!0;try{const{data:l}=await ye.auth.getSession(),u=l==null?void 0:l.session,f=await(await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u==null?void 0:u.access_token}`},body:JSON.stringify({searchType:n.value,searchInput:r.value})})).json();if(console.log("Search response:",f),f.error)alert(`Error: ${f.error}`);else{const h=f.data||f.message||[];s.setResults(h),h.length>0?setTimeout(()=>{t.push({name:"SearchResults",params:{type:"search"}})},100):alert("No search results found")}}catch(l){console.error("Search error:",l),alert("An error occurred during search. Please try again.")}finally{i.value=!1}};return(l,u)=>(S(),$("div",Tp,[v("form",{onSubmit:et(a,["prevent"]),class:"search-form"},[v("div",$p,[ce(v("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),placeholder:"Search...",required:"",class:"search-input"},null,512),[[ve,r.value]])]),v("div",Ap,[ce(v("input",{type:"radio",id:"person",value:"person","onUpdate:modelValue":u[1]||(u[1]=c=>n.value=c),required:"",class:"search-radio"},null,512),[[Yi,n.value]]),u[3]||(u[3]=v("label",{for:"person",class:"search-label"},"Person",-1)),ce(v("input",{type:"radio",id:"company",value:"company","onUpdate:modelValue":u[2]||(u[2]=c=>n.value=c),required:"",class:"search-radio"},null,512),[[Yi,n.value]]),u[4]||(u[4]=v("label",{for:"company",class:"search-label"},"Company",-1))]),v("button",{type:"submit",class:"search-button",disabled:i.value},D(i.value?"Searching...":"Search"),9,Pp)],32)]))}},Cp=Fe(Op,[["__scopeId","data-v-9da01caa"]]),Rp={class:"user-type-form"},xp={__name:"SetUserType",setup(e){const t=Y("");async function s(){if(!t.value){alert("Please select an account type.");return}const{data:n}=await ye.auth.getSession(),r=n==null?void 0:n.session;if(!r||!r.access_token){responseMessage.value="User not authenticated. Please log in.";return}const o=await(await fetch(`${Te}/functions/v1/create-profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,Accept:"application/json"},body:JSON.stringify({accountType:t.value})})).json();o.message==="Created"?window.location.reload():(console.error("Error in response:",o),alert("Failed to set account type. Please try again."))}return(n,r)=>(S(),$("div",Rp,[r[7]||(r[7]=v("h1",null,"Select User Type",-1)),v("form",{onSubmit:et(s,["prevent"]),class:"user-type-form"},[r[2]||(r[2]=v("label",{for:"account-type",class:"user-type-label"},"Account Type:",-1)),ce(v("select",{id:"account-type","onUpdate:modelValue":r[0]||(r[0]=i=>t.value=i),required:"",class:"user-type-select"},r[1]||(r[1]=[v("option",{value:"",disabled:""},"Select account type",-1),v("option",{value:"person"},"Person",-1),v("option",{value:"company"},"Company",-1)]),512),[[ef,t.value]]),r[3]||(r[3]=v("br",null,null,-1)),r[4]||(r[4]=v("small",{style:{color:"red"}},"Note: The account type cannot be changed later on.",-1)),r[5]||(r[5]=v("br",null,null,-1)),r[6]||(r[6]=v("button",{type:"submit",class:"user-type-button"},"Set",-1))],32)]))}},Ip=Fe(xp,[["__scopeId","data-v-c70cde20"]]),jp={class:"container"},Lp={class:"left-section"},Np={class:"sidebar left"},Mp={class:"content"},Up={__name:"App",setup(e){const t=Y("uninitialized"),s=Y("uninitialized"),n=Qn(),r=ke(()=>s=="person"||s==="company"||n.path==="/register");return Pa(async()=>{t.value=await _l(),s.value=await od()}),(i,o)=>{const a=Oa("router-view");return S(),$("div",jp,[v("div",Lp,[v("aside",Np,[He(Ep,{usrType:s.value,usr:t.value},null,8,["usrType","usr"])])]),v("main",Mp,[s.value=="person"||s.value==="company"?(S(),Ut(Cp,{key:0})):L("",!0),r.value?(S(),Ut(a,{key:1})):L("",!0),s.value==="unknown"?(S(),Ut(Ip,{key:2})):L("",!0)]),o[0]||(o[0]=v("div",{class:"right-section"},[v("aside",{class:"sidebar right"},[v("h3",null,"Special Offers"),v("p",null,"Check out the latest deals and offers here."),v("h3",null,"Most Interesting"),v("p",null,"Discover the most engaging content on our site.")])],-1))])}}},Dp=Fe(Up,[["__scopeId","data-v-7a234736"]]),Hp={class:"register-form"},Fp={class:"form-group"},Bp={key:0,class:"error-text"},Vp={class:"form-group"},Gp={key:0,class:"error-text"},qp={class:"form-group"},Kp={key:0,class:"error-text"},zp={key:0,class:"error-message"},Wp=["disabled"],br=8,Jp={__name:"Register",setup(e){const t=Y(""),s=Y(""),n=Y(""),r=Y(""),i=Y(!1),o=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,a=ke(()=>t.value?o.test(t.value):!0),l=ke(()=>s.value?s.value.length>=br:!0),u=ke(()=>n.value?s.value===n.value:!0),c=ke(()=>t.value&&s.value&&n.value&&a.value&&l.value&&u.value),f=async()=>{try{if(r.value="",!c.value){a.value?l.value?u.value?r.value="Please fill out all required fields":r.value="Passwords do not match":r.value=`Password must be at least ${br} characters`:r.value="Please enter a valid email address";return}i.value=!0;const h=await ad(t.value.trim(),s.value);if(h.error){r.value=h.error.message||"Failed to create account";return}window.location.reload()}catch(h){console.error("Registration error:",h),r.value="An unexpected error occurred"}finally{i.value=!1}};return(h,d)=>(S(),$("div",Hp,[d[6]||(d[6]=v("h1",null,"Sign Up",-1)),v("form",{onSubmit:et(f,["prevent"])},[v("div",Fp,[d[3]||(d[3]=v("label",{for:"email-reg"},"Email:",-1)),ce(v("input",{type:"email",id:"email-reg","onUpdate:modelValue":d[0]||(d[0]=p=>t.value=p),required:"",autocomplete:"email",class:wt({"input-error":t.value&&!a.value})},null,2),[[ve,t.value]]),t.value&&!a.value?(S(),$("div",Bp," Please enter a valid email address ")):L("",!0)]),v("div",Vp,[d[4]||(d[4]=v("label",{for:"password-reg"},"Password:",-1)),ce(v("input",{type:"password",id:"password-reg","onUpdate:modelValue":d[1]||(d[1]=p=>s.value=p),required:"",autocomplete:"new-password",class:wt({"input-error":s.value&&!l.value})},null,2),[[ve,s.value]]),s.value&&!l.value?(S(),$("div",Gp," Password must be at least "+D(br)+" characters ")):L("",!0)]),v("div",qp,[d[5]||(d[5]=v("label",{for:"confirm-password"},"Confirm Password:",-1)),ce(v("input",{type:"password",id:"confirm-password","onUpdate:modelValue":d[2]||(d[2]=p=>n.value=p),required:"",autocomplete:"new-password",class:wt({"input-error":n.value&&!u.value})},null,2),[[ve,n.value]]),n.value&&!u.value?(S(),$("div",Kp," Passwords do not match ")):L("",!0)]),r.value?(S(),$("div",zp,D(r.value),1)):L("",!0),v("button",{type:"submit",disabled:i.value||!c.value},D(i.value?"Creating Account...":"Sign Up"),9,Wp)],32)]))}},Xp=Fe(Jp,[["__scopeId","data-v-5021c88f"]]),Ul=async(e,t)=>{const{data:s}=await ye.auth.getSession(),n=s==null?void 0:s.session;if(!n||!n.access_token)throw new Error("User not authenticated. Please log in.");const r=`${Te}/functions/v1/get-user-connections?userID=${e}&type=${t}`,o=await(await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`}})).json();return o.error&&alert(`Error: ${o.error}`),await o},mi=er("followers",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),_i=er("following",{state:()=>({results:[]}),actions:{setResults(e){this.results=e},clearResults(){this.results=[]}}}),Yp={class:"profile-container"},Qp={key:0},Zp={class:"profile-header"},eg={class:"profile-header-content"},tg={class:"profile-name"},sg=["href"],ng={class:"connections-bar"},rg={class:"connection-count"},ig={class:"connection-count"},og={class:"profile-section"},ag={class:"profile-info"},lg={key:0,class:"info-item"},cg={class:"info-value"},ug={key:1,class:"info-item"},fg={class:"info-value"},hg={key:2,class:"info-item"},dg={class:"info-value"},pg={key:3,class:"info-item"},gg={class:"info-value"},vg={key:4,class:"info-item"},mg={class:"info-value"},_g={class:"profile-section"},yg={class:"skills-container"},bg={key:0,class:"skills-column"},wg={class:"skills-list"},Sg={key:1,class:"skills-column"},kg={class:"skills-list"},Eg={key:1,class:"message-container"},Tg={class:"response-message"},Bo="http://127.0.0.1:54321/functions/v1/get-user-profile",$g={__name:"CompanyProfileShow",setup(e){const t=Qn(),s=Y(null),n=Y("");var r=Y(t.params.userID);const i=async()=>{try{const{data:u}=await ye.auth.getSession(),c=u==null?void 0:u.session;if(!c||!c.access_token){n.value="User not authenticated. Please log in.";return}const f=`${Bo}?lookUserID=${r.value}`,h=await fetch(f,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.access_token}`}});if(!h.ok)throw new Error("Failed to fetch user profile data");s.value=await h.json()}catch(u){n.value=`Error: ${u.message}`}},o=async()=>{if(!s.value)return;const{data:u}=await ye.auth.getSession(),c=u==null?void 0:u.session,f=s.value.followed?"unfollow":"follow";(await fetch(`${Bo}?lookUserID=${r.value}&action=${f}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c==null?void 0:c.access_token}`}})).ok?s.value.followed=!s.value.followed:console.error("Failed to follow/unfollow user")},a=ns(),l=async u=>{try{const c=await Ul(r.value,u);u==="following"?(_i().setResults(c.message),a.push({name:"Following",params:{type:"following"}})):u==="followers"&&(mi().setResults(c.message),a.push({name:"Followers",params:{type:"followers"}}))}catch(c){console.error("Error fetching user connections:",c)}};return Tt(i),xl(async(u,c)=>{r=Y(u.params.userID),await i()}),(u,c)=>{var f,h;return S(),$("div",Yp,[s.value?(S(),$("div",Qp,[v("div",Zp,[v("div",eg,[v("h1",tg,D(s.value.name||"N/A"),1),s.value.website?(S(),$("a",{key:0,href:s.value.website,target:"_blank",class:"profile-website"},D(s.value.website),9,sg)):L("",!0)]),s.value.showFollowButton?(S(),$("button",{key:0,onClick:o,class:wt(["follow-button",{following:s.value.followed}])},D(s.value.followed?"Following":"Follow"),3)):L("",!0)]),v("div",ng,[v("a",{href:"#",class:"connection-stat",onClick:c[0]||(c[0]=et(d=>l("following"),["prevent"]))},[v("span",rg,D(s.value.following||0),1),c[2]||(c[2]=v("span",{class:"connection-label"},"Following",-1))]),v("a",{href:"#",class:"connection-stat",onClick:c[1]||(c[1]=et(d=>l("followers"),["prevent"]))},[v("span",ig,D(s.value.followers||0),1),c[3]||(c[3]=v("span",{class:"connection-label"},"Followers",-1))])]),v("div",og,[v("div",ag,[s.value.vision?(S(),$("div",lg,[c[4]||(c[4]=v("span",{class:"info-label"},"Vision",-1)),v("span",cg,D(s.value.vision),1)])):L("",!0),s.value.strategy?(S(),$("div",ug,[c[5]||(c[5]=v("span",{class:"info-label"},"Strategy",-1)),v("span",fg,D(s.value.strategy),1)])):L("",!0),s.value.values?(S(),$("div",hg,[c[6]||(c[6]=v("span",{class:"info-label"},"Values",-1)),v("span",dg,D(s.value.values),1)])):L("",!0),s.value.skillslookingfor?(S(),$("div",pg,[c[7]||(c[7]=v("span",{class:"info-label"},"Skills looking for",-1)),v("span",gg,D(s.value.skillslookingfor),1)])):L("",!0),s.value.location?(S(),$("div",vg,[c[8]||(c[8]=v("span",{class:"info-label"},"Location",-1)),v("span",mg,D(s.value.location),1)])):L("",!0)])]),v("div",_g,[c[11]||(c[11]=v("h2",{class:"section-title"},"Working Here",-1)),v("div",yg,[(f=s.value.benefits)!=null&&f.length?(S(),$("div",bg,[c[9]||(c[9]=v("h3",{class:"skills-subtitle"},"Benefits",-1)),v("ul",wg,[(S(!0),$(we,null,Ye(s.value.benefits,d=>(S(),$("li",{key:d},D(d),1))),128))])])):L("",!0),(h=s.value.drawbacks)!=null&&h.length?(S(),$("div",Sg,[c[10]||(c[10]=v("h3",{class:"skills-subtitle"},"Drawbacks",-1)),v("ul",kg,[(S(!0),$(we,null,Ye(s.value.drawbacks,d=>(S(),$("li",{key:d},D(d),1))),128))])])):L("",!0)])])])):n.value?(S(),$("div",Eg,[v("p",Tg,D(n.value),1)])):L("",!0)])}}},Ag=Fe($g,[["__scopeId","data-v-cf2ce0c3"]]),U={NAME_MIN_LENGTH:3,NAME_MAX_LENGTH:20,VISION_MIN_LENGTH:5,VISION_MAX_LENGTH:200,STRATEGY_MIN_LENGTH:20,STRATEGY_MAX_LENGTH:400,VALUES_MIN_LENGTH:5,VALUES_MAX_LENGTH:200,LOCATION_MIN_LENGTH:3,LOCATION_MAX_LENGTH:30,SUCCESS_MIN_LENGTH:10,SUCCESS_MAX_LENGTH:200,FAILURE_MIN_LENGTH:10,FAILURE_MAX_LENGTH:200,SKILL_MIN_LENGTH:10,SKILL_MAX_LENGTH:300,HOBBY_MIN_LENGTH:5,HOBBY_MAX_LENGTH:200,STRENGTH_MIN_LENGTH:5,STRENGTH_MAX_LENGTH:20,WEAKNESS_MIN_LENGTH:5,WEAKNESS_MAX_LENGTH:20,BENEFIT_MIN_LENGTH:5,BENEFIT_MAX_LENGTH:20,DRAWBACK_MIN_LENGTH:5,DRAWBACK_MAX_LENGTH:20};function Nn(e){if(typeof e=="string")return e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/<[^>]*>/g,"").trim();if(Array.isArray(e))return e.map(t=>Nn(t));if(e!==null&&typeof e=="object"){const t={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=Nn(e[s]));return t}return e}const Pg={class:"profile-update-container"},Og={class:"form-section"},Cg={class:"form-group"},Rg={key:0,class:"error-message"},xg={class:"form-group"},Ig={key:0,class:"error-message"},jg={class:"form-group"},Lg={key:0,class:"error-message"},Ng={class:"form-section"},Mg={class:"form-group"},Ug={key:0,class:"error-message"},Dg={class:"form-group"},Hg={key:0,class:"error-message"},Fg={class:"form-group"},Bg={key:0,class:"error-message"},Vg={class:"form-group"},Gg={key:0,class:"error-message"},qg={class:"form-section"},Kg={class:"list-items"},zg=["for"],Wg=["id","onUpdate:modelValue"],Jg={key:0,class:"error-message"},Xg={key:1,class:"error-message"},Yg={class:"form-section"},Qg={class:"list-items"},Zg=["for"],ev=["id","onUpdate:modelValue"],tv={key:0,class:"error-message"},sv={key:1,class:"error-message"},nv={key:0,class:"error-message"},rv={class:"form-actions"},iv=["disabled"],ov={key:0,class:"response-message"},av={__name:"CompanyProfileUpdate",setup(e){const t=`${Te}/functions/v1/user-profile-edit`,s=`${Te}/functions/v1/get-user-profile`,n=Y({name:"",vision:"",strategy:"",values:"",skillslookingfor:"",location:"",website:"",benefits:["","","","",""],drawbacks:["","","","",""]}),r=Y(""),i=Y({}),o=Y(Array(5).fill(null)),a=Y(Array(5).fill(null)),l=Y(!1),u=ke(()=>(c(),Object.keys(i.value).length===0)),c=()=>{i.value={},o.value=Array(5).fill(null),a.value=Array(5).fill(null);let p=!0;if(!n.value.name||n.value.name.length<U.NAME_MIN_LENGTH?(i.value.name=`Company name must be at least ${U.NAME_MIN_LENGTH} characters`,p=!1):n.value.name.length>U.NAME_MAX_LENGTH&&(i.value.name=`Company name cannot exceed ${U.NAME_MAX_LENGTH} characters`,p=!1),!n.value.location||n.value.location.length<U.LOCATION_MIN_LENGTH?(i.value.location=`Location must be at least ${U.LOCATION_MIN_LENGTH} characters`,p=!1):n.value.location.length>U.LOCATION_MAX_LENGTH&&(i.value.location=`Location cannot exceed ${U.LOCATION_MAX_LENGTH} characters`,p=!1),n.value.website){const y=n.value.website.trim();if(y!==""){const m=/^https?:\/\//.test(y),w=m?y:`https://${y}`;try{new URL(w),/^https?:\/\/[a-zA-Z0-9]+([\-\.]{1}[a-zA-Z0-9]+)*\.[a-zA-Z]{2,}/.test(w)||(i.value.website="Please enter a valid website domain",p=!1)}catch{i.value.website="Please enter a valid website",p=!1}!m&&!i.value.website&&(n.value.website=`https://${y}`)}}return!n.value.vision||n.value.vision.length<U.VISION_MIN_LENGTH?(i.value.vision=`Vision statement must be at least ${U.VISION_MIN_LENGTH} characters`,p=!1):n.value.vision.length>U.VISION_MAX_LENGTH&&(i.value.vision=`Vision statement cannot exceed ${U.VISION_MAX_LENGTH} characters`,p=!1),!n.value.strategy||n.value.strategy.length<U.STRATEGY_MIN_LENGTH?(i.value.strategy=`Strategy must be at least ${U.STRATEGY_MIN_LENGTH} characters`,p=!1):n.value.strategy.length>U.STRATEGY_MAX_LENGTH&&(i.value.strategy=`Strategy cannot exceed ${U.STRATEGY_MAX_LENGTH} characters`,p=!1),!n.value.values||n.value.values.length<U.VALUES_MIN_LENGTH?(i.value.values=`Values must be at least ${U.VALUES_MIN_LENGTH} characters`,p=!1):n.value.values.length>U.VALUES_MAX_LENGTH&&(i.value.values=`Values cannot exceed ${U.VALUES_MAX_LENGTH} characters`,p=!1),!n.value.skillslookingfor||n.value.skillslookingfor.length<U.SKILL_MIN_LENGTH?(i.value.skillslookingfor=`Skills looking for must be at least ${U.SKILL_MIN_LENGTH} characters`,p=!1):n.value.skillslookingfor.length>U.SKILL_MAX_LENGTH&&(i.value.skillslookingfor=`Skills looking for cannot exceed ${U.SKILL_MAX_LENGTH} characters`,p=!1),f(),p},f=()=>{var w,x;o.value=Array(5).fill(null),a.value=Array(5).fill(null),delete i.value.benefits,delete i.value.drawbacks;let p=!0;for(let A=0;A<n.value.benefits.length;A++){const C=(w=n.value.benefits[A])==null?void 0:w.trim(),k=(x=n.value.drawbacks[A])==null?void 0:x.trim();C&&C.length<U.BENEFIT_MIN_LENGTH?(o.value[A]=`Benefit #${A+1} must be at least ${U.BENEFIT_MIN_LENGTH} characters`,p=!1):C&&C.length>U.BENEFIT_MAX_LENGTH&&(o.value[A]=`Benefit #${A+1} cannot exceed ${U.BENEFIT_MAX_LENGTH} characters`,p=!1),k&&k.length<U.DRAWBACK_MIN_LENGTH?(a.value[A]=`Drawback #${A+1} must be at least ${U.DRAWBACK_MIN_LENGTH} characters`,p=!1):k&&k.length>U.DRAWBACK_MAX_LENGTH&&(a.value[A]=`Drawback #${A+1} cannot exceed ${U.DRAWBACK_MAX_LENGTH} characters`,p=!1),(C&&!k||!C&&k)&&(C&&!k?a.value[A]=`Please provide a matching drawback for Benefit #${A+1}`:!C&&k&&(o.value[A]=`Please provide a matching benefit for Drawback #${A+1}`),p=!1)}const y=n.value.benefits.filter(A=>A&&A.trim().length>0),m=n.value.drawbacks.filter(A=>A&&A.trim().length>0);return y.length!==m.length&&(i.value.benefits="The number of benefits and drawbacks must be equal",i.value.drawbacks="The number of benefits and drawbacks must be equal",p=!1),p},h=async()=>{var p,y;try{if(!c()){r.value="Please fix the validation errors before submitting.";return}l.value=!0;const{data:m}=await ye.auth.getSession(),w=m==null?void 0:m.session;if(!w||!w.access_token){r.value="User not authenticated. Please log in.",l.value=!1;return}const x=Nn(n.value),C=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w.access_token}`},body:JSON.stringify(x)})).json();C.validationErrors?(i.value=C.validationErrors,C.validationErrors.benefits&&(o.value=((p=C.validationErrors)==null?void 0:p.benefits)||[]),C.validationErrors.drawbacks&&(a.value=((y=C.validationErrors)==null?void 0:y.drawbacks)||[]),r.value="Server validation failed. Please check the highlighted fields."):(r.value=C.error?`Error: ${C.error}`:"Company profile updated successfully!",C.error||setTimeout(()=>{r.value=""},3e3))}catch(m){console.error("Profile update error:",m),r.value=`Error: ${m.message||"An unexpected error occurred"}`}finally{l.value=!1}};return Tt(async()=>{try{const{data:p}=await ye.auth.getSession(),y=p==null?void 0:p.session;if(!y||!y.access_token){r.value="User not authenticated. Please log in.";return}const m=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y.access_token}`}});if(!m.ok)throw new Error("Failed to fetch company profile data");const w=await m.json();n.value={name:w.name||"",vision:w.vision||"",strategy:w.strategy||"",values:w.values||"",skillslookingfor:w.skillslookingfor||"",location:w.location||"",website:w.website||"",benefits:Array.isArray(w.benefits)?w.benefits.slice(0,5).concat(Array(5-Math.min(w.benefits.length,5)).fill("")):["","","","",""],drawbacks:Array.isArray(w.drawbacks)?w.drawbacks.slice(0,5).concat(Array(5-Math.min(w.drawbacks.length,5)).fill("")):["","","","",""]}}catch(p){r.value=`Error: ${p.message}`}}),(p,y)=>(S(),$("div",Pg,[y[18]||(y[18]=v("h1",{class:"page-title"},"Company Profile Update",-1)),v("form",{onSubmit:et(h,["prevent"]),class:"profile-form"},[v("div",Og,[y[10]||(y[10]=v("h2",{class:"section-title"},"Company Information",-1)),v("div",Cg,[y[7]||(y[7]=v("label",{for:"name"},"Name",-1)),ce(v("input",{type:"text",id:"name","onUpdate:modelValue":y[0]||(y[0]=m=>n.value.name=m),required:"",class:"form-input"},null,512),[[ve,n.value.name]]),i.value.name?(S(),$("span",Rg,D(i.value.name),1)):L("",!0)]),v("div",xg,[y[8]||(y[8]=v("label",{for:"location"},"Location",-1)),ce(v("input",{type:"text",id:"location","onUpdate:modelValue":y[1]||(y[1]=m=>n.value.location=m),required:"",class:"form-input"},null,512),[[ve,n.value.location]]),i.value.location?(S(),$("span",Ig,D(i.value.location),1)):L("",!0)]),v("div",jg,[y[9]||(y[9]=v("label",{for:"website"},"Website",-1)),ce(v("input",{type:"url",id:"website","onUpdate:modelValue":y[2]||(y[2]=m=>n.value.website=m),class:"form-input"},null,512),[[ve,n.value.website]]),i.value.website?(S(),$("span",Lg,D(i.value.website),1)):L("",!0)])]),v("div",Ng,[y[15]||(y[15]=v("h2",{class:"section-title"},"Company Vision",-1)),v("div",Mg,[y[11]||(y[11]=v("label",{for:"vision"},"Vision Statement",-1)),ce(v("textarea",{id:"vision","onUpdate:modelValue":y[3]||(y[3]=m=>n.value.vision=m),required:"",class:"form-textarea"},null,512),[[ve,n.value.vision]]),i.value.vision?(S(),$("span",Ug,D(i.value.vision),1)):L("",!0)]),v("div",Dg,[y[12]||(y[12]=v("label",{for:"strategy"},"Strategy",-1)),ce(v("textarea",{id:"strategy","onUpdate:modelValue":y[4]||(y[4]=m=>n.value.strategy=m),required:"",class:"form-textarea"},null,512),[[ve,n.value.strategy]]),i.value.strategy?(S(),$("span",Hg,D(i.value.strategy),1)):L("",!0)]),v("div",Fg,[y[13]||(y[13]=v("label",{for:"values"},"Values",-1)),ce(v("textarea",{id:"values","onUpdate:modelValue":y[5]||(y[5]=m=>n.value.values=m),required:"",class:"form-textarea"},null,512),[[ve,n.value.values]]),i.value.values?(S(),$("span",Bg,D(i.value.values),1)):L("",!0)]),v("div",Vg,[y[14]||(y[14]=v("label",{for:"skillslookingfor"},"Skills Looking For",-1)),ce(v("textarea",{id:"skillslookingfor","onUpdate:modelValue":y[6]||(y[6]=m=>n.value.skillslookingfor=m),required:"",class:"form-textarea"},null,512),[[ve,n.value.skillslookingfor]]),i.value.skillslookingfor?(S(),$("span",Gg,D(i.value.skillslookingfor),1)):L("",!0)])]),v("div",qg,[y[16]||(y[16]=v("h2",{class:"section-title"},[kt("Benefits "),v("span",{class:"field-limit"},"(max 5)")],-1)),v("div",Kg,[(S(!0),$(we,null,Ye(n.value.benefits,(m,w)=>(S(),$("div",{key:"benefit"+w,class:"form-group"},[v("label",{for:"benefit"+(w+1)},"Benefit "+D(w+1),9,zg),ce(v("input",{type:"text",id:"benefit"+(w+1),"onUpdate:modelValue":x=>n.value.benefits[w]=x,class:"form-input",onInput:f},null,40,Wg),[[ve,n.value.benefits[w]]]),o.value[w]?(S(),$("span",Jg,D(o.value[w]),1)):L("",!0),i.value["benefit"+(w+1)]?(S(),$("span",Xg,D(i.value["benefit"+(w+1)]),1)):L("",!0)]))),128))])]),v("div",Yg,[y[17]||(y[17]=v("h2",{class:"section-title"},[kt("Drawbacks "),v("span",{class:"field-limit"},"(max 5)")],-1)),v("div",Qg,[(S(!0),$(we,null,Ye(n.value.drawbacks,(m,w)=>(S(),$("div",{key:"drawback"+w,class:"form-group"},[v("label",{for:"drawback"+(w+1)},"Drawback "+D(w+1),9,Zg),ce(v("input",{type:"text",id:"drawback"+(w+1),"onUpdate:modelValue":x=>n.value.drawbacks[w]=x,class:"form-input",onInput:f},null,40,ev),[[ve,n.value.drawbacks[w]]]),a.value[w]?(S(),$("span",tv,D(a.value[w]),1)):L("",!0),i.value["drawback"+(w+1)]?(S(),$("span",sv,D(i.value["drawback"+(w+1)]),1)):L("",!0)]))),128))]),i.value.benefits||i.value.drawbacks?(S(),$("span",nv,"The number of benefits and drawbacks must be equal")):L("",!0)]),v("div",rv,[v("button",{type:"submit",class:"btn-submit",disabled:!u.value||l.value},"Save Profile",8,iv)])],32),r.value?(S(),$("div",ov,D(r.value),1)):L("",!0)]))}},lv=Fe(av,[["__scopeId","data-v-3827b5f8"]]),cv={class:"profile-container"},uv={key:0},fv={class:"profile-header"},hv={class:"profile-header-content"},dv={class:"profile-name"},pv={class:"profile-username"},gv={class:"profile-actions"},vv={key:0,class:"endorsement-form"},mv={class:"connections-bar"},_v={class:"connection-count"},yv={class:"connection-count"},bv={class:"profile-section"},wv={class:"profile-info"},Sv={key:0,class:"info-item"},kv={class:"info-value"},Ev={key:1,class:"info-item"},Tv={class:"info-value"},$v={key:2,class:"info-item"},Av={class:"info-value"},Pv={key:1,class:"profile-section"},Ov={class:"profile-info"},Cv={key:0,class:"info-item"},Rv={class:"info-value"},xv={key:1,class:"info-item"},Iv={class:"info-value"},jv={key:2,class:"profile-section"},Lv={class:"skills-container"},Nv={key:0,class:"skills-column"},Mv={class:"skills-list"},Uv={key:1,class:"skills-column"},Dv={class:"skills-list"},Hv={key:1,class:"message-container"},Fv={class:"response-message"},Bv={__name:"PersonProfileShow",setup(e){const t=Qn(),s=ns(),n=Y(null),r=Y(""),i=Y(!1),o=Y(""),a=Y(t.params.userID),l=Y(null),u=`${Te}/functions/v1/get-user-profile`,c=`${Te}/functions/v1/endorsements`,f=async()=>{try{const{data:y}=await ye.auth.getSession(),m=y==null?void 0:y.session;if(!m||!m.access_token){r.value="User not authenticated. Please log in.";return}l.value=m.user.id;const w=`${u}?lookUserID=${a.value}`,x=await fetch(w,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`}});if(!x.ok)throw new Error("Failed to fetch user profile data");n.value=await x.json()}catch(y){r.value=`Error: ${y.message}`}},h=async()=>{if(n.value)try{const{data:y}=await ye.auth.getSession(),m=y==null?void 0:y.session;if(!m||!m.access_token){r.value="User not authenticated. Please log in.";return}const w=n.value.followed?"unfollow":"follow",x=await fetch(`${u}?lookUserID=${a.value}&action=${w}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`}}),A=await x.json();x.ok?(n.value.followed=!n.value.followed,w==="follow"?n.value.followers++:n.value.followers=Math.max(0,n.value.followers-1)):(console.error("Failed to follow/unfollow user:",A.error),r.value=`Error: ${A.error||"Failed to follow/unfollow user"}`)}catch(y){console.error("Error in toggleFollow:",y),r.value=`Error: ${y.message||"An unexpected error occurred"}`}},d=async()=>{try{const{data:y}=await ye.auth.getSession(),m=y==null?void 0:y.session;if(!m||!m.access_token){r.value="User not authenticated. Please log in.";return}if(!(await fetch(c,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({touserid:a.value,congratulationtext:o.value})})).ok)throw new Error("Failed to submit endorsement");r.value="Endorsement submitted successfully!",o.value="",i.value=!1}catch(y){r.value=`Error: ${y.message}`}},p=async y=>{try{const m=await Ul(a.value,y);y==="following"?(_i().setResults(m.message),s.push({name:"Following",params:{type:"following"}})):y==="followers"&&(mi().setResults(m.message),s.push({name:"Followers",params:{type:"followers"}}))}catch(m){console.error("Error fetching user connections:",m)}};return Tt(async()=>{await f()}),xl(async(y,m)=>{a.value=y.params.userID,await f()}),(y,m)=>{var w,x,A,C;return S(),$("div",cv,[n.value?(S(),$("div",uv,[v("div",fv,[v("div",hv,[v("h1",dv,D(n.value.name||"")+" "+D(n.value.surname||""),1),v("p",pv,"@"+D(n.value.username||"N/A"),1)]),v("div",gv,[n.value.showFollowButton?(S(),$("button",{key:0,onClick:h,class:wt(["follow-button",{following:n.value.followed}])},D(n.value.followed?"Following":"Follow"),3)):L("",!0),n.value.showFollowButton?(S(),$("button",{key:1,onClick:m[0]||(m[0]=k=>i.value=!i.value),class:"endorsement-button"}," Write Endorsement ")):L("",!0)])]),i.value?(S(),$("div",vv,[ce(v("textarea",{"onUpdate:modelValue":m[1]||(m[1]=k=>o.value=k),placeholder:"Write your endorsement here..."},null,512),[[ve,o.value]]),v("div",{class:"submit-button-container"},[v("button",{onClick:d,class:"submit-endorsement-button"},"Submit")])])):L("",!0),v("div",mv,[v("a",{href:"#",class:"connection-stat",onClick:m[2]||(m[2]=et(k=>p("following"),["prevent"]))},[v("span",_v,D(n.value.following||0),1),m[4]||(m[4]=v("span",{class:"connection-label"},"Following",-1))]),v("a",{href:"#",class:"connection-stat",onClick:m[3]||(m[3]=et(k=>p("followers"),["prevent"]))},[v("span",yv,D(n.value.followers||0),1),m[5]||(m[5]=v("span",{class:"connection-label"},"Followers",-1))])]),v("div",bv,[m[9]||(m[9]=v("h2",{class:"section-title"},"Profile",-1)),v("div",wv,[n.value.location?(S(),$("div",Sv,[m[6]||(m[6]=v("span",{class:"info-label"},"Location",-1)),v("span",kv,D(n.value.location),1)])):L("",!0),n.value.vision?(S(),$("div",Ev,[m[7]||(m[7]=v("span",{class:"info-label"},"Vision",-1)),v("span",Tv,D(n.value.vision),1)])):L("",!0),n.value.hobby?(S(),$("div",$v,[m[8]||(m[8]=v("span",{class:"info-label"},"Hobby",-1)),v("span",Av,D(n.value.hobby),1)])):L("",!0)])]),n.value.success||n.value.failure?(S(),$("div",Pv,[m[12]||(m[12]=v("h2",{class:"section-title"},"Experience",-1)),v("div",Ov,[n.value.success?(S(),$("div",Cv,[m[10]||(m[10]=v("span",{class:"info-label"},"Success",-1)),v("span",Rv,D(n.value.success),1)])):L("",!0),n.value.failure?(S(),$("div",xv,[m[11]||(m[11]=v("span",{class:"info-label"},"Failure",-1)),v("span",Iv,D(n.value.failure),1)])):L("",!0)])])):L("",!0),(w=n.value.strengths)!=null&&w.length||(x=n.value.weaknesses)!=null&&x.length?(S(),$("div",jv,[m[15]||(m[15]=v("h2",{class:"section-title"},"Skills Assessment",-1)),v("div",Lv,[(A=n.value.strengths)!=null&&A.length?(S(),$("div",Nv,[m[13]||(m[13]=v("h3",{class:"skills-subtitle"},"Strengths",-1)),v("ul",Mv,[(S(!0),$(we,null,Ye(n.value.strengths,k=>(S(),$("li",{key:k},D(k),1))),128))])])):L("",!0),(C=n.value.weaknesses)!=null&&C.length?(S(),$("div",Uv,[m[14]||(m[14]=v("h3",{class:"skills-subtitle"},"Weaknesses",-1)),v("ul",Dv,[(S(!0),$(we,null,Ye(n.value.weaknesses,k=>(S(),$("li",{key:k},D(k),1))),128))])])):L("",!0)])])):L("",!0)])):r.value?(S(),$("div",Hv,[v("p",Fv,D(r.value),1)])):L("",!0)])}}},Vv=Fe(Bv,[["__scopeId","data-v-f346e25c"]]),Gv={class:"profile-update-container"},qv={class:"form-section"},Kv={class:"form-group"},zv={key:0,class:"error-message"},Wv={class:"form-group"},Jv={key:0,class:"error-message"},Xv={class:"form-group"},Yv={key:0,class:"error-message"},Qv={class:"form-group"},Zv={key:0,class:"error-message"},em={class:"form-group"},tm={key:0,class:"error-message"},sm={class:"form-section"},nm={class:"form-group"},rm={key:0,class:"error-message"},im={class:"form-section"},om={class:"form-group"},am={key:0,class:"error-message"},lm={class:"form-group"},cm={key:0,class:"error-message"},um={class:"form-section"},fm={class:"list-items"},hm=["for"],dm=["id","onUpdate:modelValue"],pm={key:0,class:"error-message"},gm={key:1,class:"error-message"},vm={class:"form-section"},mm={class:"list-items"},_m=["for"],ym=["id","onUpdate:modelValue"],bm={key:0,class:"error-message"},wm={key:1,class:"error-message"},Sm={key:0,class:"error-message"},km={class:"form-actions"},Em=["disabled"],Tm={key:0,class:"response-message"},$m={__name:"PersonProfileUpdate",setup(e){const t=`${Te}/functions/v1/user-profile-edit`,s=`${Te}/functions/v1/get-user-profile`,n=Y({name:"",surname:"",username:"",vision:"",location:"",success:"",failure:"",strengths:["","","","",""],weaknesses:["","","","",""],hobby:""}),r=Y(""),i=Y({}),o=Y(Array(5).fill(null)),a=Y(Array(5).fill(null)),l=Y(!1),u=ke(()=>(c(),Object.keys(i.value).length===0)),c=()=>{i.value={},o.value=Array(5).fill(null),a.value=Array(5).fill(null);let d=!0;!n.value.name||n.value.name.length<U.NAME_MIN_LENGTH?(i.value.name=`Name must be at least ${U.NAME_MIN_LENGTH} characters`,d=!1):n.value.name.length>U.NAME_MAX_LENGTH&&(i.value.name=`Name cannot exceed ${U.NAME_MAX_LENGTH} characters`,d=!1),!n.value.surname||n.value.surname.length<U.NAME_MIN_LENGTH?(i.value.surname=`Last name must be at least ${U.NAME_MIN_LENGTH} characters`,d=!1):n.value.surname.length>U.NAME_MAX_LENGTH&&(i.value.surname=`Last name cannot exceed ${U.NAME_MAX_LENGTH} characters`,d=!1),!n.value.username||n.value.username.length<U.NAME_MIN_LENGTH?(i.value.username=`Username must be at least ${U.NAME_MIN_LENGTH} characters`,d=!1):n.value.username.length>U.NAME_MAX_LENGTH&&(i.value.username=`Username cannot exceed ${U.NAME_MAX_LENGTH} characters`,d=!1),!n.value.location||n.value.location.length<U.LOCATION_MIN_LENGTH?(i.value.location=`Location must be at least ${U.LOCATION_MIN_LENGTH} characters`,d=!1):n.value.location.length>U.LOCATION_MAX_LENGTH&&(i.value.location=`Location cannot exceed ${U.LOCATION_MAX_LENGTH} characters`,d=!1),n.value.hobby&&n.value.hobby.length<U.HOBBY_MIN_LENGTH?(i.value.hobby=`Hobby must be at least ${U.HOBBY_MIN_LENGTH} characters`,d=!1):n.value.hobby&&n.value.hobby.length>U.HOBBY_MAX_LENGTH&&(i.value.hobby=`Hobby cannot exceed ${U.HOBBY_MAX_LENGTH} characters`,d=!1),!n.value.vision||n.value.vision.length<U.VISION_MIN_LENGTH?(i.value.vision=`Vision statement must be at least ${U.VISION_MIN_LENGTH} characters`,d=!1):n.value.vision.length>U.VISION_MAX_LENGTH&&(i.value.vision=`Vision statement cannot exceed ${U.VISION_MAX_LENGTH} characters`,d=!1),!n.value.success||n.value.success.length<U.SUCCESS_MIN_LENGTH?(i.value.success=`Success definition must be at least ${U.SUCCESS_MIN_LENGTH} characters`,d=!1):n.value.success.length>U.SUCCESS_MAX_LENGTH&&(i.value.success=`Success definition cannot exceed ${U.SUCCESS_MAX_LENGTH} characters`,d=!1),!n.value.failure||n.value.failure.length<U.FAILURE_MIN_LENGTH?(i.value.failure=`Failure definition must be at least ${U.FAILURE_MIN_LENGTH} characters`,d=!1):n.value.failure.length>U.FAILURE_MAX_LENGTH&&(i.value.failure=`Failure definition cannot exceed ${U.FAILURE_MAX_LENGTH} characters`,d=!1);for(let p=0;p<n.value.strengths.length;p++){const y=n.value.strengths[p],m=n.value.weaknesses[p];y&&y.length<U.STRENGTH_MIN_LENGTH?(o.value[p]=`Strength #${p+1} must be at least ${U.STRENGTH_MIN_LENGTH} characters`,d=!1):y&&y.length>U.STRENGTH_MAX_LENGTH&&(o.value[p]=`Strength #${p+1} cannot exceed ${U.STRENGTH_MAX_LENGTH} characters`,d=!1),m&&m.length<U.WEAKNESS_MIN_LENGTH?(a.value[p]=`Weakness #${p+1} must be at least ${U.WEAKNESS_MIN_LENGTH} characters`,d=!1):m&&m.length>U.WEAKNESS_MAX_LENGTH&&(a.value[p]=`Weakness #${p+1} cannot exceed ${U.WEAKNESS_MAX_LENGTH} characters`,d=!1),(y&&!m||!y&&m)&&(y&&!m?a.value[p]=`Please provide a matching weakness for Strength #${p+1}`:!y&&m&&(o.value[p]=`Please provide a matching strength for Weakness #${p+1}`),d=!1)}return d},f=async()=>{var d,p;try{if(!c()){r.value="Please fix the validation errors before submitting.";return}l.value=!0;const{data:y}=await ye.auth.getSession(),m=y==null?void 0:y.session;if(!m||!m.access_token){r.value="User not authenticated. Please log in.",l.value=!1;return}const w=Nn(n.value),A=await(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify(w)})).json();A.validationErrors?(i.value=A.validationErrors,o.value=((d=A.validationErrors)==null?void 0:d.strengths)||[],a.value=((p=A.validationErrors)==null?void 0:p.weaknesses)||[],r.value="Server validation failed. Please check the highlighted fields."):(r.value=A.error?`Error: ${A.error}`:"Profile updated successfully!",A.error||setTimeout(()=>{r.value=""},3e3))}catch(y){console.error("Profile update error:",y),r.value=`Error: ${y.message||"An unexpected error occurred"}`}finally{l.value=!1}};return Tt(async()=>{try{const{data:d}=await ye.auth.getSession(),p=d==null?void 0:d.session;if(!p||!p.access_token){r.value="User not authenticated. Please log in.";return}const y=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`}});if(!y.ok)throw new Error("Failed to fetch user profile data");const m=await y.json();n.value={name:m.name||"",surname:m.surname||"",username:m.username||"",vision:m.vision||"",location:m.location||"",success:m.success||"",failure:m.failure||"",strengths:Array.isArray(m.strengths)?m.strengths.slice(0,5).concat(Array(5-Math.min(m.strengths.length,5)).fill("")):["","","","",""],weaknesses:Array.isArray(m.weaknesses)?m.weaknesses.slice(0,5).concat(Array(5-Math.min(m.weaknesses.length,5)).fill("")):["","","","",""],hobby:m.hobby||""}}catch(d){r.value=`Error: ${d.message}`}}),(d,p)=>(S(),$("div",Gv,[p[23]||(p[23]=v("h1",{class:"page-title"},"User Profile Update",-1)),v("form",{onSubmit:et(f,["prevent"]),class:"profile-form"},[v("div",qv,[p[15]||(p[15]=v("h2",{class:"section-title"},"Personal Information",-1)),v("div",Kv,[p[10]||(p[10]=v("label",{for:"first-name"},"First Name",-1)),ce(v("input",{type:"text",id:"first-name","onUpdate:modelValue":p[0]||(p[0]=y=>n.value.name=y),required:"",class:"form-input"},null,512),[[ve,n.value.name]]),i.value.name?(S(),$("span",zv,D(i.value.name),1)):L("",!0)]),v("div",Wv,[p[11]||(p[11]=v("label",{for:"surname"},"Last Name",-1)),ce(v("input",{type:"text",id:"surname","onUpdate:modelValue":p[1]||(p[1]=y=>n.value.surname=y),required:"",class:"form-input"},null,512),[[ve,n.value.surname]]),i.value.surname?(S(),$("span",Jv,D(i.value.surname),1)):L("",!0)]),v("div",Xv,[p[12]||(p[12]=v("label",{for:"username"},"Username",-1)),ce(v("input",{type:"text",id:"username","onUpdate:modelValue":p[2]||(p[2]=y=>n.value.username=y),required:"",class:"form-input"},null,512),[[ve,n.value.username]]),i.value.username?(S(),$("span",Yv,D(i.value.username),1)):L("",!0)]),v("div",Qv,[p[13]||(p[13]=v("label",{for:"location"},"Location",-1)),ce(v("input",{type:"text",id:"location","onUpdate:modelValue":p[3]||(p[3]=y=>n.value.location=y),required:"",class:"form-input"},null,512),[[ve,n.value.location]]),i.value.location?(S(),$("span",Zv,D(i.value.location),1)):L("",!0)]),v("div",em,[p[14]||(p[14]=v("label",{for:"hobby"},"Hobby",-1)),ce(v("textarea",{id:"hobby","onUpdate:modelValue":p[4]||(p[4]=y=>n.value.hobby=y),maxlength:"200",class:"form-textarea"},null,512),[[ve,n.value.hobby]]),i.value.hobby?(S(),$("span",tm,D(i.value.hobby),1)):L("",!0)])]),v("div",sm,[p[17]||(p[17]=v("h2",{class:"section-title"},"Personal Vision",-1)),v("div",nm,[p[16]||(p[16]=v("label",{for:"vision"},"Vision Statement",-1)),ce(v("textarea",{id:"vision","onUpdate:modelValue":p[5]||(p[5]=y=>n.value.vision=y),required:"",class:"form-textarea"},null,512),[[ve,n.value.vision]]),i.value.vision?(S(),$("span",rm,D(i.value.vision),1)):L("",!0)])]),v("div",im,[p[20]||(p[20]=v("h2",{class:"section-title"},"Success & Failure",-1)),v("div",om,[p[18]||(p[18]=v("label",{for:"success"},"Success Definition",-1)),ce(v("textarea",{id:"success","onUpdate:modelValue":p[6]||(p[6]=y=>n.value.success=y),required:"",class:"form-textarea"},null,512),[[ve,n.value.success]]),i.value.success?(S(),$("span",am,D(i.value.success),1)):L("",!0)]),v("div",lm,[p[19]||(p[19]=v("label",{for:"failure"},"Failure Definition",-1)),ce(v("textarea",{id:"failure","onUpdate:modelValue":p[7]||(p[7]=y=>n.value.failure=y),required:"",class:"form-textarea"},null,512),[[ve,n.value.failure]]),i.value.failure?(S(),$("span",cm,D(i.value.failure),1)):L("",!0)])]),v("div",um,[p[21]||(p[21]=v("h2",{class:"section-title"},[kt("Strengths "),v("span",{class:"field-limit"},"(max 5)")],-1)),v("div",fm,[(S(!0),$(we,null,Ye(n.value.strengths,(y,m)=>(S(),$("div",{key:`strength-${m}`,class:"form-group"},[v("label",{for:`strength-${m}`},"Strength "+D(m+1),9,hm),ce(v("input",{type:"text",class:"form-input",id:`strength-${m}`,"onUpdate:modelValue":w=>n.value.strengths[m]=w,onInput:p[8]||(p[8]=(...w)=>d.validateProfileDetails&&d.validateProfileDetails(...w))},null,40,dm),[[ve,n.value.strengths[m]]]),i.value[`strength${m+1}`]?(S(),$("span",pm,D(i.value[`strength${m+1}`]),1)):L("",!0),o.value[m]?(S(),$("span",gm,D(o.value[m]),1)):L("",!0)]))),128))])]),v("div",vm,[p[22]||(p[22]=v("h2",{class:"section-title"},[kt("Weaknesses "),v("span",{class:"field-limit"},"(max 5)")],-1)),v("div",mm,[(S(!0),$(we,null,Ye(n.value.weaknesses,(y,m)=>(S(),$("div",{key:`weakness-${m}`,class:"form-group"},[v("label",{for:`weakness-${m}`},"Weakness "+D(m+1),9,_m),ce(v("input",{type:"text",class:"form-input",id:`weakness-${m}`,"onUpdate:modelValue":w=>n.value.weaknesses[m]=w,onInput:p[9]||(p[9]=(...w)=>d.validateProfileDetails&&d.validateProfileDetails(...w))},null,40,ym),[[ve,n.value.weaknesses[m]]]),i.value[`weakness${m+1}`]?(S(),$("span",bm,D(i.value[`weakness${m+1}`]),1)):L("",!0),a.value[m]?(S(),$("span",wm,D(a.value[m]),1)):L("",!0)]))),128))]),i.value.strengths||i.value.weaknesses?(S(),$("span",Sm,"The number of strengths and weaknesses must be equal")):L("",!0)]),v("div",km,[v("button",{type:"submit",class:"btn-submit",disabled:!u.value||l.value},"Save Profile",8,Em)])],32),r.value?(S(),$("div",Tm,D(r.value),1)):L("",!0)]))}},Am=Fe($m,[["__scopeId","data-v-f6db5dcc"]]),Pm={class:"timeline"},Om={key:0,class:"error"},Cm={class:"events"},Rm=["innerHTML"],xm={key:1,class:"loading"},Im={key:3,class:"end"},jm={__name:"Timeline",setup(e){const t=ns(),s=Y([]),n=Y(!1),r=Y(""),i=Y(!1),o=Y(null),a=Y(null),l=new Map;function u(){var q,V;const k=Object.keys(localStorage).filter(B=>B.startsWith("sb-")&&B.endsWith("-auth-token"));for(const B of k)try{const J=localStorage.getItem(B);if(!J)continue;const Q=JSON.parse(J),he=(Q==null?void 0:Q.access_token)||((q=Q==null?void 0:Q.currentSession)==null?void 0:q.access_token)||((V=Q==null?void 0:Q.session)==null?void 0:V.access_token);if(he)return a.value=he,he}catch{}return null}async function c(k=5){if(a.value)return a.value;let q=u(),V=0;for(;!q&&V<k;)await new Promise(B=>setTimeout(B,300)),q=u(),V++;return q}async function f(k=!1){if(!(n.value||i.value)){n.value=!0,r.value="";try{const q=await c();if(!q)throw new Error("Not authenticated (token missing)");const V=new URL(`${Te}/functions/v1/timeline`);!k&&o.value&&V.searchParams.set("before",o.value),V.searchParams.set("limit","20");const B=await fetch(V.toString(),{headers:{Authorization:`Bearer ${q}`}});if(!B.ok)throw new Error("Failed to load timeline");const Q=(await B.json()).events||[];Q.length===0?i.value=!0:(s.value.push(...Q),o.value=Q[Q.length-1].created_at,await h(Q,q))}catch(q){r.value=q instanceof Error?q.message:"Unknown error"}finally{n.value=!1}}}async function h(k,q){const V=new Set;k.forEach(B=>{B.actor_userid&&!l.has(B.actor_userid)&&V.add(B.actor_userid),B.target_userid&&!l.has(B.target_userid)&&V.add(B.target_userid)});for(const B of V)try{const J=new URL(`${Te}/functions/v1/get-user-profile`);J.searchParams.set("lookUserID",B);const Q=await fetch(J.toString(),{headers:{Authorization:`Bearer ${q}`}});if(!Q.ok)continue;const he=await Q.json();let be;he.username?be=he.username:he.name?be=he.name:be="user",l.set(B,{display:be})}catch{}}function d(k,q){const V=q?"CompanyProfileShow":"PersonProfileShow";return t.resolve({name:V,params:{userID:k}}).href}function p(k){var V,B;const q=new Date(k.created_at).toLocaleString();switch(k.event_type){case"profile_update":{const he=(((V=k.metadata)==null?void 0:V.changes)||[]).map(be=>`${C(be.field)}: ${C(A(be.value))}`).join("<br>");return{time:q,html:`${y(k)} updated profile<br><span class="changes">${he}</span>`}}case"endorsement":return{time:q,html:`${y(k)} endorsed ${m(k)}:<br>&quot;${C(((B=k.metadata)==null?void 0:B.text)||"")}&quot;`};case"follow":return{time:q,html:`${y(k)} started following ${m(k)}`};default:return{time:q,html:`${k.event_type}`}}}function y(k){return w(k.actor_userid,k.actor_is_company)}function m(k){return k.target_userid?w(k.target_userid,k.target_is_company):""}function w(k,q){return`<a href="${d(k,q)}">${x(k)}</a>`}function x(k,q){const V=l.get(k);return V?V.display:""}function A(k){Array.isArray(k)&&(k=k.join("|"));const q=String(k??"");return q.length>40?q.slice(0,37)+"":q}function C(k){return k.replace(/[&<>"']/g,q=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[q])}return Tt(()=>f(!0)),(k,q)=>(S(),$("div",Pm,[q[1]||(q[1]=v("h1",null,"Timeline",-1)),r.value?(S(),$("div",Om,D(r.value),1)):L("",!0),v("ul",Cm,[(S(!0),$(we,null,Ye(s.value,V=>(S(),$("li",{key:V.id,innerHTML:p(V).time+": "+p(V).html},null,8,Rm))),128))]),n.value?(S(),$("div",xm,"Loading...")):L("",!0),!n.value&&!i.value?(S(),$("button",{key:2,onClick:q[0]||(q[0]=V=>f())},"Load more")):L("",!0),i.value?(S(),$("div",Im,"No more events")):L("",!0)]))}},Lm=Fe(jm,[["__scopeId","data-v-4d6a807d"]]),Nm={class:"notifications"},Mm={class:"summary"},Um={class:"events"},Dm={class:"meta"},Hm=["innerHTML"],Fm={key:0,class:"body"},Bm={__name:"Notifications",setup(e){const t=Ml(),s=ns();Tt(async()=>{await t.fetchForCurrentUser()});function n(a,l){const u=l?"CompanyProfileShow":"PersonProfileShow";return s.resolve({name:u,params:{userID:a}}).href}function r(a){var d;const l=new Date(a.created_at).toLocaleString(),u=a.actor_display||"Someone",c=a.actor_userid?`<a href="${n(a.actor_userid,a.actor_is_company)}">${o(u)}</a>`:o(u),f=(()=>{switch(a.event_type){case"follow":return`${c} started following you`;case"endorsement":return`${c} endorsed you`;default:return o(a.event_type)}})(),h=((d=a.metadata)==null?void 0:d.text)||"";return{time:l,title:f,body:h}}function i(){t.markAllRead()}function o(a){return String(a||"").replace(/[&<>"']/g,l=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[l])}return(a,l)=>(S(),$("div",Nm,[l[0]||(l[0]=v("h1",null,"Notifications",-1)),v("div",Mm,"Unread: "+D(ft(t).unreadCount),1),v("button",{onClick:i,class:"menu-btn"},"Mark all read"),v("ul",Um,[(S(!0),$(we,null,Ye(ft(t).items,u=>(S(),$("li",{key:u.id,class:wt({unread:!u.read})},[v("div",Dm,D(r(u).time),1),v("div",{class:"title",innerHTML:r(u).title},null,8,Hm),r(u).body?(S(),$("div",Fm,D(r(u).body),1)):L("",!0)],2))),128))])]))}},Vm=Fe(Bm,[["__scopeId","data-v-7711cba4"]]),Gm={key:0},qm=["checked","onChange"],Km={key:1},zm={class:"form-actions"},Wm=["disabled"],Jm={__name:"Settings",setup(e){const t=Y(!1),s=Cs({items:[]});async function n(){var o;t.value=!0;try{const{data:a}=await ye.auth.getSession(),l=(o=a==null?void 0:a.session)==null?void 0:o.access_token;if(!l)return;const u=new URL(`${Te}/functions/v1/notification_settings`),c=await fetch(u.toString(),{headers:{Authorization:`Bearer ${l}`}});if(!c.ok)return;const f=await c.json();s.items=(f.settings||[]).map(h=>({...h}))}finally{t.value=!1}}function r(o){s.items[o].enabled=!s.items[o].enabled}async function i(){var o;try{const{data:a}=await ye.auth.getSession(),l=(o=a==null?void 0:a.session)==null?void 0:o.access_token;if(!l)return;const u=new URL(`${Te}/functions/v1/notification_settings`),c=s.items.map(h=>({event_type:h.event_type,enabled:!!h.enabled}));(await fetch(u.toString(),{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&await n()}catch(a){console.error(a)}}return Tt(n),(o,a)=>(S(),$("div",null,[a[0]||(a[0]=v("h1",null,"Notification Settings",-1)),t.value?(S(),$("div",Gm,"Loading...")):L("",!0),v("ul",null,[(S(!0),$(we,null,Ye(s.items,(l,u)=>(S(),$("li",{key:l.event_type},[v("label",null,[v("input",{type:"checkbox",checked:l.enabled,onChange:c=>r(u)},null,40,qm),kt(" "+D(l.event_type),1)])]))),128))]),!t.value&&s.items.length===0?(S(),$("div",Km,"No settings found. Defaults apply (all enabled).")):L("",!0),v("div",zm,[v("button",{type:"button",onClick:i,class:"btn-submit",disabled:t.value||s.items.length===0},"Save",8,Wm)])]))}},Xm=Fe(Jm,[["__scopeId","data-v-8258fd7f"]]),Ym={},Qm={class:"init-page"};function Zm(e,t){return S(),$("div",Qm,t[0]||(t[0]=[v("h1",null,"Init Page",-1),v("p",null,"Coming soon...",-1)]))}const e_=Fe(Ym,[["render",Zm]]),t_={id:"mainContent"},s_={id:"searchResults"},n_={key:0},r_={key:1},i_=["href","onClick"],o_={class:"result-header"},a_={class:"result-name"},l_={key:0,class:"result-surname"},c_={class:"result-vision"},u_={__name:"SearchResults",setup(e){const t=Qn(),s=ns(),n=vi(),r=mi(),i=_i(),o=ke(()=>{const u=t.params.type;return u==="following"?i.results:u==="followers"?r.results:u==="search"?n.results:(console.error("Invalid type:",u),[])}),a=(u,c)=>{if(c==="person")return s.resolve({name:"PersonProfileShow",params:{userID:u}}).href;if(c==="company")return s.resolve({name:"CompanyProfileShow",params:{userID:u}}).href},l=(u,c,f)=>{if(u.button===1){const h=a(c,f);window.open(h,"_blank")}else f==="person"?s.push({name:"PersonProfileShow",params:{userID:c}}):f==="company"&&s.push({name:"CompanyProfileShow",params:{userID:c}})};return(u,c)=>(S(),$("div",t_,[v("div",s_,[o.value.length===0?(S(),$("p",n_,"No results found.")):L("",!0),o.value.length>0?(S(),$("div",r_,[(S(!0),$(we,null,Ye(o.value,f=>(S(),$("div",{key:f.userid,class:"result-item"},[v("a",{href:a(f.userid,f.surname?"person":"company"),onClick:et(h=>l(h,f.userid,f.surname?"person":"company"),["prevent"])},[v("div",o_,[v("h2",a_,[kt(D(f.name)+" ",1),f.surname?(S(),$("span",l_,D(f.surname),1)):L("",!0)]),v("p",c_,[c[0]||(c[0]=v("span",{class:"vision-label"},"Vision:",-1)),kt(" "+D(f.vision),1)])])],8,i_)]))),128))])):L("",!0)])]))}},wr=Fe(u_,[["__scopeId","data-v-c901e112"]]),f_=[{path:"/",name:"Timeline",component:Lm},{path:"/notifications",name:"Notifications",component:Vm},{path:"/settings",name:"Settings",component:Xm},{path:"/init_page",name:"InitPage",component:e_},{path:"/register",component:Xp},{path:"/company_profile_show/:userID",name:"CompanyProfileShow",component:Ag,props:!0},{path:"/person_profile_show/:userID",name:"PersonProfileShow",component:Vv,props:!0},{path:"/company_profile_update",name:"CompanyProfileUpdate",component:lv},{path:"/person_profile_update",name:"PersonProfileUpdate",component:Am,props:!0},{path:"/search_results/:type",name:"SearchResults",component:wr,props:!0},{path:"/followers/:type",name:"Followers",component:wr,props:!0},{path:"/following/:type",name:"Following",component:wr,props:!0}],Dl=hp({history:Fd("/SocSite/"),routes:f_});Dl.beforeEach((e,t,s)=>{if(e.name==="SearchResults"&&e.params.type==="search"){const n=vi();t.name&&t.name.includes("Profile")||n&&n.results&&n.results.length>0?s():(console.warn("No search results available, redirecting to Timeline"),s({name:"Timeline"}))}else s()});const yi=of(Dp),h_=pp();yi.use(Dl);yi.use(h_);yi.mount("#app");export{mf as g};
